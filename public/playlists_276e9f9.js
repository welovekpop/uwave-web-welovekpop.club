(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{656:function(e,t,n){"use strict";var a=n(1),i=n.n(a),o=n(13);t.a=Object(o.a)(i.a.createElement("g",null,i.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})),"ModeEdit")},667:function(e,t,n){var a=n(198),i=n(252),o=NaN,l=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return o;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(l,"");var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):r.test(e)?o:+e}},668:function(e,t,n){var a=n(382);e.exports=function(){return a.Date.now()}},669:function(e,t,n){var a=n(198),i=n(668),o=n(667),l="Expected a function",r=Math.max,s=Math.min;e.exports=function(e,t,n){var c,u,d,p,v,m,f=0,y=!1,h=!1,P=!0;if("function"!=typeof e)throw new TypeError(l);function b(t){var n=c,a=u;return c=u=void 0,f=t,p=e.apply(a,n)}function g(e){var n=e-m;return void 0===m||n>=t||n<0||h&&e-f>=d}function M(){var e=i();if(g(e))return C(e);v=setTimeout(M,function(e){var n=t-(e-m);return h?s(n,d-(e-f)):n}(e))}function C(e){return v=void 0,P&&c?b(e):(c=u=void 0,p)}function S(){var e=i(),n=g(e);if(c=arguments,u=this,m=e,n){if(void 0===v)return function(e){return f=e,v=setTimeout(M,t),y?b(e):p}(m);if(h)return v=setTimeout(M,t),b(m)}return void 0===v&&(v=setTimeout(M,t)),p}return t=o(t)||0,a(n)&&(y=!!n.leading,d=(h="maxWait"in n)?r(o(n.maxWait)||0,t):d,P="trailing"in n?!!n.trailing:P),S.cancel=function(){void 0!==v&&clearTimeout(v),f=0,c=m=u=v=void 0},S.flush=function(){return void 0===v?p:C(i())},S}},670:function(e,t,n){"use strict";n.d(t,"a",function(){return M});var a=n(0),i=n.n(a),o=n(15),l=n.n(o),r=n(12),s=n.n(r),c=n(5),u=n.n(c),d=n(1),p=n.n(d),v=(n(3),n(819)),m=n(817),f=n(827),y=n(36),h=n(21),P=n(35),b=i()("div",{className:"ConfirmDialog-spacer"}),g=i()("div",{className:"Button-loading"},void 0,i()(f.a,{size:"100%"})),M=function(e){function t(){for(var t,n,a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={busy:!1},n.handleSubmit=function(e){e.preventDefault()},n.handleConfirm=function(e){e.preventDefault();var t=n.props.onConfirm();if(t&&t.then){n.setState({busy:!0});var a=function(){n.setState({busy:!1})};t.then(a,a)}},n.handleClose=function(e){e&&e.preventDefault&&e.preventDefault(),n.props.onCancel()},t||l()(n)}return s()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.cancelLabel,a=e.confirmLabel,o=e.className,l=this.state.busy;return i()(v.a,{className:u()("Dialog",o),onClose:this.handleClose,open:!0},void 0,i()(m.a,{className:"Dialog-body"},void 0,i()(y.a,{onSubmit:this.handleSubmit},void 0,t,i()(h.a,{className:"ConfirmDialog-buttons FormGroup--noSpacing"},void 0,i()("div",{className:"ConfirmDialog-button"},void 0,i()(P.a,{disabled:l,onClick:this.handleClose},void 0,n)),b,i()("div",{className:"ConfirmDialog-button"},void 0,i()(P.a,{disabled:l,onClick:this.handleConfirm},void 0,l?g:a))))))},t}(p.a.Component);M.defaultProps={cancelLabel:"Cancel",confirmLabel:"OK"},M.propTypes={}},788:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(5),l=n.n(o),r=n(1),s=n.n(r),c=(n(3),n(78)),u=n(18),d=n(14),p=n(7),v=n(26),m=n(4);function f(){return{type:m.SHOW_IMPORT_PANEL}}function y(e){return{type:m.SHOW_IMPORT_SOURCE_PANEL,payload:{sourceType:e}}}function h(){return{type:m.HIDE_IMPORT_SOURCE_PANEL}}var P=n(16);function b(){return{type:m.SHOW_SEARCH_RESULTS}}function g(){return{type:m.SEARCH_DELETE}}var M=n(27),C=n(153),S=n(160),O=n(821),N=n(12),E=n.n(N),R=n(58),T=n(827),w=n(820),D=n(178),A=n(64),j=Object(R.DropTarget)(A.MEDIA,{drop:function(e,t){(0,e.onAddToPlaylist)(e.playlist,t.getItem().media)}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}),k={root:"PlaylistMenuRow",selected:"is-selected"},I=i()("div",{className:"PlaylistMenuRow-loading"},void 0,i()(T.a,{size:"100%"})),L=i()("div",{className:"PlaylistMenuRow-active-icon"},void 0,i()(D.a,{})),_=function(e){function t(){return e.apply(this,arguments)||this}return E()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.playlist,a=t.selected,o=t.onClick,r=n.active&&"is-active",s=t.isOver&&"is-droppable";return n.creating?e=I:n.active&&(e=L),(0,t.connectDropTarget)(i()("div",{},void 0,i()(w.a,{selected:a,className:l()(r,s),classes:k,onClick:o},void 0,i()("div",{className:"PlaylistMenuRow-title"},void 0,e,n.name),i()("div",{className:"PlaylistMenuRow-count"},void 0,n.size))))},t}(s.a.Component);_.propTypes={};var F=j(_),H=n(15),z=n.n(H),B=n(10),x=n(120),q=n(251),V=Object(B.c)(),W=i()("div",{className:"PlaylistMenuRow-active-icon"},void 0,i()(x.a,{})),K=i()(x.a,{nativeColor:"#777"}),U=function(e){function t(){for(var t,n,a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={creating:!1},n.handleOpen=function(){n.setState({creating:!0})},n.handleClose=function(){n.closeDialog()},n.handleSubmit=function(e){return Promise.resolve(n.props.onCreatePlaylist(e)).then(n.closeDialog.bind(z()(z()(n))))},t||z()(n)}E()(t,e);var n=t.prototype;return n.closeDialog=function(){this.setState({creating:!1})},n.render=function(){var e=this.props,t=e.t,n=e.className;return i()(s.a.Fragment,{},void 0,i()(w.a,{className:l()("PlaylistMenuRow","PlaylistMenuRow--create",n),onClick:this.handleOpen},void 0,i()("div",{className:"PlaylistMenuRow-title"},void 0,W,t("playlists.new"))),this.state.creating&&i()(q.a,{title:t("dialogs.createPlaylist.nameInputTitle"),icon:K,submitLabel:t("dialogs.createPlaylist.action"),onSubmit:this.handleSubmit,onCancel:this.handleClose}))},t}(s.a.Component);U.propTypes={};var $=V(U),J=n(828),Q=n(826),G=n(13),X=Object(G.a)(s.a.createElement("g",null,s.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})),"Search"),Y=n(119),Z=i()("div",{className:"PlaylistMenuRow-active-icon"},void 0,i()(X,{})),ee=i()(Y.a,{nativeColor:"#777"}),te=function(e){var t=e.className,n=e.query,a=e.onClick,o=e.onClose;return i()(Q.a,{role:"menuitem",className:l()("PlaylistMenuRow","PlaylistMenuRow--search",t)},void 0,i()("button",{className:"PlaylistMenuRow-title",onClick:a},void 0,Z,'"',n,'"'),i()("div",{className:"PlaylistMenuRow-count"},void 0,i()(J.a,{className:"PlaylistMenuRow-closeButton",onClick:o},void 0,ee)))};te.propTypes={};var ne=te,ae=Object(G.a)(s.a.createElement("g",null,s.a.createElement("path",{d:"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"})),"Input"),ie=Object(B.c)(),oe=i()("div",{className:"PlaylistMenuRow-loading"},void 0,i()(T.a,{size:"100%"})),le=i()("div",{className:"PlaylistMenuRow-active-icon"},void 0,i()(ae,{})),re=function(e){var t,n=e.t,a=e.className,o=e.onClick;return t=e.importing?oe:le,i()(w.a,{className:l()("PlaylistMenuRow","PlaylistMenuRow--import",a),onClick:o},void 0,i()("div",{className:"PlaylistMenuRow-title"},void 0,t,n("playlists.import.title")))};re.propTypes={};var se=ie(re),ce=function(e){var t=e.className,n=e.playlists,a=e.selected,o=e.searchQuery,r=e.showSearchResults,s=e.searchResults,c=e.onCreatePlaylist,u=e.onSelectPlaylist,d=e.onSelectSearchResults,p=e.onCloseSearchResults,v=e.onAddToPlaylist,m=e.showImportPanel,f=e.onShowImportPanel,y=r?"is-selected":"",h=m?"is-selected":"",P=a&&!r&&!m;return i()(O.a,{className:l()("PlaylistMenu",t),disablePadding:!0},void 0,i()($,{className:"PlaylistMenu-row",onCreatePlaylist:c}),o&&i()(ne,{className:l()("PlaylistMenu-row",y),query:o,size:s,onClick:d,onClose:p}),n.map(function(e){return i()(F,{className:"PlaylistMenu-row",playlist:e,selected:P&&a._id===e._id,onClick:function(){return u(e._id)},onAddToPlaylist:v},e._id)}),i()(se,{className:l()("PlaylistMenu-row",h),onClick:f}))};ce.propTypes={};var ue=ce,de=Object(p.b)({playlists:M.i,selected:M.k,searchQuery:C.b,showSearchResults:C.f,searchResults:C.c,showImportPanel:S.b}),pe=Object(d.b)(de,function(e){return Object(u.b)({onAddToPlaylist:v.addMedia,onCreatePlaylist:v.createPlaylist,onSelectPlaylist:v.selectPlaylist,onSelectSearchResults:b,onCloseSearchResults:g,onShowImportPanel:f},e)})(ue),ve=n(2),me=n.n(ve),fe=n(33),ye=n(159),he=n(780),Pe=Object(G.a)(s.a.createElement("g",null,s.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),"CheckBox"),be=Object(G.a)(s.a.createElement("g",null,s.a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),"CheckBoxOutlineBlank"),ge=n(785),Me=n(656),Ce=Object(B.c)(),Se=i()(Me.a,{}),Oe=i()(Me.a,{nativeColor:"#777"}),Ne=function(e){function t(){for(var t,n,a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={renaming:!1},n.handleOpen=function(){n.setState({renaming:!0})},n.handleClose=function(){n.closeDialog()},n.handleSubmit=function(e){return n.props.onRename(e).then(n.closeDialog.bind(z()(z()(n))))},t||z()(n)}E()(t,e);var n=t.prototype;return n.closeDialog=function(){this.setState({renaming:!1})},n.render=function(){var e=this.props.t;return i()(s.a.Fragment,{},void 0,i()(ge.a,{title:e("playlists.rename"),placement:"top"},void 0,i()(J.a,{className:"PlaylistMeta-iconButton",onClick:this.handleOpen},void 0,Se)),this.state.renaming&&i()(q.a,{title:e("dialogs.renamePlaylist.nameInputTitle"),submitLabel:e("dialogs.renamePlaylist.action"),icon:Oe,value:this.props.initialName,onSubmit:this.handleSubmit,onCancel:this.handleClose}))},t}(s.a.Component);Ne.propTypes={};var Ee=Ce(Ne),Re=Object(G.a)(s.a.createElement("g",null,s.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})),"Delete"),Te=n(670),we=n(21),De=Object(B.c)(),Ae=i()(Re,{}),je=function(e){function t(){for(var t,n,a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={deleting:!1},n.handleOpen=function(){n.props.active?n.props.onNotDeletable():n.setState({deleting:!0})},n.handleClose=function(){n.closeDialog()},n.handleConfirm=function(e){return n.props.onDelete(e).then(n.closeDialog.bind(z()(z()(n))))},t||z()(n)}E()(t,e);var n=t.prototype;return n.closeDialog=function(){this.setState({deleting:!1})},n.render=function(){var e=this.props,t=e.t,n=e.active;return i()(s.a.Fragment,{},void 0,i()(ge.a,{title:t(n?"playlists.deleteActive":"playlists.delete"),placement:"top"},void 0,i()(J.a,{disabled:n,className:"PlaylistMeta-iconButton",onClick:this.handleOpen},void 0,Ae)),this.state.deleting&&i()(Te.a,{title:t("dialogs.deletePlaylist.title"),confirmLabel:t("dialogs.deletePlaylist.action"),onConfirm:this.handleConfirm,onCancel:this.handleClose},void 0,i()(we.a,{},void 0,t("dialogs.deletePlaylist.confirm"))))},t}(s.a.Component);je.propTypes={};var ke=De(je),Ie=n(17),Le=n.n(Ie),_e=n(105),Fe=n.n(_e),He=n(81),ze=n.n(He),Be=Object(G.a)(s.a.createElement("g",null,s.a.createElement("path",{d:"M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"})),"Shuffle"),xe=Le()(Fe()("isLoading","setLoading",!1),ze()({onClick:function(e){return function(){e.setLoading(!0),e.onShuffle().then(function(){e.setLoading(!1)},function(){e.setLoading(!1)})}}}),Object(B.c)()),qe=i()(T.a,{size:"100%"}),Ve=i()(Be,{}),We=function(e){var t=e.t,n=e.isLoading,a=e.onClick;return i()(ge.a,{title:t("playlists.shuffle"),placement:"top"},void 0,i()(J.a,{className:"PlaylistMeta-iconButton",onClick:a},void 0,n?qe:Ve))};We.propTypes={};var Ke=xe(We),Ue=n(669),$e=n.n(Ue),Je=Object(B.c)(),Qe=function(e){function t(){for(var t,n,a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={open:!1,value:""},n.onFilter=$e()(function(e){n.props.onFilter(e)},200),n.handleClick=function(){var e=!n.state.open;e||n.clearFilter(),n.setState({open:e,value:""},function(){e&&n.input.focus()})},n.handleChange=function(e){n.setState({value:e.target.value}),n.onFilter(e.target.value)},n.refInput=function(e){n.input=e},t||z()(n)}E()(t,e);var n=t.prototype;return n.clearFilter=function(){""!==this.state.value&&this.props.onFilter("")},n.render=function(){var e=this.props.t,t=this.state.open;return i()("div",{className:"PlaylistMediaFilter"},void 0,i()(ge.a,{title:e("playlists.filter"),placement:"top"},void 0,i()(J.a,{className:"PlaylistMeta-iconButton",onClick:this.handleClick},void 0,i()(X,{nativeColor:t?"#fff":null}))),s.a.createElement("input",{type:"text",ref:this.refInput,className:l()("PlaylistMediaFilter-input",t&&"is-open"),value:this.state.value,onChange:this.handleChange}))},t}(s.a.Component);Qe.propTypes={};var Ge=Je(Qe),Xe=Object(B.c)(),Ye="playlist-meta-active",Ze=i()(be,{}),et=i()(Pe,{nativeColor:"#fff"}),tt=function(e){var t=e.t,n=e.className,a=e.active,o=e.name,r=e.onShufflePlaylist,s=e.onActivatePlaylist,c=e.onRenamePlaylist,u=e.onDeletePlaylist,d=e.onNotDeletable,p=e.onFilter;return i()("div",{className:l()("PlaylistMeta",n,a&&"PlaylistMeta--active")},void 0,i()("div",{className:"PlaylistMeta-name"},void 0,o),i()("label",{htmlFor:Ye,className:l()("PlaylistMeta-active",a&&"is-active")},void 0,i()(he.a,{id:Ye,checked:a,disabled:a,onChange:a?null:s,icon:Ze,checkedIcon:et}),i()("span",{},void 0,t(a?"playlists.active":"playlists.activate"))),i()(Ge,{onFilter:p}),i()(Ke,{onShuffle:r}),i()(Ee,{initialName:o,onRename:c}),i()(ke,{active:a,onNotDeletable:d,onDelete:u}))};tt.propTypes={};var nt=Xe(tt),at=n(253),it=n(8),ot=n.n(it),lt=n(236),rt={drop:function(e,t,n){var a=t.getItem().media;if(a){var i=e.media._id;if(a.some(function(e){return e._id===i}))return;var o=Object(lt.a)(t,n);e.onMoveMedia(a,o?{before:i}:{after:i})}},hover:function(e,t,n){n.setState({insertingAbove:Object(lt.a)(t,n)})}},st=i()("div",{className:"PlaylistItemRow-drop-indicator"}),ct=function(e){function t(){for(var t,n,a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={insertingAbove:!1},t||z()(n)}return E()(t,e),t.prototype.render=function(){var e=this.props,t=e.connectDropTarget,n=e.isOver,a=ot()(e,["connectDropTarget","isOver"]),o=this.state.insertingAbove,l=st;return t(i()("div",{className:"PlaylistItemRow"},void 0,n&&o&&l,s.a.createElement(at.a,a),n&&!o&&l))},t}(s.a.Component);ct.propTypes={};var ut=Object(R.DropTarget)(A.MEDIA,rt,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})(ct),dt=n(250),pt=n(248),vt=i()(Re,{}),mt=function(e){var t=e.onRemove,n=ot()(e,["onRemove"]);return s.a.createElement(pt.a,me()({},n,{onAction:t}),vt)};mt.propTypes={};var ft=mt,yt=i()(Me.a,{}),ht=function(e){var t=e.onEdit,n=ot()(e,["onEdit"]);return s.a.createElement(pt.a,me()({},n,{onAction:t}),yt)};ht.propTypes={};var Pt=ht,bt=n(268),gt=i()(bt.a,{}),Mt=function(e){var t=e.onFirst,n=ot()(e,["onFirst"]);return s.a.createElement(pt.a,me()({},n,{onAction:t}),gt)};Mt.propTypes={};var Ct=Mt,St=n(269),Ot=i()(St.a,{}),Nt=function(e){var t=e.onLast,n=ot()(e,["onLast"]);return s.a.createElement(pt.a,me()({},n,{onAction:t}),Ot)};Nt.propTypes={};var Et=Nt,Rt=i()("div",{className:"PlaylistPanel-loading"},void 0,i()(T.a,{size:"100%"})),Tt=function(e){var t,n=e.className,a=e.playlist,o=e.media,r=e.isFiltered,s=e.onShufflePlaylist,c=e.onActivatePlaylist,u=e.onRenamePlaylist,d=e.onDeletePlaylist,p=e.onNotDeletable,v=e.onLoadPlaylistPage,m=e.onFilterPlaylistItems,f=e.onMoveMedia,y=e.onOpenPreviewMediaDialog;return t=e.loading?Rt:i()(ye.a,{className:"PlaylistPanel-media",size:o.length,media:o,rowComponent:r?at.a:ut,rowProps:{onMoveMedia:f},onOpenPreviewMediaDialog:y,makeActions:function(e){var t=e.onOpenAddMediaMenu,n=e.onMoveToFirst,a=e.onMoveToLast,o=e.onEditMedia,l=e.onRemoveFromPlaylist,r=e.isFiltered;return function(e,s,c){return[i()(dt.a,{onAdd:function(n){return t(n,e,s)}},"add"),(c>0||r)&&i()(Ct,{onFirst:function(){return n(e,s)}},"first"),0===c&&!r&&i()(Et,{onLast:function(){return a(e,s)}},"last"),i()(Pt,{onEdit:function(){return o(e)}},"edit"),i()(ft,{onRemove:function(){return l(e,s)}},"remove")]}}(e),onRequestPage:v}),i()("div",{className:l()("PlaylistPanel",n)},void 0,i()(nt,{className:"PlaylistPanel-meta",id:a._id,name:a.name,active:a.active,onShufflePlaylist:s,onActivatePlaylist:c,onRenamePlaylist:u,onDeletePlaylist:d,onNotDeletable:p,onFilter:m}),t)};Tt.propTypes={};var wt=Tt,Dt=Object(p.b)({playlist:M.k,media:M.c,loading:M.e,isFiltered:M.d}),At=function(e,t){return t.isSelected(e)?t.get():[e]},jt=function(e,t,n){return Object(v.addMediaMenu)(At(t,n),e)},kt=Object(d.b)(Dt,function(e){return{dispatch:e}},function(e,t,n){var a,i=t.dispatch;return me()({},n,e,Object(u.b)({onShufflePlaylist:v.shufflePlaylist.bind(null,e.playlist._id),onActivatePlaylist:v.activatePlaylist.bind(null,e.playlist._id),onRenamePlaylist:v.renamePlaylist.bind(null,e.playlist._id),onDeletePlaylist:v.deletePlaylist.bind(null,e.playlist._id),onNotDeletable:v.cannotDeleteActivePlaylist,onOpenAddMediaMenu:jt,onOpenPreviewMediaDialog:fe.f,onMoveToFirst:(a=e.playlist._id,function(e,t){return Object(v.moveMedia)(a,At(e,t),{at:"start"})}),onMoveToLast:function(e){return function(t,n){return Object(v.moveMedia)(e,At(t,n),{at:"end"})}}(e.playlist._id),onMoveMedia:function(e){return function(t,n){return Object(v.moveMedia)(e,t,n)}}(e.playlist._id),onEditMedia:function(e){return function(t){return Object(v.editMedia)(e,t)}}(e.playlist._id),onRemoveFromPlaylist:function(e){return function(t,n){return Object(v.removeMedia)(e,At(t,n))}}(e.playlist._id),onLoadPlaylistPage:function(e){var t=e.isFiltered,n=e.playlist;return function(e){return t?Object(v.loadFilteredPlaylistItems)(n._id,e):Object(v.loadPlaylist)(n._id,e)}}(e),onFilterPlaylistItems:v.filterPlaylistItems.bind(null,e.playlist._id)},i))})(wt),It=n(82),Lt=function(e){var t=e.getAllMediaSources,n=e.selectedSourceType,a=e.sourceStates,o=e.onShowImportPanel,l=e.onHideImportPanel;if(n){var r=(0,e.getMediaSource)(n).ImportPanel,c=a[n];return s.a.createElement(r,me()({onClosePanel:l},c))}var u=[],d=t();return Object.keys(d).forEach(function(e){var t=d[e].ImportForm;t&&u.push(i()(t,{onShowImportPanel:function(){return o(e)},onHideImportPanel:l},e))}),i()("div",{className:"PlaylistImport"},void 0,u)};Lt.propTypes={};var _t=Object(It.a)()(Lt),Ft=Object(p.b)({selectedSourceType:S.a,sourceStates:function(e){return e.sources}}),Ht=Object(d.b)(Ft,function(e){return Object(u.b)({onShowImportPanel:y,onHideImportPanel:h},e)})(_t),zt=n(41),Bt=n(825),xt=Object(B.c)(),qt=i()(X,{className:"SearchResults-noneIcon"}),Vt=function(e){var t=e.t;return i()("div",{className:"SearchResults-none"},void 0,qt,i()(Bt.a,{className:"SearchResults-noneHeader"},void 0,t("playlists.search.noResults")),i()(Bt.a,{},void 0,t("playlists.search.noResultsSub")))};Vt.propTypes={};var Wt=xt(Vt),Kt=i()("div",{className:"PlaylistPanel-loading"},void 0,i()(T.a,{size:"100%"})),Ut=function(){return Kt},$t=function(e){var t=e.results,n=e.onOpenAddMediaMenu,a=e.onOpenPreviewMediaDialog;return i()(ye.a,{className:"PlaylistPanel-media",media:t,onOpenPreviewMediaDialog:a,makeActions:function(e){return function(t,n){return i()(s.a.Fragment,{},void 0,i()(dt.a,{onAdd:function(a){return e(a,t,n)}}))}}(n)})};$t.propTypes={};var Jt=$t,Qt=Object(B.c)(),Gt=i()(Wt,{}),Xt=i()(Ut,{}),Yt=function(e){var t,n=e.t,a=e.className,o=e.query,r=e.results,s=e.onOpenAddMediaMenu,c=e.onOpenPreviewMediaDialog;return t=e.loadingState===zt.LOADED?r.length>0?i()(Jt,{results:r,onOpenPreviewMediaDialog:c,onOpenAddMediaMenu:s}):Gt:Xt,i()("div",{className:l()("PlaylistPanel","SearchResults",a)},void 0,i()("div",{className:"SearchResults-query"},void 0,n("playlists.search.results",{query:o})),t)};Yt.propTypes={};var Zt=Qt(Yt),en=Object(p.b)({query:C.b,results:C.d,loadingState:C.a}),tn=function(e,t,n){return Object(v.addMediaMenu)(function(e,t){return t.isSelected(e)?t.get():[e]}(t,n),e)},nn=Object(d.b)(en,function(e){return Object(u.b)({onOpenAddMediaMenu:tn,onOpenPreviewMediaDialog:fe.f},e)})(Zt),an=n(63),on=Object(B.c)(),ln=i()("div",{className:"SearchBar-icon"},void 0,i()(X,{})),rn=function(e){function t(){for(var t,n,a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={focused:!1},n.handleFocus=function(){n.setState({focused:!0})},n.handleBlur=function(){n.setState({focused:!1})},n.handleKeyDown=function(e){"Enter"===e.key&&(0,n.props.onSubmit)(n.input.value)},n.refInput=function(e){n.input=e},t||z()(n)}return E()(t,e),t.prototype.render=function(){var e=this.props,t=e.t,n=e.children,a=this.state.focused;return i()("div",{className:l()("SearchBar",a?"is-focused":"",this.props.className)},void 0,ln,n,i()("div",{className:"SearchBar-query"},void 0,s.a.createElement("input",{ref:this.refInput,className:"SearchBar-input",type:"text",placeholder:a?"":t("playlists.search.action"),onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown})))},t}(s.a.Component);rn.propTypes={};var sn=on(rn),cn=n(774),un=n(272),dn=function(e){var t=e.className,n=e.name,a=e.source,o=e.active;return i()("div",{className:l()("SourcePickerElement","SourcePickerElement--"+n,o&&"SourcePickerElement--active",t),style:{backgroundImage:"url("+a.logo+")"}})};dn.propTypes={};var pn=dn,vn=Object(It.a)(),mn={anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},fn=i()(un.a,{className:"SourcePicker-arrow"}),yn=function(e){function t(){for(var t,n,a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={open:!1},n.handleOpen=function(){n.setState({open:!0,anchor:n.container})},n.handleClose=function(){n.setState({open:!1})},n.refContainer=function(e){n.container=e},t||z()(n)}E()(t,e);var n=t.prototype;return n.createElement=function(e){var t=this,n=this.props,a=n.selected,o=n.getMediaSource;return i()("button",{className:"SourcePicker-item",onClick:function(){return t.handleChange(e)}},e,i()(pn,{name:e,source:o(e),active:a===e}))},n.handleChange=function(e){this.handleClose(),this.props.onChange(e)},n.render=function(){var e=this,t=this.props,n=t.className,a=t.selected,o=t.getMediaSource,r=Object.keys((0,t.getAllMediaSources)()).filter(function(e){return e!==a}).map(function(t){return e.createElement(t)});return s.a.createElement("div",{className:l()("SourcePicker",n),ref:this.refContainer},i()("button",{className:"SourcePicker-active",onClick:this.handleOpen},void 0,i()(pn,{name:a,source:o(a),active:!0}),fn),s.a.createElement(cn.a,me()({classes:{paper:"SourcePicker-list"},open:this.state.open,anchorEl:this.state.anchor,onClose:this.handleClose},mn),r))},t}(s.a.Component);yn.propTypes={};var hn=vn(yn),Pn=function(e){var t=e.className,n=e.source,a=e.onSubmit,o=e.onSourceChange;return i()(sn,{className:t,onSubmit:a},void 0,i()(hn,{className:"SearchBar-source",selected:n,onChange:o}))};Pn.propTypes={};var bn=Pn,gn=Object(p.b)({source:C.e}),Mn={onSubmit:function(e){return Object(P.get)("/search",{qs:{query:e},onStart:function(){return function(t){t(function(e){return{type:m.SEARCH_START,payload:{query:e}}}(e)),t(b())}},onComplete:function(e){return{type:m.SEARCH_COMPLETE,payload:{results:e}}},onError:function(e){return{type:m.SEARCH_COMPLETE,error:!0,payload:e}}})},onSourceChange:function(e){return{type:m.SET_SEARCH_SOURCE,payload:{source:e}}}},Cn=Object(d.b)(gn,Mn)(bn),Sn=Object(B.c)(),On=i()(Cn,{className:"PlaylistHeader-search"}),Nn=function(e){var t=e.t,n=e.className,a=e.onCloseOverlay;return i()(an.a,{className:l()("PlaylistHeader",n),title:t("playlists.title"),onCloseOverlay:a},void 0,On)};Nn.propTypes={};var En=Sn(Nn),Rn=function(e){var t=e.t,n=e.className;return i()("div",{className:l()("PlaylistPanel","PlaylistPanel--empty",n)},void 0,t("playlists.noPlaylists"))};Rn.propTypes={};var Tn=Object(B.c)()(Rn),wn=i()("div",{className:"PlaylistPanel"},void 0,i()(Ht,{})),Dn=i()(nn,{}),An=i()(Tn,{}),jn=i()(pe,{className:"PlaylistManager-menu"}),kn=function(e){var t,n=e.className,a=e.selectedPlaylist,o=e.onCloseOverlay;return t=e.showImportPanel?wn:e.showSearchResults?Dn:a?i()(kt,{},a._id):An,i()("div",{className:l()("PlaylistManager",n)},void 0,i()(En,{className:"PlaylistManager-header AppRow AppRow--top",onCloseOverlay:o}),i()(c.a,{},void 0,jn,i()("div",{className:"PlaylistManager-panel"},void 0,t)))};kn.propTypes={};t.default=kn}}]);
//# sourceMappingURL=playlists_276e9f9.js.map