{"version":3,"sources":["webpack:///./admin/components/Motd/index.js","webpack:///./admin/selectors/authSelectors.js","webpack:///./admin/containers/Motd.js","webpack:///./admin/components/Main/index.js","webpack:///./components/Username/WithCard.js","webpack:///./admin/components/UsersList/Row.js","webpack:///./admin/components/UsersList/index.js","webpack:///./admin/constants/ActionTypes.js","webpack:///./admin/actions/users.js","webpack:///./admin/selectors/baseSelector.js","webpack:///./admin/selectors/userSelectors.js","webpack:///./admin/containers/UsersList.js","webpack:///./admin/actions/bans.js","webpack:///./admin/components/BansList/Row.js","webpack:///./admin/components/BansList/index.js","webpack:///./admin/containers/BansList.js","webpack:///./admin/components/AdminApp/CurrentPage.js","webpack:///./admin/components/AdminApp/index.js","webpack:///./admin/reducers/users.js","webpack:///./admin/reducers/bans.js","webpack:///./admin/reducers/index.js","webpack:///./admin/reducers/view.js","webpack:///./admin/selectors/viewSelectors.js","webpack:///./admin/containers/AdminApp.js","webpack:///./admin/actions/view.js"],"names":["enhance","compose_default","withState_default","props","motd","withProps_default","parsedMotd","Object","compile","lib_default","newMotd","compileOptions","onExpand","setExpanded","expanded","withHandlers_default","onChange","event","setMotd","target","value","onSubmit","onSetMotd","autoFocus","el","focus","jsx_default","ModeEdit","Motd_Motd","_ref","canChangeMotd","Card","className","CardHeader","title","action","IconButton","onClick","_ref2","CardContent","Collapse","in","unmountOnExit","style","paddingTop","react_default","a","createElement","rows","ref","CardActions","Button","variant","color","propTypes","defaultProps","components_Motd","canChangeMotdSelector","mapStateToProps","es","chatSelectors","mapDispatchToProps","ChatActionCreators","containers_Motd","react_redux_es","Main","Main_ref","components_Main","WithCard_enhance","userCardable","onUsernameClick","preventDefault","openUserCard","user","WithCard_UsernameWithCard","Username","WithCard","avatarStyle","width","paddingRight","actionsStyle","paddingLeft","Row_TableCell","TableCell","MoreVert","MenuItem","Row_UserRow","state","open","anchorEl","menu","uniqueId_default","handleOpenMenu","_this","setState","currentTarget","handleCloseMenu","render","this","_state","TableRow","Avatar","formatJoinDate","createdAt","Row_ref","roles","join","aria-haspopup","aria-owns","Row_ref2","Menu","id","onClose","_ref3","Component","Header","background","padding","lineHeight","Filter","border","marginLeft","height","type","UsersList_enhance","dist_es","UsersList_UsersList","t","users","Fragment","UsersList_ref2","float","UsersList_ref3","Table","TableHead","_ref4","_ref5","TableBody","map","components_UsersList","TRANSITION","LOAD_USERS_START","LOAD_USERS_COMPLETE","LOAD_BANS_START","LOAD_BANS_COMPLETE","loadUsersStart","loadUsersComplete","response","payload","data","page","Math","floor","meta","offset","pageSize","baseSelector","admin","pageSelector","base","currentPage","usersSelector","UsersList_mapStateToProps","UsersList_mapDispatchToProps","onLoadUsers","pagination","RequestActionCreators","qs","onStart","onComplete","lifecycle_default","componentDidMount","loadBansStart","loadBansComplete","bans","mergeIncludedModels","size","loadBans","Row_enhance","Row_avatarStyle","Row_BanRow","ban","onUnbanUser","ms_default","duration","long","reason","moderator","Row","BansList_enhance","BansList_Header","BansList_Filter","BansList_BansList","BansList_ref2","BansList_ref3","BansList_ref4","_id","components_BansList","BansList_mapDispatchToProps","onLoadBans","dispatch","del","unbanUser","then","pages","main","containers_UsersList","AdminApp_CurrentPage","mapProps_default","component","CurrentPage_enhance","componentFromProp_default","List","primary","AdminApp_AdminApp","currentView","onTransition","selected","AdminApp_ref2","AdminApp_ref3","AdminApp_ref4","components_AdminApp","initialState","totalPages","totalUsers","bans_initialState","limit","reducers","redux_es","objectSpread_default","total","ceil","view","currentViewSelector","AdminApp_mapStateToProps","AdminApp_mapDispatchToProps","mountAdminReducerOnce","store","getState","hasAdminState","mount","mountAdminReducer","AdminApp_enhance","getContext_default","prop_types_default","object","componentWillMount","__webpack_exports__"],"mappings":"obAcMA,EAAUC,IACdC,IAAU,UAAW,UAAW,SAAAC,GAAA,OAASA,EAAMC,OAC/CF,IAAU,WAAY,eAAe,GACrCG,IAAU,SAAAF,GAAA,OACRG,WAAYC,OAAAC,EAAA,EAAAD,CAAQE,IAAMN,EAAMO,SAAUP,EAAMQ,gBAChDC,SAAU,kBAAMT,EAAMU,aAAaV,EAAMW,cAE3CC,KACEC,SAAU,SAAAb,GAAA,OAAS,SAACc,GAClBd,EAAMe,QAAQD,EAAME,OAAOC,SAE7BC,SAAU,SAAAlB,GAAA,OAAS,WACjBA,EAAMmB,UAAUnB,EAAMO,SACtBP,EAAMU,aAAY,QAKxB,SAASU,EAAUC,GACbA,GAAIA,EAAGC,cAiBHC,IAACC,EAAA,MAdLC,EAAO,SAAAC,GAAA,IACXC,EADWD,EACXC,cACApB,EAFWmB,EAEXnB,QACAJ,EAHWuB,EAGXvB,WACAQ,EAJWe,EAIXf,SACAE,EALWa,EAKXb,SACAK,EANWQ,EAMXR,SACAT,EAPWiB,EAOXjB,SAPW,OASXc,IAACK,EAAA,GAAKC,UAAU,kBAAhB,EACEN,IAACO,EAAA,GACCC,MAAM,qBACNC,OAAQL,GACNJ,IAACU,EAAA,GAAWC,QAASzB,QAArB,EAAA0B,KAKJZ,IAACa,EAAA,UAAD,EAAcjC,GACdoB,IAACc,EAAA,GAASC,GAAI3B,EAAU4B,eAAA,QAAxB,EACEhB,IAACa,EAAA,GAAYI,OAASC,WAAY,SAAlC,EACEC,EAAAC,EAAAC,cAAA,YACEf,UAAU,kBACVgB,KAAM,EACNhC,SAAUA,EACVI,MAAOV,EACPuC,IAAK1B,KAGTG,IAACwB,EAAA,UAAD,EACExB,IAACyB,EAAA,GACCC,QAAQ,SACRC,MAAM,UACNhB,QAAShB,QAHX,cAYRO,EAAK0B,aAUL1B,EAAK2B,cACHzB,eAAe,GAGjB,IAAA0B,EAAexD,EAAQ4B,mBCxFV6B,QAAwB,ECM/BC,EAAkBnD,OAAAoD,EAAA,EAAApD,EACtBH,KAAMwD,EAAA,EACNjD,eAAgBiD,EAAA,EAChB9B,cAAe2B,IAGXI,GACJvC,UAAWwC,EAAA,GAGbC,EAAexD,OAAAyD,EAAA,EAAAzD,CAAQmD,EAAiBG,EAAxC,CAA4DL,KChB1D9B,IAAA,gBACEA,IAAA,mJAIAA,IAACqC,OANCE,EAAO,kBAAAC,GAUbD,EAAKX,aAEL,IAAAa,EAAA,kLCPMC,GAAUnE,IACdM,OAAA8D,GAAA,EAAA9D,GACAF,IAAU,SAAAF,GAAA,OACRmE,gBADkB,SACFrD,GACdA,EAAMsD,iBACNpE,EAAMqE,aAAarE,EAAMsE,WAKzBC,GAAmB,SAAA7C,GAAA,IAAG4C,EAAH5C,EAAG4C,KAAMH,EAATzC,EAASyC,gBAAT,OACvB5C,IAAA,UAAQW,QAASiC,QAAjB,EACE5C,IAACiD,GAAA,GAAaF,KAAMA,MAIxBC,GAAiBpB,aAKjB,IAAAsB,GAAeR,GAAQM,cCjBjBG,IACJC,MAAO,GACPC,aAAc,GAEVC,IACJF,MAAO,GACPG,YAAa,EACbF,aAAc,GAGVG,GAAY7E,KAChB2B,UAAW,qBADK3B,CAEf8E,GAAA,MAmCKzD,IAACwD,WAAD,cAUIxD,IAAC0D,GAAA,SAQD1D,IAAC2D,GAAA,UAAD,SAnDSC,wJAKnBC,OACEC,MAAM,EACNC,SAAU,QAGZC,KAAOC,KAAS,UAEhBC,eAAiB,SAAC3E,GAChB4E,EAAKC,UAAWN,MAAM,EAAMC,SAAUxE,EAAM8E,mBAE9CC,gBAAkB,WAChBH,EAAKC,UAAWN,MAAM,EAAOC,SAAU,gDAGzCQ,kBAAS,IACCxB,EAASyB,KAAK/F,MAAdsE,KADD0B,EAEoBD,KAAKX,MAAxBC,EAFDW,EAECX,KAAMC,EAFPU,EAEOV,SACd,OACE/D,IAAC0E,GAAA,GAASpE,UAAU,qBAApB,EACEN,IAACwD,IAAUvC,MAAOkC,SAAlB,EACEnD,IAAC2E,GAAA,GAAO5B,KAAMA,KAEhB/C,IAACwD,WAAD,EACExD,IAACkD,IAASH,KAAMA,KAElB/C,IAACwD,WAAD,EACG3E,OAAA+F,GAAA,EAAA/F,CAAekE,EAAK8B,YARzBC,GAWE9E,IAACwD,WAAD,EACGT,EAAKgC,MAAMC,KAAK,OAEnBhF,IAACwD,IAAUvC,MAAOqC,SAAlB,EACEtD,IAACU,EAAA,GACCC,QAAS6D,KAAKN,eACde,gBAAc,OACdC,YAAWpB,EAAOU,KAAKR,KAAO,WAHhC,EAAAmB,IAOAnF,IAACoF,GAAA,GACCC,GAAIb,KAAKR,KACTF,KAAMA,EACNC,SAAUA,EACVuB,QAASd,KAAKF,sBAJhB,EAAAiB,UA7C2BpE,EAAAC,EAAMoE,WAAtB5B,GACZhC,aCdT,IAAM6D,GAAS9G,KACbsC,OACEyE,WAAY,UACZC,QAAS,YACTC,WAAY,SAJDjH,CAMZ,OAEGkH,GAASlH,KACbsC,OACEyE,WAAY,UACZ/D,MAAO,UACPmE,OAAQ,EACRC,WAAY,GACZxC,YAAa,GACbyC,OAAQ,IAEVC,KAAM,QATOtH,CAUZ,SAEGuH,GAAUrH,OAAAsH,EAAA,EAAAtH,MAQVmB,IAAA,uCAGEA,IAAC6F,UAMC7F,IAACyD,GAAA,SAKDzD,IAACyD,GAAA,MApBL2C,GAAY,SAAAjG,GAAA,IAChBkG,EADgBlG,EAChBkG,EACAC,EAFgBnG,EAEhBmG,MAFgB,OAIhBtG,IAACmB,EAAAC,EAAMmF,iBAAP,EACEvG,IAACyF,WAAD,EAAAe,GAEExG,IAAA,QAAMiB,OAASwF,MAAO,eAAtB,iBAAAC,KAKF1G,IAAC2G,GAAA,UAAD,EACE3G,IAAC4G,GAAA,UAAD,EACE5G,IAAC0E,GAAA,UAAD,EAAAmC,GAEE7G,IAACyD,GAAA,UAAD,EAAY4C,EAAE,qBACdrG,IAACyD,GAAA,UAAD,EAAY4C,EAAE,yBACdrG,IAACyD,GAAA,UAAD,EAAY4C,EAAE,sBACdrG,IAACyD,GAAA,UAAD,EAAY4C,EAAE,sBALhBS,KASF9G,IAAC+G,GAAA,UAAD,EACGT,EAAMU,IAAI,SAAAjE,GAAA,OACT/C,IAAC4D,IAAQb,KAAMA,UAOzBqD,GAAUxE,aAKV,IAAAqF,GAAef,GAAQE,aCxEVc,GAAa,8BAEbC,GAAmB,qCACnBC,GAAsB,wCACtBC,GAAkB,mCAClBC,GAAqB,sCCF3B,SAASC,KACd,OAAStB,KAAMkB,IAGV,SAASK,GAAkBC,GAChC,OACExB,KAAMmB,GACNM,SACEpB,MAAOmB,EAASE,KAChBC,KAAMC,KAAKC,MAAML,EAASM,KAAKC,OAASP,EAASM,KAAKE,WAExDF,KAAMN,EAASM,MCdnB,IAAAG,GAAA,SAAerE,GAAA,OAASA,EAAMsE,OCGjBC,GAAevJ,OAAAoD,EAAA,EAAApD,CAC1BqJ,GACA,SAAAG,GAAA,OAAQA,EAAK/B,MAAMgC,cAGRC,GAAgB1J,OAAAoD,EAAA,EAAApD,CAC3BqJ,GACA,SAAAG,GAAA,OAAQA,EAAK/B,MAAMA,QCFfkC,GAAkB3J,OAAAoD,EAAA,EAAApD,EACtByJ,YAAaF,GACb9B,MAAOiC,KAGHE,IACJC,YHIK,SAAmBC,GACxB,YAD2C,IAAnBA,MAAa,MAC9B9J,OAAA+J,GAAA,IAAA/J,CAAI,UACTgK,GAAIF,GAAef,KAAMe,GAAe,KACxCG,QAASvB,GACTwB,WAAYvB,UGLDjJ,IACbM,OAAAyD,EAAA,EAAAzD,CAAQ2J,GAAiBC,IACzBO,KACEC,kBADQ,WAENzE,KAAK/F,MAAMiK,kBAGfzB,cCpBK,SAASiC,KACd,OAASjD,KAAMoB,IAGV,SAAS8B,GAAiB1B,GAAU,IACjCM,EAASN,EAATM,KAER,OACE9B,KAAMqB,GACNI,SACE0B,KAAMvK,OAAAwK,GAAA,EAAAxK,CAAoB4I,IAE5BM,MACEH,KAAMC,KAAKC,MAAMC,EAAKC,OAASD,EAAKE,UACpCqB,KAAMvB,EAAKE,WAKV,SAASsB,KACd,OAAO1K,OAAA+J,GAAA,IAAA/J,CAAI,SACTiK,QAASI,GACTH,WAAYI,8BCjBVK,GAAU3K,OAAAsH,EAAA,EAAAtH,GACV4K,IACJrG,MAAO,GACPC,aAAc,GAGVqG,GAAS,SAAAvJ,GAAA,IACbkG,EADalG,EACbkG,EACAsD,EAFaxJ,EAEbwJ,IACAC,EAHazJ,EAGbyJ,YAHa,OAKb5J,IAAC0E,GAAA,UAAD,EACE1E,IAACyD,GAAA,GAAUxC,MAAOwI,SAAlB,EACEzJ,IAAC2E,GAAA,GAAO5B,KAAM4G,EAAI5G,QAEpB/C,IAACyD,GAAA,UAAD,EACEzD,IAACkD,IAASH,KAAM4G,EAAI5G,QAEtB/C,IAACyD,GAAA,UAAD,EACGoG,KAAGF,EAAIG,UAAYC,MAAM,KAE5B/J,IAACyD,GAAA,UAAD,EACGkG,EAAIK,QACHhK,IAAA,eAAKqG,EAAE,yBAGXrG,IAACyD,GAAA,UAAD,EACEzD,IAACkD,IAASH,KAAM4G,EAAIM,aAEtBjK,IAACyD,GAAA,UAAD,EACEzD,IAACyB,EAAA,GACCC,QAAQ,SACRf,QAASiJ,QAFX,EAIGvD,EAAE,wBAMXqD,GAAO9H,aAWP,IAAAsI,GAAeV,GAAQE,IC/CjBS,GAAUtL,OAAAsH,EAAA,EAAAtH,GAEVuL,GAASzL,KACbsC,OACEyE,WAAY,UACZC,QAAS,YACTC,WAAY,SAJDjH,CAMZ,OAEG0L,GAAS1L,KACbsC,OACEyE,WAAY,UACZ/D,MAAO,UACPmE,OAAQ,EACRC,WAAY,GACZxC,YAAa,GACbyC,OAAQ,IAEVC,KAAM,QATOtH,CAUZ,YASGqB,IAAA,sCAGEA,IAACqK,UAMCrK,IAACyD,GAAA,MAhBL6G,GAAW,SAAAnK,GAAA,IACfkG,EADelG,EACfkG,EACA+C,EAFejJ,EAEfiJ,KACAQ,EAHezJ,EAGfyJ,YAHe,OAKf5J,IAACmB,EAAAC,EAAMmF,iBAAP,EACEvG,IAACoK,WAAD,EAAAG,GAEEvK,IAAA,QAAMiB,OAASwF,MAAO,eAAtB,iBAAA+D,KAKFxK,IAAC2G,GAAA,UAAD,EACE3G,IAAC4G,GAAA,UAAD,EACE5G,IAAC0E,GAAA,UAAD,EAAA+F,GAEEzK,IAACyD,GAAA,UAAD,EAAY4C,EAAE,oBACdrG,IAACyD,GAAA,UAAD,EAAY4C,EAAE,wBACdrG,IAACyD,GAAA,UAAD,EAAY4C,EAAE,sBACdrG,IAACyD,GAAA,UAAD,EAAY4C,EAAE,wBACdrG,IAACyD,GAAA,UAAD,EAAY4C,EAAE,yBAGlBrG,IAAC+G,GAAA,UAAD,EACGqC,EAAKpC,IAAI,SAAA2C,GAAA,OACR3J,IAACkK,IAECP,IAAKA,EACLC,YAAa,kBAAMA,EAAYD,EAAI5G,QAF9B4G,EAAI5G,KAAK2H,WAU1BJ,GAAS1I,aAMT,IAAA+I,GAAeR,GAAQG,ICpEjBM,IACJC,WAAYtB,GACZK,YHsBK,SAA4B7G,GACjC,OAAO,SAAA+H,GAAA,OACLA,EANG,SAAmB/H,GACxB,OAAOlE,OAAA+J,GAAA,IAAA/J,CAAAkM,SAAahI,EAAK2H,QAKdM,CAAUjI,IAChBkI,KAAK,kBAAMH,EAASvB,WI/BrB2B,IACJC,KAAM1I,EACN6D,MAAO8E,GACPhC,KDMa7K,IACbM,OAAAyD,EAAA,EAAAzD,CAVsB,SAAAgF,GAAA,OACtBuF,KAAMvF,EAAMsE,MAAMiB,KAAKA,OASEwB,IACzB5B,KACEC,kBADQ,WAENzE,KAAK/F,MAAMoM,gBAJjB,CAOEF,KCJFU,GANgBC,IAAS,SAAA7M,GAAA,OACvB8M,UAAWL,GAAMzM,EAAMmJ,QAGL4D,CAAQC,IAAkB,yBCGpCzL,IAAC0L,EAAA,GAAaC,QAAQ,aAOtB3L,IAAC0L,EAAA,GAAaC,QAAQ,aAOtB3L,IAAC0L,EAAA,GAAaC,QAAQ,SA1B1BC,GAAW,SAAAzL,GAAA,IACf0L,EADe1L,EACf0L,YACAC,EAFe3L,EAEf2L,aAFe,OAIf9L,IAAA,OAAKM,UAAU,iBAAf,EACEN,IAAA,OAAKM,UAAU,sBAAf,EACEN,IAAC0L,EAAA,UAAD,EACE1L,IAAC0L,EAAA,GACCK,SAA0B,SAAhBF,EACVvL,UAAU,oBACVK,QAAS,kBAAMmL,EAAa,eAH9B,EAAAE,IAOAhM,IAAC0L,EAAA,GACCK,SAA0B,UAAhBF,EACVvL,UAAU,oBACVK,QAAS,kBAAMmL,EAAa,gBAH9B,EAAAG,IAOAjM,IAAC0L,EAAA,GACCK,SAA0B,SAAhBF,EACVvL,UAAU,oBACVK,QAAS,kBAAMmL,EAAa,eAH9B,EAAAI,MASJlM,IAAA,OAAKM,UAAU,sBAAf,EACEN,IAACqL,IAAYzD,KAAMiE,OAKzBD,GAAShK,aAKT,IAAAuK,GAAA,+BC3CMC,IACJ9D,YAAa,EACb+D,WAAY,EACZC,WAAY,EACZhG,UCJF,IAAMiG,IACJjE,aACEN,OAAQ,EACRwE,MAAO,IAETpD,SCJF,IAAAqD,GAAe5N,OAAA6N,GAAA,EAAf,EACEpG,MFKa,SAAiBzC,EAAsBpD,GACpD,YAD4D,IAA9BoD,MAAQuI,IAC9B3L,EAAOwF,MACb,KAAKkB,GACH,OAAOtD,EACT,KAAKuD,GACH,OAAAuF,QACK9I,GACHyE,YAAa7H,EAAOiH,QAAQE,KAC5B0E,WAAY7L,EAAOsH,KAAK6E,MACxBP,WAAYxE,KAAKgF,KAAKpM,EAAOsH,KAAK6E,MAAQnM,EAAOsH,KAAKE,UACtD3B,MAAO7F,EAAOiH,QAAQpB,QAE1B,QACE,OAAOzC,IEjBXuF,KDKa,SAAiBvF,EAAsBpD,GACpD,YADiE,IAAnCoD,MAAQ0I,SAA2B,IAAb9L,UAC5CA,EAAOwF,MACb,KAAKoB,GACH,OAAOxD,EACT,KAAKyD,GACH,OAAAqF,QACK9I,GACHuF,KAAM3I,EAAOiH,QAAQ0B,OAEzB,QACE,OAAOvF,ICdXiJ,KCPa,SAAiBjJ,EAAgBpD,GAC9C,YADsD,IAAxBoD,MAAQ,QAClCpD,EAAOwF,OAASiB,GACXzG,EAAOiH,QAET7D,KCFF,IAAMkJ,GAAsBlO,OAAAoD,EAAA,EAAApD,CACjCqJ,GACA,SAAAG,GAAA,OAAQA,EAAKyE,OCKTE,GAAkBnO,OAAAoD,EAAA,EAAApD,EACtBgN,YAAakB,KAGTE,IACJnB,aCbK,SAAoBrM,GACzB,OACEwG,KAAMiB,GACNQ,QAASjI,KDuBb,SAASyN,GAAsBC,IAV/B,SAAuBA,GACrB,IAAMtJ,EAAQsJ,EAAMC,WAEpB,OAAOvJ,KAAWA,EAAMsE,OAQnBkF,CAAcF,IALrB,SAA2BA,GACzBA,EAAMG,MAAM,QAASb,IAKnBc,CAAkBJ,GAItB,IAAMK,GAAUjP,IACdkP,KAAaN,MAAOO,EAAAtM,EAAUuM,SAC9B3E,KACE4E,mBADQ,WAEFpJ,KAAK/F,MAAM0O,OACbD,GAAsB1I,KAAK/F,MAAM0O,UAIvCtO,OAAAyD,EAAA,EAAAzD,CAAQmO,GAAiBC,KAG3BY,EAAA,QAAeL,GAAQrB","file":"admin_af0112b.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'recompose/compose';\nimport withState from 'recompose/withState';\nimport withProps from 'recompose/withProps';\nimport withHandlers from 'recompose/withHandlers';\nimport Card, { CardHeader, CardContent, CardActions } from 'material-ui/Card';\nimport Button from 'material-ui/Button';\nimport IconButton from 'material-ui/IconButton';\nimport Collapse from 'material-ui/transitions/Collapse';\nimport EditIcon from '@material-ui/icons/ModeEdit';\nimport parse from 'u-wave-parse-chat-markup';\nimport compile from '../../../components/Chat/Markup/compile';\n\nconst enhance = compose(\n  withState('newMotd', 'setMotd', props => props.motd),\n  withState('expanded', 'setExpanded', false),\n  withProps(props => ({\n    parsedMotd: compile(parse(props.newMotd), props.compileOptions),\n    onExpand: () => props.setExpanded(!props.expanded),\n  })),\n  withHandlers({\n    onChange: props => (event) => {\n      props.setMotd(event.target.value);\n    },\n    onSubmit: props => () => {\n      props.onSetMotd(props.newMotd);\n      props.setExpanded(false);\n    },\n  }),\n);\n\nfunction autoFocus(el) {\n  if (el) el.focus();\n}\n\nconst Motd = ({\n  canChangeMotd,\n  newMotd,\n  parsedMotd,\n  expanded,\n  onChange,\n  onSubmit,\n  onExpand,\n}) => (\n  <Card className=\"AdminMotd\">\n    <CardHeader\n      title=\"Message of the Day\"\n      action={canChangeMotd && (\n        <IconButton onClick={onExpand}>\n          <EditIcon />\n        </IconButton>\n      )}\n    />\n    <CardContent>{parsedMotd}</CardContent>\n    <Collapse in={expanded} unmountOnExit>\n      <CardContent style={{ paddingTop: 0 }}>\n        <textarea\n          className=\"AdminMotd-field\"\n          rows={4}\n          onChange={onChange}\n          value={newMotd}\n          ref={autoFocus}\n        />\n      </CardContent>\n      <CardActions>\n        <Button\n          variant=\"raised\"\n          color=\"primary\"\n          onClick={onSubmit}\n        >\n          Save\n        </Button>\n      </CardActions>\n    </Collapse>\n  </Card>\n);\n\nMotd.propTypes = {\n  canChangeMotd: PropTypes.bool,\n  newMotd: PropTypes.string.isRequired,\n  parsedMotd: PropTypes.array.isRequired,\n  expanded: PropTypes.bool.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onExpand: PropTypes.func.isRequired,\n};\n\nMotd.defaultProps = {\n  canChangeMotd: false,\n};\n\nexport default enhance(Motd);\n","/* eslint-disable import/prefer-default-export */\nimport { isModeratorSelector } from '../../selectors/userSelectors';\n\n// TODO replace with check for the `motd.set` role.\nexport const canChangeMotdSelector = isModeratorSelector;\n","import { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport Motd from '../components/Motd';\nimport { setMotd } from '../../actions/ChatActionCreators';\nimport {\n  rawMotdSelector,\n  markupCompilerOptionsSelector,\n} from '../../selectors/chatSelectors';\nimport { canChangeMotdSelector } from '../selectors/authSelectors';\n\nconst mapStateToProps = createStructuredSelector({\n  motd: rawMotdSelector,\n  compileOptions: markupCompilerOptionsSelector,\n  canChangeMotd: canChangeMotdSelector,\n});\n\nconst mapDispatchToProps = {\n  onSetMotd: setMotd,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Motd);\n","import React from 'react';\nimport Motd from '../../containers/Motd';\n\nconst Main = () => (\n  <div>\n    <p>\n      Note that the admin interface is not yet done and most things do not work.\n      You can, however, configure the message of the day! :P\n    </p>\n    <Motd />\n  </div>\n);\n\nMain.propTypes = {};\n\nexport default Main;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'recompose/compose';\nimport withProps from 'recompose/withProps';\nimport userCardable from '../../utils/userCardable';\n\nimport UsernameBase from './';\n\nconst enhance = compose(\n  userCardable(),\n  withProps(props => ({\n    onUsernameClick(event) {\n      event.preventDefault();\n      props.openUserCard(props.user);\n    },\n  })),\n);\n\nconst UsernameWithCard = ({ user, onUsernameClick }) => (\n  <button onClick={onUsernameClick}>\n    <UsernameBase user={user} />\n  </button>\n);\n\nUsernameWithCard.propTypes = {\n  user: PropTypes.object.isRequired,\n  onUsernameClick: PropTypes.func.isRequired,\n};\n\nexport default enhance(UsernameWithCard);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withProps from 'recompose/withProps';\nimport uniqueId from 'lodash/uniqueId';\nimport IconButton from 'material-ui/IconButton';\nimport Menu, { MenuItem } from 'material-ui/Menu';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { TableRow, TableCell as MuiTableCell } from 'material-ui/Table';\nimport Avatar from '../../../components/Avatar';\nimport Username from '../../../components/Username/WithCard';\nimport formatJoinDate from '../../../utils/formatJoinDate';\n\nconst avatarStyle = {\n  width: 48,\n  paddingRight: 0,\n};\nconst actionsStyle = {\n  width: 48,\n  paddingLeft: 0,\n  paddingRight: 0,\n};\n\nconst TableCell = withProps({\n  className: 'AdminUserRow-cell',\n})(MuiTableCell);\n\nexport default class UserRow extends React.Component {\n  static propTypes = {\n    user: PropTypes.object.isRequired,\n  };\n\n  state = {\n    open: false,\n    anchorEl: null,\n  };\n\n  menu = uniqueId('menu');\n\n  handleOpenMenu = (event) => {\n    this.setState({ open: true, anchorEl: event.currentTarget });\n  };\n  handleCloseMenu = () => {\n    this.setState({ open: false, anchorEl: null });\n  };\n\n  render() {\n    const { user } = this.props;\n    const { open, anchorEl } = this.state;\n    return (\n      <TableRow className=\"AdminUserRow\">\n        <TableCell style={avatarStyle}>\n          <Avatar user={user} />\n        </TableCell>\n        <TableCell>\n          <Username user={user} />\n        </TableCell>\n        <TableCell>\n          {formatJoinDate(user.createdAt)}\n        </TableCell>\n        <TableCell>Email</TableCell>\n        <TableCell>\n          {user.roles.join(', ')}\n        </TableCell>\n        <TableCell style={actionsStyle}>\n          <IconButton\n            onClick={this.handleOpenMenu}\n            aria-haspopup=\"true\"\n            aria-owns={open ? this.menu : null}\n          >\n            <MoreVertIcon />\n          </IconButton>\n          <Menu\n            id={this.menu}\n            open={open}\n            anchorEl={anchorEl}\n            onClose={this.handleCloseMenu}\n          >\n            <MenuItem>Ban</MenuItem>\n          </Menu>\n        </TableCell>\n      </TableRow>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport withProps from 'recompose/withProps';\n// eslint-disable-next-line\nimport Table, {\n  TableBody,\n  TableHead,\n  TableCell,\n  TableRow,\n} from 'material-ui/Table';\nimport UserRow from './Row';\n\nconst Header = withProps({\n  style: {\n    background: '#9d2053',\n    padding: '12px 24px',\n    lineHeight: '35px',\n  },\n})('div');\n\nconst Filter = withProps({\n  style: {\n    background: '#631032',\n    color: '#ffffff',\n    border: 0,\n    marginLeft: 12,\n    paddingLeft: 12,\n    height: 35,\n  },\n  type: 'text',\n})('input');\n\nconst enhance = translate();\n\nconst UsersList = ({\n  t,\n  users,\n}) => (\n  <React.Fragment>\n    <Header>\n      <span>Managing Users:</span>\n      <span style={{ float: 'right' }}>\n        Filter User:\n        <Filter />\n      </span>\n    </Header>\n    <Table>\n      <TableHead>\n        <TableRow>\n          <TableCell />\n          <TableCell>{t('admin.users.user')}</TableCell>\n          <TableCell>{t('admin.users.joinedAt')}</TableCell>\n          <TableCell>{t('admin.users.email')}</TableCell>\n          <TableCell>{t('admin.users.roles')}</TableCell>\n          <TableCell />\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {users.map(user => (\n          <UserRow user={user} />\n        ))}\n      </TableBody>\n    </Table>\n  </React.Fragment>\n);\n\nUsersList.propTypes = {\n  t: PropTypes.func.isRequired,\n  users: PropTypes.array.isRequired,\n};\n\nexport default enhance(UsersList);\n","export const TRANSITION = 'uwave/admin/view/TRANSITION';\n\nexport const LOAD_USERS_START = 'uwave/admin/users/LOAD_USERS_START';\nexport const LOAD_USERS_COMPLETE = 'uwave/admin/users/LOAD_USERS_COMPLETE';\nexport const LOAD_BANS_START = 'uwave/admin/bans/LOAD_BANS_START';\nexport const LOAD_BANS_COMPLETE = 'uwave/admin/bans/LOAD_BANS_COMPLETE';\n","import { get } from '../../actions/RequestActionCreators';\nimport { LOAD_USERS_START, LOAD_USERS_COMPLETE } from '../constants/ActionTypes';\n\nexport function loadUsersStart() {\n  return { type: LOAD_USERS_START };\n}\n\nexport function loadUsersComplete(response) {\n  return {\n    type: LOAD_USERS_COMPLETE,\n    payload: {\n      users: response.data,\n      page: Math.floor(response.meta.offset / response.meta.pageSize),\n    },\n    meta: response.meta,\n  };\n}\n\nexport function loadUsers(pagination = null) {\n  return get('/users', {\n    qs: pagination ? { page: pagination } : null,\n    onStart: loadUsersStart,\n    onComplete: loadUsersComplete,\n  });\n}\n","export default state => state.admin;\n","import { createSelector } from 'reselect';\nimport baseSelector from './baseSelector';\n\nexport const pageSelector = createSelector(\n  baseSelector,\n  base => base.users.currentPage,\n);\n\nexport const usersSelector = createSelector(\n  baseSelector,\n  base => base.users.users,\n);\n\n","import { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport compose from 'recompose/compose';\nimport lifecycle from 'recompose/lifecycle';\nimport UsersList from '../components/UsersList';\nimport { loadUsers } from '../actions/users';\nimport { pageSelector, usersSelector } from '../selectors/userSelectors';\n\nconst mapStateToProps = createStructuredSelector({\n  currentPage: pageSelector,\n  users: usersSelector,\n});\n\nconst mapDispatchToProps = {\n  onLoadUsers: loadUsers,\n};\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  lifecycle({\n    componentDidMount() {\n      this.props.onLoadUsers();\n    },\n  }),\n)(UsersList);\n","import { get, del } from '../../actions/RequestActionCreators';\nimport mergeIncludedModels from '../../utils/mergeIncludedModels';\nimport { LOAD_BANS_START, LOAD_BANS_COMPLETE } from '../constants/ActionTypes';\n\nexport function loadBansStart() {\n  return { type: LOAD_BANS_START };\n}\n\nexport function loadBansComplete(response) {\n  const { meta } = response;\n\n  return {\n    type: LOAD_BANS_COMPLETE,\n    payload: {\n      bans: mergeIncludedModels(response),\n    },\n    meta: {\n      page: Math.floor(meta.offset / meta.pageSize),\n      size: meta.pageSize,\n    },\n  };\n}\n\nexport function loadBans() {\n  return get('/bans', {\n    onStart: loadBansStart,\n    onComplete: loadBansComplete,\n  });\n}\n\nexport function unbanUser(user) {\n  return del(`/bans/${user._id}`, {});\n}\n\nexport function unbanUserAndReload(user) {\n  return dispatch =>\n    dispatch(unbanUser(user))\n      .then(() => dispatch(loadBans()));\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport ms from 'ms';\nimport Button from 'material-ui/Button';\nimport { TableRow, TableCell } from 'material-ui/Table';\nimport Avatar from '../../../components/Avatar';\nimport Username from '../../../components/Username/WithCard';\n\nconst enhance = translate();\nconst avatarStyle = {\n  width: 48,\n  paddingRight: 0,\n};\n\nconst BanRow = ({\n  t,\n  ban,\n  onUnbanUser,\n}) => (\n  <TableRow>\n    <TableCell style={avatarStyle}>\n      <Avatar user={ban.user} />\n    </TableCell>\n    <TableCell>\n      <Username user={ban.user} />\n    </TableCell>\n    <TableCell>\n      {ms(ban.duration, { long: true })}\n    </TableCell>\n    <TableCell>\n      {ban.reason || (\n        <em>{t('admin.bans.noReason')}</em>\n      )}\n    </TableCell>\n    <TableCell>\n      <Username user={ban.moderator} />\n    </TableCell>\n    <TableCell>\n      <Button\n        variant=\"raised\"\n        onClick={onUnbanUser}\n      >\n        {t('admin.bans.unban')}\n      </Button>\n    </TableCell>\n  </TableRow>\n);\n\nBanRow.propTypes = {\n  t: PropTypes.func.isRequired,\n  ban: PropTypes.shape({\n    user: PropTypes.object.isRequired,\n    duration: PropTypes.number.isRequired,\n    reason: PropTypes.string,\n    moderator: PropTypes.object.isRequired,\n  }).isRequired,\n  onUnbanUser: PropTypes.func.isRequired,\n};\n\nexport default enhance(BanRow);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withProps from 'recompose/withProps';\nimport { translate } from 'react-i18next';\n// eslint-disable-next-line\nimport Table, {\n  TableBody,\n  TableHead,\n  TableCell,\n  TableRow,\n} from 'material-ui/Table';\nimport BanRow from './Row';\n\nconst enhance = translate();\n\nconst Header = withProps({\n  style: {\n    background: '#9d2053',\n    padding: '12px 24px',\n    lineHeight: '35px',\n  },\n})('div');\n\nconst Filter = withProps({\n  style: {\n    background: '#631032',\n    color: '#ffffff',\n    border: 0,\n    marginLeft: 12,\n    paddingLeft: 12,\n    height: 35,\n  },\n  type: 'text',\n})('input');\n\nconst BansList = ({\n  t,\n  bans,\n  onUnbanUser,\n}) => (\n  <React.Fragment>\n    <Header>\n      <span>Managing Bans:</span>\n      <span style={{ float: 'right' }}>\n        Filter User:\n        <Filter />\n      </span>\n    </Header>\n    <Table>\n      <TableHead>\n        <TableRow>\n          <TableCell />\n          <TableCell>{t('admin.bans.user')}</TableCell>\n          <TableCell>{t('admin.bans.duration')}</TableCell>\n          <TableCell>{t('admin.bans.reason')}</TableCell>\n          <TableCell>{t('admin.bans.bannedBy')}</TableCell>\n          <TableCell>{t('admin.bans.actions')}</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {bans.map(ban => (\n          <BanRow\n            key={ban.user._id}\n            ban={ban}\n            onUnbanUser={() => onUnbanUser(ban.user)}\n          />\n        ))}\n      </TableBody>\n    </Table>\n  </React.Fragment>\n);\n\nBansList.propTypes = {\n  t: PropTypes.func.isRequired,\n  bans: PropTypes.array.isRequired,\n  onUnbanUser: PropTypes.func.isRequired,\n};\n\nexport default enhance(BansList);\n","import { connect } from 'react-redux';\nimport compose from 'recompose/compose';\nimport lifecycle from 'recompose/lifecycle';\nimport { loadBans, unbanUserAndReload } from '../actions/bans';\nimport BansList from '../components/BansList';\n\nconst mapStateToProps = state => ({\n  bans: state.admin.bans.bans,\n});\n\nconst mapDispatchToProps = {\n  onLoadBans: loadBans,\n  onUnbanUser: unbanUserAndReload,\n};\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  lifecycle({\n    componentDidMount() {\n      this.props.onLoadBans();\n    },\n  }),\n)(BansList);\n","import mapProps from 'recompose/mapProps';\nimport componentFromProp from 'recompose/componentFromProp';\nimport Main from '../Main';\nimport UsersList from '../../containers/UsersList';\nimport BansList from '../../containers/BansList';\n\nconst pages = {\n  main: Main,\n  users: UsersList,\n  bans: BansList,\n};\n\nconst enhance = mapProps(props => ({\n  component: pages[props.page],\n}));\n\nconst CurrentPage = enhance(componentFromProp('component'));\n\nexport default CurrentPage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport List, { ListItem, ListItemText } from '../../../components/List';\nimport CurrentPage from './CurrentPage';\n\nimport '../../index.css';\n\nconst AdminApp = ({\n  currentView,\n  onTransition,\n}) => (\n  <div className=\"AdminApp\">\n    <div className=\"AdminApp-menu\">\n      <List>\n        <ListItem\n          selected={currentView === 'main'}\n          className=\"AdminApp-menuItem\"\n          onClick={() => onTransition('main')}\n        >\n          <ListItemText primary=\"Main\" />\n        </ListItem>\n        <ListItem\n          selected={currentView === 'users'}\n          className=\"AdminApp-menuItem\"\n          onClick={() => onTransition('users')}\n        >\n          <ListItemText primary=\"Users\" />\n        </ListItem>\n        <ListItem\n          selected={currentView === 'bans'}\n          className=\"AdminApp-menuItem\"\n          onClick={() => onTransition('bans')}\n        >\n          <ListItemText primary=\"Bans\" />\n        </ListItem>\n      </List>\n    </div>\n    <div className=\"AdminApp-page\">\n      <CurrentPage page={currentView} />\n    </div>\n  </div>\n);\n\nAdminApp.propTypes = {\n  currentView: PropTypes.string.isRequired,\n  onTransition: PropTypes.func.isRequired,\n};\n\nexport default AdminApp;\n","import {\n  LOAD_USERS_START,\n  LOAD_USERS_COMPLETE,\n} from '../constants/ActionTypes';\n\nconst initialState = {\n  currentPage: 0,\n  totalPages: 0,\n  totalUsers: 0,\n  users: [],\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case LOAD_USERS_START:\n      return state;\n    case LOAD_USERS_COMPLETE:\n      return {\n        ...state,\n        currentPage: action.payload.page,\n        totalUsers: action.meta.total,\n        totalPages: Math.ceil(action.meta.total / action.meta.pageSize),\n        users: action.payload.users,\n      };\n    default:\n      return state;\n  }\n}\n","import {\n  LOAD_BANS_START,\n  LOAD_BANS_COMPLETE,\n} from '../constants/ActionTypes';\n\nconst initialState = {\n  currentPage: {\n    offset: 0,\n    limit: 50,\n  },\n  bans: [],\n};\n\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case LOAD_BANS_START:\n      return state;\n    case LOAD_BANS_COMPLETE:\n      return {\n        ...state,\n        bans: action.payload.bans,\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\n\nimport users from './users';\nimport bans from './bans';\nimport view from './view';\n\nexport default combineReducers({\n  users,\n  bans,\n  view,\n});\n","import { TRANSITION } from '../constants/ActionTypes';\n\nexport default function reducer(state = 'main', action) {\n  if (action.type === TRANSITION) {\n    return action.payload;\n  }\n  return state;\n}\n","import { createSelector } from 'reselect';\nimport baseSelector from './baseSelector';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const currentViewSelector = createSelector(\n  baseSelector,\n  base => base.view,\n);\n","import PropTypes from 'prop-types';\nimport compose from 'recompose/compose';\nimport getContext from 'recompose/getContext';\nimport lifecycle from 'recompose/lifecycle';\nimport { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport AdminApp from '../components/AdminApp';\nimport adminReducer from '../reducers';\nimport { transition } from '../actions/view';\nimport { currentViewSelector } from '../selectors/viewSelectors';\n\nconst mapStateToProps = createStructuredSelector({\n  currentView: currentViewSelector,\n});\n\nconst mapDispatchToProps = {\n  onTransition: transition,\n};\n\nfunction hasAdminState(store) {\n  const state = store.getState();\n\n  return state && !!state.admin;\n}\n\nfunction mountAdminReducer(store) {\n  store.mount('admin', adminReducer);\n}\n\nfunction mountAdminReducerOnce(store) {\n  if (!hasAdminState(store)) {\n    mountAdminReducer(store);\n  }\n}\n\nconst enhance = compose(\n  getContext({ store: PropTypes.object }),\n  lifecycle({\n    componentWillMount() {\n      if (this.props.store) {\n        mountAdminReducerOnce(this.props.store);\n      }\n    },\n  }),\n  connect(mapStateToProps, mapDispatchToProps),\n);\n\nexport default enhance(AdminApp);\n","import { TRANSITION } from '../constants/ActionTypes';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function transition(target) {\n  return {\n    type: TRANSITION,\n    payload: target,\n  };\n}\n"],"sourceRoot":""}