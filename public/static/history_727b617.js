(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{780:function(e,o,t){"use strict";t.r(o);var n=t(2),s=t.n(n),a=t(0),i=t.n(a),r=t(11),c=t.n(r),d=t(5),u=t.n(d),l=t(1),p=t.n(l),m=t(4),v=t.n(m),w=t(9),R=t(62),f=t(79),h=t(37),y=t.n(h),M=t(219),N=t(218),g=t(12),A=t.n(g),O=t(56),D=t(110),B=t(63),b=t(281),k=t(111),C=t(17),H=t.n(C),P=t(103),E=t.n(P),L=t(112);var S=function(e){var o=e.t,t=Math.max(0,Math.floor((e.currentTime-e.timestamp)/1e3)),n=E()(1e3*t,{long:!0}),s=function(e){var o=e.split(" "),t=o[0];return{key:o[1].replace(/s$/,"")+"s",count:parseInt(t,10)}}(n),a=s.key,r=s.count;return i()("span",{},void 0,o("timeAgo.format",{time:o("timeAgo."+a,{count:r,defaultValue:n})}))};S.propTypes={};var T=H()(Object(w.c)(),Object(L.a)())(S),j=t(108),V=t.n(j),I=t(107),K=t.n(I),F=t(106),J=t.n(F),_=t(150),q=t.n(_),x=function(e){var o=e.upvotes,t=e.downvotes,n=e.favorites,s=e.isUpvote,a=e.isDownvote,r=e.isFavorite?J.a:q.a;return i()("div",{className:"HistoryVotes AudienceResponse"},void 0,i()("div",{className:"ResponseButton ResponseButton--static"},void 0,i()("div",{className:"ResponseButton-content"},void 0,i()(K.a,{className:u()("HistoryVotes-icon",s&&"ResponseButton-icon--upvoted")}),i()("span",{className:"ResponseButton-count"},void 0,o.length))),i()("div",{className:"ResponseButton ResponseButton--static"},void 0,i()("div",{className:"ResponseButton-content"},void 0,i()(r,{className:"HistoryVotes-icon ResponseButton-icon--favorite"}),i()("span",{className:"ResponseButton-count"},void 0,n.length))),i()("div",{className:"ResponseButton ResponseButton--static"},void 0,i()("div",{className:"ResponseButton-content"},void 0,i()(V.a,{className:u()("HistoryVotes-icon",a&&"ResponseButton-icon--downvoted")}),i()("span",{className:"ResponseButton-count"},void 0,t.length))))};x.propTypes={};var z=x,U={beginDrag:function(e){var o=e.selection,t=e.media;return{media:function(e,o){return e.some(function(e){return e._id===o._id})}(o,t.media)?o:[t.media]}}},$=Object(O.DragSource)(B.MEDIA,U,function(e){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview()}}),G=function(e){function o(){for(var o,t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];return(o=e.call.apply(e,[this].concat(n))||this).state={showActions:!1},o.handleMouseEnter=function(){o.setState({showActions:!0})},o.handleMouseLeave=function(){o.setState({showActions:!1})},o.handleDoubleClick=function(){var e=o.props;(0,e.onOpenPreviewMediaDialog)(e.media.media)},o.handleKeyPress=function(e){"Space"===e.code&&(0,o.props.onClick)()},o}A()(o,e);var t=o.prototype;return t.componentDidMount=function(){(0,this.props.connectDragPreview)(Object(D.getEmptyImage)())},t.render=function(){var e=this.props,o=e.media,t=e.className,n=e.selection,s=e.connectDragSource,a=e.makeActions,r=e.onClick,c=this.state.showActions,d=o.media,l=o.timestamp,m=o.user,v=o.stats,w=e.selected?"is-selected":"",R=i()("div",{className:"MediaListRow-thumb"},void 0,i()("img",{className:"MediaListRow-image",src:d.thumbnail,alt:""}));return s(i()("div",{className:u()("MediaListRow","HistoryRow",t,w),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDoubleClick:this.handleDoubleClick,onKeyPress:this.handleKeyPress,onClick:r},void 0,R,i()(k.a,{className:"HistoryRow-song",size:"mediaRow",artist:d.artist,title:d.title}),i()("div",{className:"HistoryRow-votes"},void 0,p.a.createElement(z,v)),i()("div",{className:"HistoryRow-user"},void 0,m.username),i()("div",{className:"HistoryRow-time",dateTime:l},void 0,i()(T,{timestamp:l})),c&&i()(b.a,{className:u()("MediaListRow-actions",w),selection:n,media:d,makeActions:a})))},o}(p.a.Component);G.defaultProps={selected:!1},G.propTypes={};var Q=$(G),W=function(){return[]},X=y()(function(e){var o=e.onOpenAddMediaMenu;return{className:"RoomHistory-list",listComponent:"div",rowComponent:Q,makeActions:o?function(e){return function(o,t){return i()(p.a.Fragment,{},void 0,i()(N.a,{onAdd:function(n){return e(n,o,t)}}))}}(o):W}})(M.a);X.propTypes={onOpenAddMediaMenu:v.a.func.isRequired};var Y=X,Z=Object(w.c)(),ee=function(e){var o=e.t,t=e.className,n=e.onCloseOverlay,a=e.onOpenAddMediaMenu,r=e.onOpenPreviewMediaDialog,d=c()(e,["t","className","onCloseOverlay","onOpenAddMediaMenu","onOpenPreviewMediaDialog"]);return i()("div",{className:u()("RoomHistory",t)},void 0,i()(R.a,{direction:"top",className:"AppRow AppRow--top",title:o("history.title"),onCloseOverlay:n}),i()(f.a,{className:"RoomHistory-body"},void 0,p.a.createElement(Y,s()({onOpenAddMediaMenu:a,onOpenPreviewMediaDialog:r},d))))};ee.propTypes={};o.default=Z(ee)}}]);
//# sourceMappingURL=history_727b617.js.map