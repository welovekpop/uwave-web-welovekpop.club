{"version":3,"sources":["webpack:///./reducers/auth.js","webpack:///./reducers/config.js","webpack:///./reducers/errors.js","webpack:///./reducers/theme.js","webpack:///./store/request.js","webpack:///./utils/readApplicationConfig.js","webpack:///./actions/RequestActionCreators.js","webpack:///./components/Form/Group.js","webpack:///./constants/actionTypes/auth.js","webpack:///./constants/actionTypes/booth.js","webpack:///./constants/actionTypes/chat.js","webpack:///./constants/actionTypes/dialogs.js","webpack:///./constants/actionTypes/errors.js","webpack:///./constants/actionTypes/imports.js","webpack:///./constants/actionTypes/moderation.js","webpack:///./constants/actionTypes/overlay.js","webpack:///./constants/actionTypes/panel.js","webpack:///./constants/actionTypes/playlists.js","webpack:///./constants/actionTypes/request.js","webpack:///./constants/actionTypes/search.js","webpack:///./constants/actionTypes/settings.js","webpack:///./constants/actionTypes/theme.js","webpack:///./constants/actionTypes/time.js","webpack:///./constants/actionTypes/users.js","webpack:///./constants/actionTypes/votes.js","webpack:///./constants/actionTypes/waitlist.js","webpack:///./components/Form/TextField.js","webpack:///../node_modules/querystring-es3/index.js","webpack:///./selectors/configSelectors.js","webpack:///./components/Form/Button.js","webpack:///./components/Form/index.js","webpack:///../node_modules/querystring-es3/decode.js","webpack:///../node_modules/querystring-es3/encode.js","webpack:///./password-reset/constants.js","webpack:///./password-reset/reducers.js","webpack:///./password-reset/actions.js","webpack:///./password-reset/components/PasswordResetPage/index.js","webpack:///./password-reset/components/PasswordResetSuccessPage/index.js","webpack:///./password-reset/containers/PasswordResetApp.js","webpack:///./password-reset/app.js","webpack:///./theme.js","webpack:///./selectors/userSelectors.js","webpack:///./locale.js","webpack:///./actions/ErrorActionCreators.js","webpack:///./selectors/errorSelectors.js","webpack:///./components/ErrorArea/index.js","webpack:///./containers/ErrorArea.js"],"names":["initialState","strategies","token","user","error","reduce","state","action","payload","isError","type","_constants_ActionTypes__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default","authStrategies","_id","roles","length","message","concat","slice","_theme__WEBPACK_IMPORTED_MODULE_2__","Object","deepmerge__WEBPACK_IMPORTED_MODULE_0__","makeUrl","path","params","object","uri","keys","includes","qs_stringify__WEBPACK_IMPORTED_MODULE_1___default","rejectNonOK","response","status","json","then","res","Error","errors","assign","map","err","title","join","defaultOptions","apiUrl","middleware","middlewareOptions","_ref","dispatch","getState","next","_constants_ActionTypes__WEBPACK_IMPORTED_MODULE_2__","opts","_selectors_configSelectors__WEBPACK_IMPORTED_MODULE_4__","_selectors_userSelectors__WEBPACK_IMPORTED_MODULE_5__","_action$payload","method","url","qs","data","_action$meta","meta","onStart","onComplete","onError","completedMeta","id","requestUrl","requestOptions","headers","Accept","Content-Type","credentials","Authorization","body","JSON","stringify","fetch","responseValue","_actions_RequestActionCreators__WEBPACK_IMPORTED_MODULE_3__","catch","readApplicationConfig","container","parse","document","querySelector","textContent","e","requestID","request","_opts","requestOpts","_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default","requestComplete","requestCompleteError","get","post","put","del","FormGroup","children","className","props","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","classnames__WEBPACK_IMPORTED_MODULE_2___default","propTypes","__webpack_exports__","TextField","refInput","input","_this","render","_this$props","this","icon","_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_jsx__WEBPACK_IMPORTED_MODULE_0___default","classnames__WEBPACK_IMPORTED_MODULE_5___default","react__WEBPACK_IMPORTED_MODULE_6___default","_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default","ref","value","Component","defaultProps","exports","decode","__webpack_require__","encode","configSelector","config","requestOptionsSelector","reselect__WEBPACK_IMPORTED_MODULE_0__","options","availableEmojiImagesSelector","emoji","availableEmojiNamesSelector","reCaptchaSelector","recaptcha","reCaptchaSiteKeySelector","rc","key","rolesSelector","roleColorsSelector","lodash_memoize__WEBPACK_IMPORTED_MODULE_1___default","roleName","admin","manager","moderator","special","default","Button","text","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_5__","variant","color","Form","hasOwnProperty","obj","prop","prototype","call","module","sep","eq","regexp","split","maxKeys","len","i","kstr","vstr","k","v","x","replace","idx","indexOf","substr","decodeURIComponent","isArray","push","Array","xs","toString","stringifyPrimitive","isFinite","name","undefined","objectKeys","ks","encodeURIComponent","f","SET_RESET_KEY","SET_RESET_SUCCESS","passwordReset","extends_default","success","resetPasswordComplete","enhance","dist_es","jsx_default","Email_default","nativeColor","Lock_default","PasswordResetPage_PasswordResetPage","newPassword","newPasswordConfirm","handlePasswordChange","event","setState","target","handlePasswordConfirmChange","handleSubmit","onSubmit","preventDefault","isValid","_this$state","t","email","_this$state2","Paper","Group","Typography","disabled","placeholder","PasswordResetPage_ref","autocomplete","onChange","_ref2","_ref3","react_default","components_PasswordResetPage","PasswordResetSuccessPage_enhance","PasswordResetSuccessPage_PasswordResetSuccessPage","components_PasswordResetSuccessPage","mapStateToProps","reselect_es","mapDispatchToProps","RequestActionCreators","password","PasswordResetApp_enhance","es","muiTheme","createMuiTheme","theme_0","ErrorArea","PasswordResetApp_PasswordResetApp","locale","objectWithoutPropertiesLoose_default","MuiThemeProvider","theme","i18n","PasswordResetApp_ref2","PasswordResetApp_ref3","containers_PasswordResetApp","app_config","app_key","store","redux","reducers_namespaceObject","redux_thunk_es","querystring_es3","window","location","search","locale_0","react_dom_default","react_hot_loader","palette","primary","light","main","contrastText","background","paper","typography","fontFamily","uwave","scrollbar","backgroundHover","link","sidePanel","alternate","mediaList","mutedText","overrides","MuiIconButton","root","&:hover","backgroundColor","authSelector","auth","usersBaseSelector","users","usersSelector","base","authErrorSelector","currentUserIDSelector","currentUserSelector","userID","isLoggedInSelector","Boolean","tokenSelector","authStrategiesSelector","supportsSocialAuthSelector","_len","arguments","support","_key","some","superUserRoleSelector","getAllUserRoles","getSubRoles","subRoles","role","userListSelector","_configSelectors__WEBPACK_IMPORTED_MODULE_2__","superuserRole","values","sort","superuser","b","aRoles","bRoles","natural_compare__WEBPACK_IMPORTED_MODULE_1___default","username","toLowerCase","compareUsers","userCountSelector","guestCountSelector","guests","listenerCountSelector","userHasRoleSelector","superUserRole","userRoles","hasRoleSelector","userHasRole","currentUserHasRoleSelector","createRoleCheckSelector","hasRole","isModeratorSelector","isManagerSelector","resources","cs","bind","cy","de","fr","ko","nl","pt","zh","UwaveBackend","cache","getResource","language","Promise","reject","read","namespace","callback","resource","result","i18next__WEBPACK_IMPORTED_MODULE_0__","use","init","fallbackLng","defaultNS","interpolation","escapeValue","addResourceBundle","_locale_en_yaml__WEBPACK_IMPORTED_MODULE_1__","availableLanguages","createLocale","cloneInstance","on","lang","documentElement","resolve","changeLanguage","dismiss","ActionTypes","firstErrorSelector","ErrorArea_ErrorArea","onDismiss","Snackbar","ContentProps","open","onClose","components_ErrorArea"],"mappings":"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","file":"static/passwordReset_5096a3c.js","sourcesContent":["import {\n  INIT_STATE,\n  AUTH_STRATEGIES,\n  RESET_PASSWORD_COMPLETE,\n  REGISTER_COMPLETE,\n  LOGIN_COMPLETE,\n  SET_TOKEN,\n  LOGOUT_COMPLETE,\n} from '../constants/ActionTypes';\n\nconst initialState = {\n  strategies: ['local'],\n  token: null,\n  user: null,\n  error: null,\n};\n\nexport default function reduce(state = initialState, action = {}) {\n  const { type, payload, error: isError } = action;\n  switch (type) {\n    case INIT_STATE:\n      return {\n        ...state,\n        strategies: payload.authStrategies,\n      };\n    case AUTH_STRATEGIES:\n      return {\n        ...state,\n        strategies: payload.strategies,\n      };\n    case RESET_PASSWORD_COMPLETE:\n      return isError ? {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: payload,\n      } : {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: null,\n      };\n    case SET_TOKEN:\n      return {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: null,\n      };\n    case LOGIN_COMPLETE:\n      return isError ? {\n        ...state,\n        token: null,\n        user: null,\n        error: payload,\n      } : {\n        ...state,\n        token: payload.token,\n        user: payload.user._id,\n        error: null,\n      };\n    case REGISTER_COMPLETE:\n      return {\n        ...state,\n        token: null,\n        user: null,\n        error: payload,\n      };\n    case LOGOUT_COMPLETE:\n      return initialState;\n    default:\n      return state;\n  }\n}\n","import { INIT_STATE } from '../constants/ActionTypes';\n\nconst initialState = {};\n\nexport default function reduce(state = initialState, action = {}) {\n  const { type, payload } = action;\n  switch (type) {\n    case INIT_STATE:\n      if (payload.roles) {\n        return {\n          ...state,\n          roles: payload.roles,\n        };\n      }\n      return state;\n    default:\n      return state;\n  }\n}\n","export default function reduce(state = [], action = {}) {\n  const { type, payload, error } = action;\n  if (error) {\n    // Avoid adding the same error over and over\n    if (state.length === 0 || state[state.length - 1] !== payload.message) {\n      return [...state, payload.message];\n    }\n  } else if (type === 'errors/DISMISS') {\n    return state.slice(1);\n  }\n  return state;\n}\n","import merge from 'deepmerge';\nimport { RESET_THEME, APPLY_THEME } from '../constants/ActionTypes';\nimport initialState from '../theme';\n\nexport default function reduce(state = initialState, action = {}) {\n  switch (action.type) {\n    case RESET_THEME:\n      return initialState;\n    case APPLY_THEME:\n      return merge(state, action.payload);\n    default:\n      return state;\n  }\n}\n","import qsStringify from 'qs-stringify';\nimport { REQUEST_START } from '../constants/ActionTypes';\nimport {\n  requestComplete,\n  requestCompleteError,\n} from '../actions/RequestActionCreators';\nimport { requestOptionsSelector } from '../selectors/configSelectors';\nimport { tokenSelector } from '../selectors/userSelectors';\n\nfunction isEmpty(object) {\n  return !object || Object.keys(object).length === 0;\n}\n\nfunction makeUrl(path, params = {}) {\n  let uri = path;\n\n  if (!isEmpty(params)) {\n    // hehâ€¦\n    uri += (uri.includes('?') ? '&' : '?') + qsStringify(params);\n  }\n\n  return uri;\n}\n\nfunction rejectNonOK(response) {\n  if (response.status !== 200) {\n    return response.json().then((res) => {\n      if (!('errors' in res)) {\n        throw new Error('An unknown error occurred.');\n      }\n      const { errors } = res;\n      const error = Object.assign(new Error(errors.map(err => err.title).join(', ')), {\n        response,\n        errors,\n      });\n      throw error;\n    });\n  }\n  return response;\n}\n\nconst defaultOptions = {\n  apiUrl: '/api',\n};\n\nexport default function middleware(middlewareOptions = {}) {\n  return ({ dispatch, getState }) => next => (action) => {\n    if (action.type !== REQUEST_START) {\n      return next(action);\n    }\n\n    const opts = {\n      ...defaultOptions,\n      ...middlewareOptions,\n      ...requestOptionsSelector(getState()),\n    };\n\n    const token = tokenSelector(getState());\n    const {\n      method,\n      url,\n      qs,\n      data,\n    } = action.payload;\n    const {\n      id,\n      onStart,\n      onComplete,\n      onError,\n    } = action.meta;\n\n    const completedMeta = {\n      id,\n      method,\n      url,\n      qs,\n      data,\n    };\n\n    const requestUrl = makeUrl(opts.apiUrl + url, qs);\n\n    const requestOptions = {\n      method,\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      credentials: 'same-origin',\n    };\n\n    if (token && token !== 'cookie') {\n      requestOptions.headers.Authorization = `JWT ${token}`;\n    }\n\n    if (method !== 'get') {\n      requestOptions.body = JSON.stringify(data);\n    }\n\n    if (onStart) {\n      dispatch(onStart());\n    }\n\n    return fetch(requestUrl, requestOptions)\n      .then(rejectNonOK)\n      .then(res => res.json())\n      .then((res) => {\n        let responseValue = res;\n        if (onComplete) {\n          responseValue = dispatch(onComplete(responseValue));\n        }\n        dispatch(requestComplete(res, completedMeta));\n        return responseValue;\n      })\n      .catch((error) => {\n        if (onError) {\n          dispatch(onError(error));\n        }\n        dispatch(requestCompleteError(error, completedMeta));\n        throw error;\n      });\n  };\n}\n","export default function readApplicationConfig(container = '#u-wave-config') {\n  try {\n    return JSON.parse(document.querySelector(container).textContent);\n  } catch (e) {\n    return {};\n  }\n}\n","import {\n  REQUEST_START,\n  REQUEST_COMPLETE,\n} from '../constants/ActionTypes';\n\nlet requestID = 0;\nfunction request(method, url, opts = {}) {\n  const {\n    onStart,\n    onComplete,\n    onError,\n    ...requestOpts\n  } = opts;\n\n  requestID += 1;\n\n  return {\n    type: REQUEST_START,\n    payload: {\n      ...requestOpts,\n      method,\n      url,\n    },\n    meta: {\n      onStart,\n      onComplete,\n      onError,\n      id: requestID,\n    },\n  };\n}\n\nexport function requestComplete(response, meta) {\n  return {\n    type: REQUEST_COMPLETE,\n    payload: response,\n    meta,\n  };\n}\n\nexport function requestCompleteError(error, meta) {\n  return {\n    type: REQUEST_COMPLETE,\n    error: true,\n    payload: error,\n    meta,\n  };\n}\n\nexport const get = (url, opts) => request('get', url, opts);\n\nexport const post = (url, data, opts = {}) => request('post', url, { data, ...opts });\n\nexport const put = (url, data, opts = {}) => request('put', url, { data, ...opts });\n\nexport const del = (url, data, opts = {}) => request('delete', url, { data, ...opts });\n","import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst FormGroup = ({ children, className, ...props }) => (\n  <div\n    className={cx('FormGroup', className)}\n    {...props}\n  >\n    {children}\n  </div>\n);\n\nFormGroup.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node.isRequired,\n};\n\nexport default FormGroup;\n","export const INIT_STATE = 'auth/INIT_STATE';\nexport const SOCKET_CONNECT = 'auth/SOCKET_CONNECT';\nexport const SOCKET_RECONNECT = 'auth/SOCKET_RECONNECT';\nexport const SOCKET_CONNECTED = 'auth/SOCKET_CONNECTED';\nexport const SOCKET_DISCONNECTED = 'auth/SOCKET_DISCONNECTED';\n\nexport const AUTH_STRATEGIES = 'auth/AUTH_STRATEGIES';\nexport const SET_TOKEN = 'auth/SET_TOKEN';\n\nexport const REGISTER_START = 'auth/REGISTER_START';\nexport const REGISTER_COMPLETE = 'auth/REGISTER_COMPLETE';\n\nexport const LOGIN_START = 'auth/LOGIN_START';\nexport const LOGIN_COMPLETE = 'auth/LOGIN_COMPLETE';\n\nexport const LOGOUT_START = 'auth/LOGOUT_START';\nexport const LOGOUT_COMPLETE = 'auth/LOGOUT_COMPLETE';\n\nexport const RESET_PASSWORD_COMPLETE = 'auth/RESET_PASSWORD_COMPLETE';\n","export const ADVANCE = 'booth/ADVANCE';\nexport const BOOTH_SKIP = 'booth/SKIP';\nexport const LOAD_HISTORY_START = 'booth/LOAD_HISTORY_START';\nexport const LOAD_HISTORY_COMPLETE = 'booth/LOAD_HISTORY_COMPLETE';\n\nexport const ENTER_FULLSCREEN = 'playback/ENTER_FULLSCREEN';\nexport const EXIT_FULLSCREEN = 'playback/EXIT_FULLSCREEN';\n","export const RECEIVE_MOTD = 'chat/RECEIVE_MOTD';\nexport const SET_MOTD_START = 'chat/SET_MOTD_START';\nexport const SET_MOTD_COMPLETE = 'chat/SET_MOTD_COMPLETE';\n\nexport const RECEIVE_MESSAGE = 'chat/RECEIVE_MESSAGE';\nexport const SEND_MESSAGE = 'chat/SEND_MESSAGE';\n\nexport const NOTIFY = 'chat/NOTIFY';\nexport const LOG = 'chat/LOG';\n\nexport const REMOVE_MESSAGE = 'chat/REMOVE_MESSAGE';\nexport const REMOVE_USER_MESSAGES = 'chat/REMOVE_USER_MESSAGES';\nexport const REMOVE_ALL_MESSAGES = 'chat/REMOVE_ALL_MESSAGES';\n\nexport const MUTE_USER = 'chat/MUTE_USER';\nexport const UNMUTE_USER = 'chat/UNMUTE_USER';\n","export const OPEN_EDIT_MEDIA_DIALOG = 'dialogs/OPEN_EDIT_MEDIA_DIALOG';\nexport const CLOSE_EDIT_MEDIA_DIALOG = 'dialogs/CLOSE_EDIT_MEDIA_DIALOG';\n\nexport const OPEN_PREVIEW_MEDIA_DIALOG = 'auth/OPEN_PREVIEW_MEDIA_DIALOG';\nexport const CLOSE_PREVIEW_MEDIA_DIALOG = 'auth/CLOSE_PREVIEW_MEDIA_DIALOG';\n\nexport const OPEN_LOGIN_DIALOG = 'auth/OPEN_LOGIN_DIALOG';\nexport const CLOSE_LOGIN_DIALOG = 'auth/CLOSE_LOGIN_DIALOG';\n\nexport const OPEN_RESET_PASSWORD_DIALOG = 'auth/OPEN_RESET_PASSWORD_DIALOG';\nexport const CLOSE_RESET_PASSWORD_DIALOG = 'auth/CLOSE_RESET_PASSWORD_DIALOG';\n","// eslint-disable-next-line import/prefer-default-export\nexport const ERROR_DISMISS = 'errors/DISMISS';\n","export const SHOW_IMPORT_PANEL = 'imports/SHOW_IMPORT_PANEL';\nexport const HIDE_IMPORT_PANEL = 'imports/HIDE_IMPORT_PANEL';\nexport const SHOW_IMPORT_SOURCE_PANEL = 'imports/SHOW_IMPORT_SOURCE_PANEL';\nexport const HIDE_IMPORT_SOURCE_PANEL = 'imports/HIDE_IMPORT_SOURCE_PANEL';\n","export const SKIP_DJ_START = 'moderation/SKIP_DJ_START';\nexport const SKIP_DJ_COMPLETE = 'moderation/SKIP_DJ_COMPLETE';\n\nexport const MOVE_USER_START = 'moderation/MOVE_USER_START';\nexport const MOVE_USER_COMPLETE = 'moderation/MOVE_USER_COMPLETE';\n\nexport const REMOVE_USER_START = 'moderation/REMOVE_USER_START';\nexport const REMOVE_USER_COMPLETE = 'moderation/REMOVE_USER_COMPLETE';\n\nexport const MUTE_USER_START = 'moderation/MUTE_USER_START';\nexport const MUTE_USER_COMPLETE = 'moderation/MUTE_USER_COMPLETE';\nexport const UNMUTE_USER_START = 'moderation/UNMUTE_USER_START';\nexport const UNMUTE_USER_COMPLETE = 'moderation/UNMUTE_USER_COMPLETE';\n\nexport const BAN_USER_START = 'moderation/BAN_USER_START';\nexport const BAN_USER_COMPLETE = 'moderation/BAN_USER_COMPLETE';\n\nexport const ADD_USER_ROLES_START = 'moderation/ADD_USER_ROLES_START';\nexport const ADD_USER_ROLES_COMPLETE = 'moderation/ADD_USER_ROLES_COMPLETE';\nexport const REMOVE_USER_ROLES_START = 'moderation/REMOVE_USER_ROLES_START';\nexport const REMOVE_USER_ROLES_COMPLETE = 'moderation/REMOVE_USER_ROLES_COMPLETE';\n","export const OPEN_OVERLAY = 'overlay/OPEN_OVERLAY';\nexport const CLOSE_OVERLAY = 'overlay/CLOSE_OVERLAY';\nexport const TOGGLE_OVERLAY = 'overlay/TOGGLE_OVERLAY';\n","// eslint-disable-next-line import/prefer-default-export\nexport const SELECT_PANEL = 'panel/SELECT_PANEL';\n","export const LOAD_PLAYLIST_START = 'playlists/LOAD_PLAYLIST_START';\nexport const LOAD_PLAYLIST_COMPLETE = 'playlists/LOAD_PLAYLIST_COMPLETE';\nexport const FILTER_PLAYLIST_ITEMS = 'playlists/FILTER_PLAYLIST_ITEMS';\nexport const FILTER_PLAYLIST_ITEMS_START = 'playlists/FILTER_PLAYLIST_ITEMS_START';\nexport const FILTER_PLAYLIST_ITEMS_COMPLETE = 'playlists/FILTER_PLAYLIST_ITEMS_COMPLETE';\nexport const PLAYLIST_CYCLED = 'playlists/PLAYLIST_CYCLED';\n\nexport const SELECT_PLAYLIST = 'playlists/SELECT_PLAYLIST';\n\nexport const ACTIVATE_PLAYLIST_START = 'playlists/ACTIVATE_PLAYLIST_START';\nexport const ACTIVATE_PLAYLIST_COMPLETE = 'playlists/ACTIVATE_PLAYLIST_COMPLETE';\n\nexport const LOAD_ALL_PLAYLISTS_START = 'playlists/LOAD_ALL_PLAYLISTS_START';\nexport const LOAD_ALL_PLAYLISTS_COMPLETE = 'playlists/LOAD_ALL_PLAYLISTS_COMPLETE';\n\nexport const CREATE_PLAYLIST_START = 'playlists/CREATE_PLAYLIST_START';\nexport const CREATE_PLAYLIST_COMPLETE = 'playlists/CREATE_PLAYLIST_COMPLETE';\n\nexport const RENAME_PLAYLIST_START = 'playlists/RENAME_PLAYLIST_START';\nexport const RENAME_PLAYLIST_COMPLETE = 'playlists/RENAME_PLAYLIST_COMPLETE';\n\nexport const DELETE_PLAYLIST_START = 'playlists/DELETE_PLAYLIST_START';\nexport const DELETE_PLAYLIST_COMPLETE = 'playlists/DELETE_PLAYLIST_COMPLETE';\n\nexport const OPEN_ADD_MEDIA_MENU = 'playlists/OPEN_ADD_MEDIA_MENU';\nexport const CLOSE_ADD_MEDIA_MENU = 'playlists/CLOSE_ADD_MEDIA_MENU';\nexport const ADD_MEDIA_START = 'playlists/ADD_MEDIA_START';\nexport const ADD_MEDIA_COMPLETE = 'playlists/ADD_MEDIA_COMPLETE';\n\nexport const REMOVE_MEDIA_START = 'playlists/REMOVE_MEDIA_START';\nexport const REMOVE_MEDIA_COMPLETE = 'playlists/REMOVE_MEDIA_COMPLETE';\n\nexport const MOVE_MEDIA_START = 'playlists/MOVE_MEDIA_START';\nexport const MOVE_MEDIA_COMPLETE = 'playlists/MOVE_MEDIA_COMPLETE';\n\nexport const UPDATE_MEDIA_START = 'playlists/UPDATE_MEDIA_START';\nexport const UPDATE_MEDIA_COMPLETE = 'playlists/UPDATE_MEDIA_COMPLETE';\n\nexport const SHUFFLE_PLAYLIST_START = 'playlists/SHUFFLE_PLAYLIST_START';\nexport const SHUFFLE_PLAYLIST_COMPLETE = 'playlists/SHUFFLE_PLAYLIST_COMPLETE';\n","export const REQUEST_START = 'request/REQUEST_START';\nexport const REQUEST_COMPLETE = 'request/REQUEST_COMPLETE';\n","export const SHOW_SEARCH_RESULTS = 'search/SHOW_SEARCH_RESULTS';\nexport const SET_SEARCH_SOURCE = 'search/SET_SEARCH_SOURCE';\nexport const SEARCH_START = 'search/SEARCH_START';\nexport const SEARCH_COMPLETE = 'search/SEARCH_COMPLETE';\nexport const SEARCH_DELETE = 'search/SEARCH_DELETE';\n","export const LOAD_SETTINGS = 'settings/LOAD_SETTINGS';\nexport const CHANGE_SETTING = 'settings/CHANGE_SETTING';\n","export const RESET_THEME = 'uwave/debug/RESET_THEME';\nexport const APPLY_THEME = 'uwave/debug/APPLY_THEME';\n","export const SET_TIMER = 'tick/SET_TIMER';\nexport const OFFSET = 'tick/OFFSET';\n","export const LOAD_ONLINE_USERS = 'users/LOAD';\nexport const USER_JOIN = 'users/JOIN';\nexport const USER_LEAVE = 'users/LEAVE';\nexport const CHANGE_USERNAME = 'users/CHANGE_USERNAME';\nexport const USER_ADD_ROLES = 'users/ADD_ROLES';\nexport const USER_REMOVE_ROLES = 'users/REMOVE_ROLES';\n\nexport const RECEIVE_GUEST_COUNT = 'users/RECEIVE_GUEST_COUNT';\n\nexport const DO_CHANGE_USERNAME_START = 'users/DO_CHANGE_USERNAME_START';\nexport const DO_CHANGE_USERNAME_COMPLETE = 'users/DO_CHANGE_USERNAME_COMPLETE';\n","export const LOAD_VOTES = 'votes/LOAD_VOTES';\nexport const UPVOTE = 'votes/UPVOTE';\nexport const DOWNVOTE = 'votes/DOWNVOTE';\nexport const FAVORITE = 'votes/FAVORITE';\n\nexport const DO_UPVOTE = 'votes/DO_UPVOTE';\nexport const DO_DOWNVOTE = 'votes/DO_DOWNVOTE';\nexport const DO_FAVORITE_START = 'votes/DO_FAVORITE_START';\nexport const DO_FAVORITE_COMPLETE = 'votes/DO_FAVORITE_COMPLETE';\n","export const WAITLIST_LOAD = 'waitlist/LOAD';\n\nexport const WAITLIST_LOCK = 'waitlist/LOCK';\nexport const WAITLIST_CLEAR = 'waitlist/CLEAR';\n\nexport const WAITLIST_UPDATE = 'waitlist/UPDATE';\nexport const WAITLIST_JOIN = 'waitlist/JOIN';\nexport const WAITLIST_LEAVE = 'waitlist/LEAVE';\nexport const WAITLIST_MOVE = 'waitlist/MOVE';\n\nexport const DO_JOIN_START = 'waitlist/DO_JOIN_START';\nexport const DO_JOIN_COMPLETE = 'waitlist/DO_JOIN_COMPLETE';\n\nexport const DO_LEAVE_START = 'waitlist/DO_LEAVE_START';\nexport const DO_LEAVE_COMPLETE = 'waitlist/DO_LEAVE_COMPLETE';\n\nexport const DO_LOCK_START = 'waitlist/DO_LOCK_START';\nexport const DO_LOCK_COMPLETE = 'waitlist/DO_LOCK_COMPLETE';\n\nexport const DO_CLEAR_START = 'waitlist/DO_CLEAR_START';\nexport const DO_CLEAR_COMPLETE = 'waitlist/DO_CLEAR_COMPLETE';\n","import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class TextField extends React.Component {\n  static propTypes = {\n    className: PropTypes.string,\n    type: PropTypes.string,\n    icon: PropTypes.element,\n  };\n\n  static defaultProps = {\n    type: 'text',\n  };\n\n  get value() {\n    return this.input.value;\n  }\n\n  refInput = (input) => {\n    this.input = input;\n  };\n\n  render() {\n    const {\n      type, icon, className, ...props\n    } = this.props;\n    return (\n      <div className={cx('TextField', className)}>\n        <input\n          ref={this.refInput}\n          className=\"TextField-input\"\n          type={type}\n          {...props}\n        />\n        <div className=\"TextField-icon\">{icon}</div>\n      </div>\n    );\n  }\n}\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","import { createSelector } from 'reselect';\nimport memoize from 'lodash/memoize';\n\nexport const configSelector = state => state.config;\n\nexport const requestOptionsSelector = createSelector(\n  configSelector,\n  (config) => {\n    const options = {};\n    if (config.apiUrl) {\n      options.apiUrl = config.apiUrl;\n    }\n    return options;\n  },\n);\n\nexport const availableEmojiImagesSelector = createSelector(\n  configSelector,\n  config => config.emoji || {},\n);\n\nexport const availableEmojiNamesSelector = createSelector(\n  availableEmojiImagesSelector,\n  emoji => Object.keys(emoji),\n);\n\nconst reCaptchaSelector = createSelector(\n  configSelector,\n  config => config.recaptcha,\n);\n\nexport const reCaptchaSiteKeySelector = createSelector(\n  reCaptchaSelector,\n  rc => (rc ? rc.key : false),\n);\n\nexport const rolesSelector = createSelector(\n  configSelector,\n  config => config.roles,\n);\n\nexport const roleSelector = memoize(roleName => createSelector(\n  rolesSelector,\n  roles => roles[roleName],\n));\n\n// TODO configurable.\nexport const roleColorsSelector = () => ({\n  admin: '#ff3b74',\n  manager: '#05daa5',\n  moderator: '#00b3dc',\n  special: '#fc911d',\n  default: '',\n});\n","import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport MuiButton from '@material-ui/core/Button';\n\nconst Button = ({\n  children, className, text, ...props\n}) => (\n  <MuiButton\n    variant=\"raised\"\n    color=\"primary\"\n    className={cx('Button', className)}\n    type=\"submit\"\n    {...props}\n  >\n    {text || children}\n  </MuiButton>\n);\n\nButton.propTypes = {\n  className: PropTypes.string,\n  text: PropTypes.string,\n  children: PropTypes.node,\n};\n\nexport default Button;\n","import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Form = ({ children, className, ...props }) => (\n  <form className={cx('Form', className)} {...props}>\n    {children}\n  </form>\n);\n\nForm.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node.isRequired,\n};\n\nexport default Form;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","export const SET_RESET_KEY = 'uwave/password-reset/SET_RESET_KEY';\nexport const SET_RESET_SUCCESS = 'uwave/password-reset/SET_RESET_SUCCESS';\n\nexport const RESET_PASSWORD_START = 'uwave/password-reset/RESET_PASSWORD_START';\nexport const RESET_PASSWORD_COMPLETE = 'uwave/password-reset/RESET_PASSWORD_COMPLETE';\n","import {\n  SET_RESET_KEY,\n  SET_RESET_SUCCESS,\n} from './constants';\n\nexport auth from '../reducers/auth';\nexport config from '../reducers/config';\nexport errors from '../reducers/errors';\nexport theme from '../reducers/theme';\n\nexport function passwordReset(state = {}, action = {}) {\n  if (action.error) return state;\n\n  switch (action.type) {\n    case SET_RESET_KEY:\n      return {\n        ...state,\n        key: action.payload,\n      };\n    case SET_RESET_SUCCESS:\n      return {\n        ...state,\n        success: true,\n      };\n\n    default:\n      return state;\n  }\n}\n","import {\n  SET_RESET_KEY,\n  SET_RESET_SUCCESS,\n} from './constants';\nimport { post } from '../actions/RequestActionCreators';\n\nexport function setResetKey(key) {\n  return {\n    type: SET_RESET_KEY,\n    payload: key,\n  };\n}\n\nexport function resetPasswordComplete() {\n  return { type: SET_RESET_SUCCESS };\n}\n\nexport function resetPassword(newPassword) {\n  return (dispatch, getState) => {\n    const { key } = getState().passwordReset;\n\n    return dispatch(post(`/auth/password/reset/${key}`, { password: newPassword }, {\n      onComplete: resetPasswordComplete,\n      onError: err => ({\n        type: SET_RESET_SUCCESS,\n        error: true,\n        payload: err,\n      }),\n    }));\n  };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport EmailIcon from '@material-ui/icons/Email';\nimport PasswordIcon from '@material-ui/icons/Lock';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { translate } from 'react-i18next';\nimport Form from '../../../components/Form';\nimport FormGroup from '../../../components/Form/Group';\nimport TextField from '../../../components/Form/TextField';\nimport Button from '../../../components/Form/Button';\n\nconst enhance = translate();\n\nclass PasswordResetPage extends React.Component {\n  static propTypes = {\n    t: PropTypes.func.isRequired,\n    email: PropTypes.string.isRequired,\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    newPassword: '',\n    newPasswordConfirm: '',\n  };\n\n  handlePasswordChange = (event) => {\n    this.setState({\n      newPassword: event.target.value,\n    });\n  };\n\n  handlePasswordConfirmChange = (event) => {\n    this.setState({\n      newPasswordConfirm: event.target.value,\n    });\n  };\n\n  handleSubmit = (event) => {\n    const { onSubmit } = this.props;\n    const { newPassword } = this.state;\n\n    event.preventDefault();\n\n    if (this.isValid()) {\n      onSubmit(newPassword);\n    }\n  };\n\n  isValid() {\n    const { newPassword, newPasswordConfirm } = this.state;\n\n    return newPassword.length >= 6\n      && newPassword === newPasswordConfirm;\n  }\n\n  render() {\n    const { t, email } = this.props;\n    const { newPassword, newPasswordConfirm } = this.state;\n    const isValid = this.isValid();\n\n    return (\n      <Paper className=\"PasswordReset\">\n        <Form onSubmit={this.handleSubmit}>\n          <FormGroup>\n            <Typography>\n              {t('resetPassword.introduction')}\n            </Typography>\n          </FormGroup>\n          {email && (\n            // Not used at the moment, but we may show (parts of) the user's\n            // email address on the reset page at some point.\n            <FormGroup>\n              <TextField\n                type=\"email\"\n                disabled\n                value={email}\n                placeholder={t('login.email')}\n                icon={<EmailIcon nativeColor=\"#9f9d9e\" />}\n              />\n            </FormGroup>\n          )}\n          <FormGroup>\n            <TextField\n              type=\"password\"\n              autocomplete=\"new-password\"\n              value={newPassword}\n              onChange={this.handlePasswordChange}\n              placeholder={t('login.password')}\n              icon={<PasswordIcon nativeColor=\"#9f9d9e\" />}\n            />\n          </FormGroup>\n          <FormGroup>\n            <TextField\n              type=\"password\"\n              autocomplete=\"new-password\"\n              value={newPasswordConfirm}\n              onChange={this.handlePasswordConfirmChange}\n              placeholder={t('login.password')}\n              icon={<PasswordIcon nativeColor=\"#9f9d9e\" />}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Button disabled={!isValid}>\n              {t('resetPassword.submit')}\n            </Button>\n          </FormGroup>\n        </Form>\n      </Paper>\n    );\n  }\n}\n\nexport default enhance(PasswordResetPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nconst enhance = translate();\n\nconst PasswordResetSuccessPage = ({ t }) => (\n  <Paper className=\"PasswordReset\">\n    <Typography variant=\"body1\">\n      {t('resetPassword.success')}\n    </Typography>\n  </Paper>\n);\n\nPasswordResetSuccessPage.propTypes = {\n  t: PropTypes.func.isRequired,\n};\n\nexport default enhance(PasswordResetSuccessPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { I18nextProvider } from 'react-i18next';\nimport { resetPassword } from '../actions';\nimport ErrorArea from '../../containers/ErrorArea';\nimport PasswordResetPage from '../components/PasswordResetPage';\nimport PasswordResetSuccessPage from '../components/PasswordResetSuccessPage';\nimport theme from '../../theme';\n\nconst mapStateToProps = createStructuredSelector({\n  success: state => state.passwordReset.success,\n});\n\nconst mapDispatchToProps = {\n  onSubmit: resetPassword,\n};\n\nconst enhance = connect(mapStateToProps, mapDispatchToProps);\n\nconst muiTheme = createMuiTheme(theme);\n\nconst PasswordResetApp = ({\n  locale, success, ...props\n}) => (\n  <MuiThemeProvider theme={muiTheme}>\n    <I18nextProvider i18n={locale}>\n      <div>\n        {success ? (\n          <PasswordResetSuccessPage />\n        ) : (\n          <PasswordResetPage {...props} />\n        )}\n        <ErrorArea />\n      </div>\n    </I18nextProvider>\n  </MuiThemeProvider>\n);\n\nPasswordResetApp.propTypes = {\n  locale: PropTypes.object.isRequired,\n  success: PropTypes.bool,\n};\n\nexport default enhance(PasswordResetApp);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware, combineReducers } from 'redux';\nimport { Provider } from 'react-redux';\nimport { parse as parseQS } from 'querystring';\nimport thunk from 'redux-thunk';\nimport { AppContainer as HotContainer } from 'react-hot-loader';\nimport createLocale from '../locale';\nimport webApiRequest from '../store/request';\nimport readApplicationConfig from '../utils/readApplicationConfig';\nimport * as reducers from './reducers';\nimport { setResetKey } from './actions';\nimport App from './containers/PasswordResetApp';\n\nimport './app.css';\n\nconst config = readApplicationConfig();\nconst key = document.querySelector('#reset-data').textContent;\n\nconst store = createStore(\n  combineReducers(reducers),\n  { config },\n  applyMiddleware(\n    thunk,\n    webApiRequest(),\n  ),\n);\n\nconst qs = parseQS(window.location.search.slice(1));\nstore.dispatch(setResetKey(key || qs.key));\n\ncreateLocale('en').then((locale) => {\n  ReactDOM.render(\n    (\n      <HotContainer>\n        <Provider store={store}>\n          <App locale={locale} />\n        </Provider>\n      </HotContainer>\n    ), document.querySelector('#app'),\n  );\n});\n","export default {\n  palette: {\n    type: 'dark',\n    primary: {\n      light: '#b20062',\n      main: '#9d2053',\n      contrastText: '#fff',\n    },\n    background: {\n      paper: '#303030',\n    },\n  },\n  typography: {\n    fontFamily: '\"Open Sans\", Roboto, Arial, sans-serif',\n  },\n  // Ã¼Wave specific colours\n  uwave: {\n    scrollbar: '#5f5f5f',\n    background: '#151515',\n    backgroundHover: '#111',\n    link: '#c72e6c',\n    sidePanel: {\n      background: '#1b1b1b',\n      alternate: '#222222',\n    },\n    mediaList: {\n      background: 'transparent',\n      alternate: '#303036',\n    },\n    mutedText: '#777',\n  },\n  overrides: {\n    MuiIconButton: {\n      root: {\n        '&:hover': {\n          backgroundColor: 'transparent',\n        },\n      },\n    },\n  },\n};\n","import { createSelector } from 'reselect';\nimport naturalCmp from 'natural-compare';\nimport { rolesSelector } from './configSelectors';\n\nconst authSelector = state => state.auth;\n\nconst usersBaseSelector = state => state.users;\nexport const usersSelector = createSelector(usersBaseSelector, base => base.users);\n\nexport const authErrorSelector = createSelector(authSelector, auth => auth.error);\nconst currentUserIDSelector = createSelector(authSelector, auth => auth.user);\nexport const currentUserSelector = createSelector(\n  usersSelector,\n  currentUserIDSelector,\n  (users, userID) => (\n    userID in users\n      ? users[userID]\n      : null\n  ),\n);\nexport const isLoggedInSelector = createSelector(currentUserSelector, Boolean);\nexport const tokenSelector = createSelector(authSelector, auth => auth.token);\nexport const authStrategiesSelector = createSelector(authSelector, auth => auth.strategies);\nexport function supportsAuthStrategy(name) {\n  return createSelector(authStrategiesSelector, strategies => strategies.includes(name));\n}\nexport const supportsSocialAuthSelector = createSelector(\n  supportsAuthStrategy('google'),\n  (...support) => support.some(Boolean),\n);\n\n// The Super User role allows a user to do everything. It's hardcoded as the \"*\"\n// role.\nconst superUserRoleSelector = () => '*';\n\n// Flatten a user's roles.\nfunction getAllUserRoles(roles, user) {\n  function getSubRoles(subRoles, role) {\n    // Recursive Reduce!\n    return roles[role].reduce(\n      getSubRoles,\n      [role, ...subRoles],\n    );\n  }\n  return user.roles ? user.roles.reduce(getSubRoles, []) : [];\n}\n\nfunction compareUsers(roles, superuser) {\n  return (a, b) => {\n    const aRoles = getAllUserRoles(roles, a);\n    const bRoles = getAllUserRoles(roles, b);\n    // Sort superusers to the top,\n    if (aRoles.includes(superuser)) {\n      return -1;\n    }\n    if (bRoles.includes(superuser)) {\n      return 1;\n    }\n    // other users by the amount of permissions they have,\n    if (aRoles.length > bRoles.length) {\n      return -1;\n    }\n    if (aRoles.length < bRoles.length) {\n      return 1;\n    }\n    // and sort by username if the roles are equal.\n    return naturalCmp(a.username.toLowerCase(), b.username.toLowerCase());\n  };\n}\n\nexport const userListSelector = createSelector(\n  rolesSelector,\n  superUserRoleSelector,\n  usersSelector,\n  (roles, superuserRole, users) => Object.values(users).sort(compareUsers(roles, superuserRole)),\n);\n\nexport const userCountSelector = createSelector(\n  userListSelector,\n  users => users.length,\n);\n\nexport const guestCountSelector = createSelector(\n  usersBaseSelector,\n  base => base.guests,\n);\n\nexport const listenerCountSelector = createSelector(\n  userCountSelector,\n  guestCountSelector,\n  (users, guests) => users + guests,\n);\n\nexport const userHasRoleSelector = createSelector(\n  rolesSelector,\n  superUserRoleSelector,\n  (roles, superUserRole) => (user) => {\n    // If there is no authenticated user, we always return false.\n    if (!user) {\n      return () => false;\n    }\n\n    const userRoles = getAllUserRoles(roles, user);\n    // If this is a super user, we always return true.\n    if (userRoles.includes(superUserRole)) {\n      return () => true;\n    }\n\n    return role => userRoles.includes(role);\n  },\n);\n\n// Selects a function that checks if a user has the given role.\n//\n//   const hasRole = hasRoleSelector(getState());\n//   hasRole(user, 'waitlist.join');\n//\nexport const hasRoleSelector = createSelector(\n  userHasRoleSelector,\n  userHasRole => (user, role) => userHasRole(user)(role),\n);\n\nexport const currentUserHasRoleSelector = createSelector(\n  userHasRoleSelector,\n  currentUserSelector,\n  (userHasRole, user) => userHasRole(user),\n);\n\n// Creates a selector that will check if the current user has a given role.\n//\n//   createRoleCheckSelector('some.role')(store.getState()) // â†’ true/false\n//\nexport const createRoleCheckSelector = role => createSelector(\n  currentUserHasRoleSelector,\n  hasRole => hasRole(role),\n);\n\n// Selectors for compatibility with the old role system.\n// TODO All uses of these selectors should be phased out in favour of more\n// specific roles in the future.\nexport const isModeratorSelector = createRoleCheckSelector('moderator');\nexport const isManagerSelector = createRoleCheckSelector('manager');\n","import i18next from 'i18next';\nimport * as en from '../locale/en.yaml';\n\nconst resources = {\n  cs: () => import('../locale/cs.yaml' /* webpackChunkName: \"lang_cs\" */),\n  cy: () => import('../locale/cy.yaml' /* webpackChunkName: \"lang_cy\" */),\n  de: () => import('../locale/de.yaml' /* webpackChunkName: \"lang_de\" */),\n  es: () => import('../locale/es.yaml' /* webpackChunkName: \"lang_es\" */),\n  fr: () => import('../locale/fr.yaml' /* webpackChunkName: \"lang_fr\" */),\n  ko: () => import('../locale/ko.yaml' /* webpackChunkName: \"lang_ko\" */),\n  nl: () => import('../locale/nl.yaml' /* webpackChunkName: \"lang_nl\" */),\n  pt: () => import('../locale/pt.yaml' /* webpackChunkName: \"lang_pt\" */),\n  zh: () => import('../locale/zh.yaml' /* webpackChunkName: \"lang_zh\" */),\n};\n\nclass UwaveBackend {\n  static type = 'backend';\n\n  type = 'backend';\n\n  cache = {};\n\n  getResource(language) {\n    if (this.cache[language]) {\n      return this.cache[language];\n    }\n    if (!resources[language]) {\n      return Promise.reject(new Error(`The language \"${language}\" is not supported.`));\n    }\n\n    this.cache[language] = resources[language]();\n\n    return this.cache[language];\n  }\n\n  read(language, namespace, callback) {\n    this.getResource(language)\n      .then(resource => resource[namespace])\n      .then((result) => {\n        callback(null, result);\n      })\n      .catch(callback);\n  }\n}\n\ni18next.use(new UwaveBackend());\n\ni18next.init({\n  fallbackLng: 'en',\n  defaultNS: 'uwave',\n  interpolation: {\n    // Prevent double-escapes: React already escapes things for us\n    escapeValue: false,\n  },\n});\n\n// Synchronously add the fallback language.\ni18next.addResourceBundle('en', 'uwave', en.uwave);\n\nexport const availableLanguages = ['en', ...Object.keys(resources)];\n\nexport default function createLocale(language) {\n  const locale = i18next.cloneInstance();\n  locale.availableLanguages = availableLanguages;\n\n  locale.on('languageChanged', (lang) => {\n    if (typeof document !== 'undefined') {\n      document.documentElement.lang = lang;\n    }\n  });\n\n  return new Promise((resolve) => {\n    locale.changeLanguage(language, () => {\n      resolve(locale);\n    });\n  });\n}\n","import { ERROR_DISMISS } from '../constants/ActionTypes';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function dismiss() {\n  return { type: ERROR_DISMISS };\n}\n","import { createSelector } from 'reselect';\n\nconst baseSelector = state => state.errors;\n\n// eslint-disable-next-line import/prefer-default-export\nexport const firstErrorSelector = createSelector(\n  baseSelector,\n  errors => errors[0],\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Snackbar from '@material-ui/core/Snackbar';\n\nconst ErrorArea = ({ error, onDismiss }) => (\n  <div className=\"ErrorArea\">\n    <Snackbar\n      ContentProps={{ className: 'ErrorArea-snackbar' }}\n      open={!!error}\n      message={error || ''}\n      onClose={onDismiss}\n    />\n  </div>\n);\n\nErrorArea.propTypes = {\n  error: PropTypes.string,\n  onDismiss: PropTypes.func.isRequired,\n};\n\nexport default ErrorArea;\n","import { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport { dismiss } from '../actions/ErrorActionCreators';\nimport { firstErrorSelector } from '../selectors/errorSelectors';\n\nimport ErrorArea from '../components/ErrorArea';\n\nconst mapStateToProps = state => ({\n  error: firstErrorSelector(state),\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  onDismiss: dismiss,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ErrorArea);\n"],"sourceRoot":""}