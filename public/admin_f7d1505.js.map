{"version":3,"sources":["webpack:///./components/List/ListItem.js","webpack:///./admin/components/Motd/index.js","webpack:///./admin/selectors/authSelectors.js","webpack:///./admin/containers/Motd.js","webpack:///./admin/components/Main/index.js","webpack:///./components/Username/WithCard.js","webpack:///./admin/components/UsersList/Row.js","webpack:///./admin/components/UsersList/index.js","webpack:///./admin/constants/ActionTypes.js","webpack:///./admin/actions/users.js","webpack:///./admin/selectors/baseSelector.js","webpack:///./admin/selectors/userSelectors.js","webpack:///./admin/containers/UsersList.js","webpack:///./admin/actions/bans.js","webpack:///./admin/components/BansList/Row.js","webpack:///./admin/components/BansList/index.js","webpack:///./admin/containers/BansList.js","webpack:///./admin/components/AdminApp/CurrentPage.js","webpack:///./admin/components/AdminApp/index.js","webpack:///./admin/reducers/users.js","webpack:///./admin/reducers/bans.js","webpack:///./admin/reducers/index.js","webpack:///./admin/reducers/view.js","webpack:///./admin/selectors/viewSelectors.js","webpack:///./admin/containers/AdminApp.js","webpack:///./admin/actions/view.js"],"names":["ChevronRight","ListItem_ListItem","_ref","className","children","selected","props","objectWithoutProperties_default","react_default","a","createElement","List_ListItem","extends_default","button","classnames_default","propTypes","components_List_ListItem","enhance","compose_default","withState_default","motd","withProps_default","parsedMotd","Object","compile","lib_default","newMotd","compileOptions","onExpand","setExpanded","expanded","withHandlers_default","onChange","event","setMotd","target","value","onSubmit","onSetMotd","autoFocus","el","focus","ModeEdit","Motd_Motd","canChangeMotd","jsx_default","Card","CardHeader","title","action","IconButton","onClick","Motd_ref2","CardContent","Collapse","in","unmountOnExit","style","paddingTop","rows","ref","CardActions","Button","variant","color","defaultProps","components_Motd","canChangeMotdSelector","mapStateToProps","es","chatSelectors","mapDispatchToProps","ChatActionCreators","containers_Motd","react_redux_es","Main","Main_ref","components_Main","WithCard_enhance","userCardable","onUsernameClick","preventDefault","openUserCard","user","WithCard_UsernameWithCard","Username","WithCard","avatarStyle","width","paddingRight","actionsStyle","paddingLeft","Row_TableCell","TableCell","MoreVert","MenuItem","Row_UserRow","state","open","anchorEl","menu","uniqueId_default","handleOpenMenu","_this","setState","currentTarget","handleCloseMenu","render","this","_state","TableRow","Avatar","formatJoinDate","createdAt","Row_ref","roles","join","aria-haspopup","aria-owns","Row_ref2","Menu","id","onClose","_ref3","Component","Header","background","padding","lineHeight","Filter","border","marginLeft","height","type","UsersList_enhance","dist_es","UsersList_UsersList","t","users","Fragment","UsersList_ref2","float","UsersList_ref3","Table","TableHead","_ref4","_ref5","TableBody","map","Row","components_UsersList","TRANSITION","LOAD_USERS_START","LOAD_USERS_COMPLETE","LOAD_BANS_START","LOAD_BANS_COMPLETE","loadUsersStart","loadUsersComplete","response","payload","data","page","Math","floor","meta","offset","pageSize","baseSelector","admin","pageSelector","base","currentPage","usersSelector","UsersList_mapStateToProps","UsersList_mapDispatchToProps","onLoadUsers","pagination","arguments","length","undefined","RequestActionCreators","qs","onStart","onComplete","lifecycle_default","componentDidMount","loadBansStart","loadBansComplete","bans","mergeIncludedModels","size","loadBans","Row_enhance","Row_avatarStyle","Row_BanRow","ban","onUnbanUser","ms_default","duration","long","reason","moderator","BansList_Row","BansList_enhance","BansList_Header","BansList_Filter","BansList_BansList","BansList_ref2","BansList_ref3","BansList_ref4","_id","components_BansList","BansList_mapDispatchToProps","onLoadBans","dispatch","del","unbanUser","then","pages","main","containers_UsersList","AdminApp_CurrentPage","mapProps_default","component","CurrentPage_enhance","componentFromProp_default","List","AdminApp_AdminApp","currentView","onTransition","AdminApp_ref2","AdminApp_ref3","AdminApp_ref4","components_AdminApp","initialState","totalPages","totalUsers","bans_initialState","limit","reducers","redux_es","total","ceil","view","currentViewSelector","AdminApp_mapStateToProps","AdminApp_mapDispatchToProps","mountAdminReducerOnce","store","getState","hasAdminState","mount","mountAdminReducer","AdminApp_enhance","getContext_default","prop_types_default","object","componentWillMount","__webpack_exports__"],"mappings":"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","file":"admin_f7d1505.js","sourcesContent":["import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { ListItem as MuiListItem } from 'material-ui/List';\nimport SelectedIcon from 'material-ui-icons/ChevronRight';\n\n/**\n * A ListItem component wrapper around material-ui's ListItem,\n * with a üWave skin.\n */\n\nconst ListItem = ({\n  className,\n  children,\n  selected,\n  ...props\n}) => (\n  <MuiListItem\n    button\n    {...props}\n    className={cx(className, selected && 'is-selected')}\n  >\n    {children}\n    {selected && <SelectedIcon />}\n  </MuiListItem>\n);\n\nListItem.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node.isRequired,\n  selected: PropTypes.bool,\n};\n\nexport default ListItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'recompose/compose';\nimport withState from 'recompose/withState';\nimport withProps from 'recompose/withProps';\nimport withHandlers from 'recompose/withHandlers';\nimport Card, { CardHeader, CardContent, CardActions } from 'material-ui/Card';\nimport Button from 'material-ui/Button';\nimport IconButton from 'material-ui/IconButton';\nimport Collapse from 'material-ui/transitions/Collapse';\nimport EditIcon from 'material-ui-icons/ModeEdit';\nimport parse from 'u-wave-parse-chat-markup';\nimport compile from '../../../components/Chat/Markup/compile';\n\nconst enhance = compose(\n  withState('newMotd', 'setMotd', props => props.motd),\n  withState('expanded', 'setExpanded', false),\n  withProps(props => ({\n    parsedMotd: compile(parse(props.newMotd), props.compileOptions),\n    onExpand: () => props.setExpanded(!props.expanded),\n  })),\n  withHandlers({\n    onChange: props => (event) => {\n      props.setMotd(event.target.value);\n    },\n    onSubmit: props => () => {\n      props.onSetMotd(props.newMotd);\n      props.setExpanded(false);\n    },\n  }),\n);\n\nfunction autoFocus(el) {\n  if (el) el.focus();\n}\n\nconst Motd = ({\n  canChangeMotd,\n  newMotd,\n  parsedMotd,\n  expanded,\n  onChange,\n  onSubmit,\n  onExpand,\n}) => (\n  <Card className=\"AdminMotd\">\n    <CardHeader\n      title=\"Message of the Day\"\n      action={canChangeMotd && (\n        <IconButton onClick={onExpand}>\n          <EditIcon />\n        </IconButton>\n      )}\n    />\n    <CardContent>{parsedMotd}</CardContent>\n    <Collapse in={expanded} unmountOnExit>\n      <CardContent style={{ paddingTop: 0 }}>\n        <textarea\n          className=\"AdminMotd-field\"\n          rows={4}\n          onChange={onChange}\n          value={newMotd}\n          ref={autoFocus}\n        />\n      </CardContent>\n      <CardActions>\n        <Button\n          variant=\"raised\"\n          color=\"primary\"\n          onClick={onSubmit}\n        >\n          Save\n        </Button>\n      </CardActions>\n    </Collapse>\n  </Card>\n);\n\nMotd.propTypes = {\n  canChangeMotd: PropTypes.bool,\n  newMotd: PropTypes.string.isRequired,\n  parsedMotd: PropTypes.array.isRequired,\n  expanded: PropTypes.bool.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onExpand: PropTypes.func.isRequired,\n};\n\nMotd.defaultProps = {\n  canChangeMotd: false,\n};\n\nexport default enhance(Motd);\n","/* eslint-disable import/prefer-default-export */\nimport { isModeratorSelector } from '../../selectors/userSelectors';\n\n// TODO replace with check for the `motd.set` role.\nexport const canChangeMotdSelector = isModeratorSelector;\n","import { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport Motd from '../components/Motd';\nimport { setMotd } from '../../actions/ChatActionCreators';\nimport {\n  rawMotdSelector,\n  markupCompilerOptionsSelector,\n} from '../../selectors/chatSelectors';\nimport { canChangeMotdSelector } from '../selectors/authSelectors';\n\nconst mapStateToProps = createStructuredSelector({\n  motd: rawMotdSelector,\n  compileOptions: markupCompilerOptionsSelector,\n  canChangeMotd: canChangeMotdSelector,\n});\n\nconst mapDispatchToProps = {\n  onSetMotd: setMotd,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Motd);\n","import React from 'react';\nimport Motd from '../../containers/Motd';\n\nconst Main = () => (\n  <div>\n    <p>\n      Note that the admin interface is not yet done and most things do not work.\n      You can, however, configure the message of the day! :P\n    </p>\n    <Motd />\n  </div>\n);\n\nMain.propTypes = {};\n\nexport default Main;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'recompose/compose';\nimport withProps from 'recompose/withProps';\nimport userCardable from '../../utils/userCardable';\n\nimport UsernameBase from './';\n\nconst enhance = compose(\n  userCardable(),\n  withProps(props => ({\n    onUsernameClick(event) {\n      event.preventDefault();\n      props.openUserCard(props.user);\n    },\n  })),\n);\n\nconst UsernameWithCard = ({ user, onUsernameClick }) => (\n  <button onClick={onUsernameClick}>\n    <UsernameBase user={user} />\n  </button>\n);\n\nUsernameWithCard.propTypes = {\n  user: PropTypes.object.isRequired,\n  onUsernameClick: PropTypes.func.isRequired,\n};\n\nexport default enhance(UsernameWithCard);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withProps from 'recompose/withProps';\nimport uniqueId from 'lodash/uniqueId';\nimport IconButton from 'material-ui/IconButton';\nimport Menu, { MenuItem } from 'material-ui/Menu';\nimport MoreVertIcon from 'material-ui-icons/MoreVert';\nimport { TableRow, TableCell as MuiTableCell } from 'material-ui/Table';\nimport Avatar from '../../../components/Avatar';\nimport Username from '../../../components/Username/WithCard';\nimport formatJoinDate from '../../../utils/formatJoinDate';\n\nconst avatarStyle = {\n  width: 48,\n  paddingRight: 0,\n};\nconst actionsStyle = {\n  width: 48,\n  paddingLeft: 0,\n  paddingRight: 0,\n};\n\nconst TableCell = withProps({\n  className: 'AdminUserRow-cell',\n})(MuiTableCell);\n\nexport default class UserRow extends React.Component {\n  static propTypes = {\n    user: PropTypes.object.isRequired,\n  };\n\n  state = {\n    open: false,\n    anchorEl: null,\n  };\n\n  menu = uniqueId('menu');\n\n  handleOpenMenu = (event) => {\n    this.setState({ open: true, anchorEl: event.currentTarget });\n  };\n  handleCloseMenu = () => {\n    this.setState({ open: false, anchorEl: null });\n  };\n\n  render() {\n    const { user } = this.props;\n    const { open, anchorEl } = this.state;\n    return (\n      <TableRow className=\"AdminUserRow\">\n        <TableCell style={avatarStyle}>\n          <Avatar user={user} />\n        </TableCell>\n        <TableCell>\n          <Username user={user} />\n        </TableCell>\n        <TableCell>\n          {formatJoinDate(user.createdAt)}\n        </TableCell>\n        <TableCell>Email</TableCell>\n        <TableCell>\n          {user.roles.join(', ')}\n        </TableCell>\n        <TableCell style={actionsStyle}>\n          <IconButton\n            onClick={this.handleOpenMenu}\n            aria-haspopup=\"true\"\n            aria-owns={open ? this.menu : null}\n          >\n            <MoreVertIcon />\n          </IconButton>\n          <Menu\n            id={this.menu}\n            open={open}\n            anchorEl={anchorEl}\n            onClose={this.handleCloseMenu}\n          >\n            <MenuItem>Ban</MenuItem>\n          </Menu>\n        </TableCell>\n      </TableRow>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport withProps from 'recompose/withProps';\n// eslint-disable-next-line\nimport Table, {\n  TableBody,\n  TableHead,\n  TableCell,\n  TableRow,\n} from 'material-ui/Table';\nimport UserRow from './Row';\n\nconst Header = withProps({\n  style: {\n    background: '#9d2053',\n    padding: '12px 24px',\n    lineHeight: '35px',\n  },\n})('div');\n\nconst Filter = withProps({\n  style: {\n    background: '#631032',\n    color: '#ffffff',\n    border: 0,\n    marginLeft: 12,\n    paddingLeft: 12,\n    height: 35,\n  },\n  type: 'text',\n})('input');\n\nconst enhance = translate();\n\nconst UsersList = ({\n  t,\n  users,\n}) => (\n  <React.Fragment>\n    <Header>\n      <span>Managing Users:</span>\n      <span style={{ float: 'right' }}>\n        Filter User:\n        <Filter />\n      </span>\n    </Header>\n    <Table>\n      <TableHead>\n        <TableRow>\n          <TableCell />\n          <TableCell>{t('admin.users.user')}</TableCell>\n          <TableCell>{t('admin.users.joinedAt')}</TableCell>\n          <TableCell>{t('admin.users.email')}</TableCell>\n          <TableCell>{t('admin.users.roles')}</TableCell>\n          <TableCell />\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {users.map(user => (\n          <UserRow user={user} />\n        ))}\n      </TableBody>\n    </Table>\n  </React.Fragment>\n);\n\nUsersList.propTypes = {\n  t: PropTypes.func.isRequired,\n  users: PropTypes.array.isRequired,\n};\n\nexport default enhance(UsersList);\n","export const TRANSITION = 'uwave/admin/view/TRANSITION';\n\nexport const LOAD_USERS_START = 'uwave/admin/users/LOAD_USERS_START';\nexport const LOAD_USERS_COMPLETE = 'uwave/admin/users/LOAD_USERS_COMPLETE';\nexport const LOAD_BANS_START = 'uwave/admin/bans/LOAD_BANS_START';\nexport const LOAD_BANS_COMPLETE = 'uwave/admin/bans/LOAD_BANS_COMPLETE';\n","import { get } from '../../actions/RequestActionCreators';\nimport { LOAD_USERS_START, LOAD_USERS_COMPLETE } from '../constants/ActionTypes';\n\nexport function loadUsersStart() {\n  return { type: LOAD_USERS_START };\n}\n\nexport function loadUsersComplete(response) {\n  return {\n    type: LOAD_USERS_COMPLETE,\n    payload: {\n      users: response.data,\n      page: Math.floor(response.meta.offset / response.meta.pageSize),\n    },\n    meta: response.meta,\n  };\n}\n\nexport function loadUsers(pagination = null) {\n  return get('/users', {\n    qs: pagination ? { page: pagination } : null,\n    onStart: loadUsersStart,\n    onComplete: loadUsersComplete,\n  });\n}\n","export default state => state.admin;\n","import { createSelector } from 'reselect';\nimport baseSelector from './baseSelector';\n\nexport const pageSelector = createSelector(\n  baseSelector,\n  base => base.users.currentPage,\n);\n\nexport const usersSelector = createSelector(\n  baseSelector,\n  base => base.users.users,\n);\n\n","import { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport compose from 'recompose/compose';\nimport lifecycle from 'recompose/lifecycle';\nimport UsersList from '../components/UsersList';\nimport { loadUsers } from '../actions/users';\nimport { pageSelector, usersSelector } from '../selectors/userSelectors';\n\nconst mapStateToProps = createStructuredSelector({\n  currentPage: pageSelector,\n  users: usersSelector,\n});\n\nconst mapDispatchToProps = {\n  onLoadUsers: loadUsers,\n};\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  lifecycle({\n    componentDidMount() {\n      this.props.onLoadUsers();\n    },\n  }),\n)(UsersList);\n","import { get, del } from '../../actions/RequestActionCreators';\nimport mergeIncludedModels from '../../utils/mergeIncludedModels';\nimport { LOAD_BANS_START, LOAD_BANS_COMPLETE } from '../constants/ActionTypes';\n\nexport function loadBansStart() {\n  return { type: LOAD_BANS_START };\n}\n\nexport function loadBansComplete(response) {\n  const { meta } = response;\n\n  return {\n    type: LOAD_BANS_COMPLETE,\n    payload: {\n      bans: mergeIncludedModels(response),\n    },\n    meta: {\n      page: Math.floor(meta.offset / meta.pageSize),\n      size: meta.pageSize,\n    },\n  };\n}\n\nexport function loadBans() {\n  return get('/bans', {\n    onStart: loadBansStart,\n    onComplete: loadBansComplete,\n  });\n}\n\nexport function unbanUser(user) {\n  return del(`/bans/${user._id}`, {});\n}\n\nexport function unbanUserAndReload(user) {\n  return dispatch =>\n    dispatch(unbanUser(user))\n      .then(() => dispatch(loadBans()));\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport ms from 'ms';\nimport Button from 'material-ui/Button';\nimport { TableRow, TableCell } from 'material-ui/Table';\nimport Avatar from '../../../components/Avatar';\nimport Username from '../../../components/Username/WithCard';\n\nconst enhance = translate();\nconst avatarStyle = {\n  width: 48,\n  paddingRight: 0,\n};\n\nconst BanRow = ({\n  t,\n  ban,\n  onUnbanUser,\n}) => (\n  <TableRow>\n    <TableCell style={avatarStyle}>\n      <Avatar user={ban.user} />\n    </TableCell>\n    <TableCell>\n      <Username user={ban.user} />\n    </TableCell>\n    <TableCell>\n      {ms(ban.duration, { long: true })}\n    </TableCell>\n    <TableCell>\n      {ban.reason || (\n        <em>{t('admin.bans.noReason')}</em>\n      )}\n    </TableCell>\n    <TableCell>\n      <Username user={ban.moderator} />\n    </TableCell>\n    <TableCell>\n      <Button\n        variant=\"raised\"\n        onClick={onUnbanUser}\n      >\n        {t('admin.bans.unban')}\n      </Button>\n    </TableCell>\n  </TableRow>\n);\n\nBanRow.propTypes = {\n  t: PropTypes.func.isRequired,\n  ban: PropTypes.shape({\n    user: PropTypes.object.isRequired,\n    duration: PropTypes.number.isRequired,\n    reason: PropTypes.string,\n    moderator: PropTypes.object.isRequired,\n  }).isRequired,\n  onUnbanUser: PropTypes.func.isRequired,\n};\n\nexport default enhance(BanRow);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withProps from 'recompose/withProps';\nimport { translate } from 'react-i18next';\n// eslint-disable-next-line\nimport Table, {\n  TableBody,\n  TableHead,\n  TableCell,\n  TableRow,\n} from 'material-ui/Table';\nimport BanRow from './Row';\n\nconst enhance = translate();\n\nconst Header = withProps({\n  style: {\n    background: '#9d2053',\n    padding: '12px 24px',\n    lineHeight: '35px',\n  },\n})('div');\n\nconst Filter = withProps({\n  style: {\n    background: '#631032',\n    color: '#ffffff',\n    border: 0,\n    marginLeft: 12,\n    paddingLeft: 12,\n    height: 35,\n  },\n  type: 'text',\n})('input');\n\nconst BansList = ({\n  t,\n  bans,\n  onUnbanUser,\n}) => (\n  <React.Fragment>\n    <Header>\n      <span>Managing Bans:</span>\n      <span style={{ float: 'right' }}>\n        Filter User:\n        <Filter />\n      </span>\n    </Header>\n    <Table>\n      <TableHead>\n        <TableRow>\n          <TableCell />\n          <TableCell>{t('admin.bans.user')}</TableCell>\n          <TableCell>{t('admin.bans.duration')}</TableCell>\n          <TableCell>{t('admin.bans.reason')}</TableCell>\n          <TableCell>{t('admin.bans.bannedBy')}</TableCell>\n          <TableCell>{t('admin.bans.actions')}</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {bans.map(ban => (\n          <BanRow\n            key={ban.user._id}\n            ban={ban}\n            onUnbanUser={() => onUnbanUser(ban.user)}\n          />\n        ))}\n      </TableBody>\n    </Table>\n  </React.Fragment>\n);\n\nBansList.propTypes = {\n  t: PropTypes.func.isRequired,\n  bans: PropTypes.array.isRequired,\n  onUnbanUser: PropTypes.func.isRequired,\n};\n\nexport default enhance(BansList);\n","import { connect } from 'react-redux';\nimport compose from 'recompose/compose';\nimport lifecycle from 'recompose/lifecycle';\nimport { loadBans, unbanUserAndReload } from '../actions/bans';\nimport BansList from '../components/BansList';\n\nconst mapStateToProps = state => ({\n  bans: state.admin.bans.bans,\n});\n\nconst mapDispatchToProps = {\n  onLoadBans: loadBans,\n  onUnbanUser: unbanUserAndReload,\n};\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  lifecycle({\n    componentDidMount() {\n      this.props.onLoadBans();\n    },\n  }),\n)(BansList);\n","import mapProps from 'recompose/mapProps';\nimport componentFromProp from 'recompose/componentFromProp';\nimport Main from '../Main';\nimport UsersList from '../../containers/UsersList';\nimport BansList from '../../containers/BansList';\n\nconst pages = {\n  main: Main,\n  users: UsersList,\n  bans: BansList,\n};\n\nconst enhance = mapProps(props => ({\n  component: pages[props.page],\n}));\n\nconst CurrentPage = enhance(componentFromProp('component'));\n\nexport default CurrentPage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport List, { ListItem, ListItemText } from '../../../components/List';\nimport CurrentPage from './CurrentPage';\n\nimport '../../index.css';\n\nconst AdminApp = ({\n  currentView,\n  onTransition,\n}) => (\n  <div className=\"AdminApp\">\n    <div className=\"AdminApp-menu\">\n      <List>\n        <ListItem\n          selected={currentView === 'main'}\n          className=\"AdminApp-menuItem\"\n          onClick={() => onTransition('main')}\n        >\n          <ListItemText primary=\"Main\" />\n        </ListItem>\n        <ListItem\n          selected={currentView === 'users'}\n          className=\"AdminApp-menuItem\"\n          onClick={() => onTransition('users')}\n        >\n          <ListItemText primary=\"Users\" />\n        </ListItem>\n        <ListItem\n          selected={currentView === 'bans'}\n          className=\"AdminApp-menuItem\"\n          onClick={() => onTransition('bans')}\n        >\n          <ListItemText primary=\"Bans\" />\n        </ListItem>\n      </List>\n    </div>\n    <div className=\"AdminApp-page\">\n      <CurrentPage page={currentView} />\n    </div>\n  </div>\n);\n\nAdminApp.propTypes = {\n  currentView: PropTypes.string.isRequired,\n  onTransition: PropTypes.func.isRequired,\n};\n\nexport default AdminApp;\n","import {\n  LOAD_USERS_START,\n  LOAD_USERS_COMPLETE,\n} from '../constants/ActionTypes';\n\nconst initialState = {\n  currentPage: 0,\n  totalPages: 0,\n  totalUsers: 0,\n  users: [],\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case LOAD_USERS_START:\n      return state;\n    case LOAD_USERS_COMPLETE:\n      return {\n        ...state,\n        currentPage: action.payload.page,\n        totalUsers: action.meta.total,\n        totalPages: Math.ceil(action.meta.total / action.meta.pageSize),\n        users: action.payload.users,\n      };\n    default:\n      return state;\n  }\n}\n","import {\n  LOAD_BANS_START,\n  LOAD_BANS_COMPLETE,\n} from '../constants/ActionTypes';\n\nconst initialState = {\n  currentPage: {\n    offset: 0,\n    limit: 50,\n  },\n  bans: [],\n};\n\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case LOAD_BANS_START:\n      return state;\n    case LOAD_BANS_COMPLETE:\n      return {\n        ...state,\n        bans: action.payload.bans,\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\n\nimport users from './users';\nimport bans from './bans';\nimport view from './view';\n\nexport default combineReducers({\n  users,\n  bans,\n  view,\n});\n","import { TRANSITION } from '../constants/ActionTypes';\n\nexport default function reducer(state = 'main', action) {\n  if (action.type === TRANSITION) {\n    return action.payload;\n  }\n  return state;\n}\n","import { createSelector } from 'reselect';\nimport baseSelector from './baseSelector';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const currentViewSelector = createSelector(\n  baseSelector,\n  base => base.view,\n);\n","import PropTypes from 'prop-types';\nimport compose from 'recompose/compose';\nimport getContext from 'recompose/getContext';\nimport lifecycle from 'recompose/lifecycle';\nimport { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport AdminApp from '../components/AdminApp';\nimport adminReducer from '../reducers';\nimport { transition } from '../actions/view';\nimport { currentViewSelector } from '../selectors/viewSelectors';\n\nconst mapStateToProps = createStructuredSelector({\n  currentView: currentViewSelector,\n});\n\nconst mapDispatchToProps = {\n  onTransition: transition,\n};\n\nfunction hasAdminState(store) {\n  const state = store.getState();\n\n  return state && !!state.admin;\n}\n\nfunction mountAdminReducer(store) {\n  store.mount('admin', adminReducer);\n}\n\nfunction mountAdminReducerOnce(store) {\n  if (!hasAdminState(store)) {\n    mountAdminReducer(store);\n  }\n}\n\nconst enhance = compose(\n  getContext({ store: PropTypes.object }),\n  lifecycle({\n    componentWillMount() {\n      if (this.props.store) {\n        mountAdminReducerOnce(this.props.store);\n      }\n    },\n  }),\n  connect(mapStateToProps, mapDispatchToProps),\n);\n\nexport default enhance(AdminApp);\n","import { TRANSITION } from '../constants/ActionTypes';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function transition(target) {\n  return {\n    type: TRANSITION,\n    payload: target,\n  };\n}\n"],"sourceRoot":""}