{"version":3,"sources":["webpack:///./admin/components/Motd/index.js","webpack:///./admin/selectors/authSelectors.js","webpack:///./admin/containers/Motd.js","webpack:///./admin/components/Main/index.js","webpack:///./components/Username/WithCard.js","webpack:///./admin/components/UsersList/Row.js","webpack:///./admin/components/UsersList/Header.js","webpack:///./admin/components/UsersList/index.js","webpack:///./admin/constants/ActionTypes.js","webpack:///./admin/selectors/baseSelector.js","webpack:///./admin/selectors/userSelectors.js","webpack:///./admin/actions/users.js","webpack:///./admin/containers/UsersList.js","webpack:///./admin/actions/bans.js","webpack:///./admin/components/BansList/Row.js","webpack:///./admin/components/BansList/index.js","webpack:///./admin/containers/BansList.js","webpack:///./admin/components/AdminApp/CurrentPage.js","webpack:///./admin/components/AdminApp/index.js","webpack:///./admin/reducers/users.js","webpack:///./admin/reducers/bans.js","webpack:///./admin/reducers/index.js","webpack:///./admin/reducers/view.js","webpack:///./admin/selectors/viewSelectors.js","webpack:///./admin/containers/AdminApp.js","webpack:///./admin/actions/view.js"],"names":["enhance","compose_default","withState_default","props","motd","withProps_default","parsedMotd","Object","compile","lib_default","newMotd","compileOptions","onExpand","setExpanded","expanded","withHandlers_default","onChange","event","setMotd","target","value","onSubmit","onSetMotd","autoFocus","el","focus","jsx_default","ModeEdit","Motd_Motd","_ref","canChangeMotd","Card","className","CardHeader","title","action","IconButton","onClick","Motd_ref2","CardContent","Collapse","in","unmountOnExit","style","paddingTop","react_default","a","createElement","rows","ref","CardActions","Button","variant","color","propTypes","defaultProps","components_Motd","canChangeMotdSelector","mapStateToProps","es","chatSelectors","mapDispatchToProps","ChatActionCreators","containers_Motd","react_redux_es","Main","Main_ref","components_Main","WithCard_enhance","userCardable","onUsernameClick","preventDefault","openUserCard","user","WithCard_UsernameWithCard","Username","WithCard","actionsStyle","width","paddingLeft","paddingRight","Row_TableCell","classnames_default","TableCell","MoreVert","MenuItem","Row_UserRow","state","open","anchorEl","menu","uniqueId_default","handleOpenMenu","_this","setState","currentTarget","handleCloseMenu","render","this","_state","TableRow","Avatar","formatJoinDate","createdAt","Row_ref","roles","length","UserRole","roleName","aria-haspopup","aria-owns","Row_ref2","Menu","id","onClose","_ref3","Component","Header_enhance","onFilterDebounced","debounce_default","onFilter","Header_Filter","type","ConnectedFilter","Header_Header","_ref2","Header_ref3","UsersList_Header","UsersList_enhance","dist_es","UsersList_UsersList","t","pageSize","currentPage","totalUsers","users","onChangePage","Fragment","Table","TableHead","UsersList_ref2","UsersList_ref3","TableBody","map","TableFooter","TablePagination","count","rowsPerPage","rowsPerPageOptions","page","components_UsersList","TRANSITION","SET_USERS_FILTER","LOAD_USERS_START","LOAD_USERS_COMPLETE","LOAD_BANS_START","LOAD_BANS_COMPLETE","baseSelector","admin","pageSelector","base","totalUsersSelector","filterSelector","filter","usersSelector","loadUsersStart","loadUsersComplete","response","payload","data","Math","floor","meta","offset","UsersList_mapStateToProps","UsersList_mapDispatchToProps","onLoadUsers","pagination","dispatch","getState","qs","RequestActionCreators","onStart","onComplete","containers_UsersList","limit","lifecycle_default","componentDidMount","loadBansStart","loadBansComplete","bans","mergeIncludedModels","size","loadBans","Row_enhance","avatarStyle","Row_BanRow","ban","onUnbanUser","ms_default","duration","long","reason","moderator","Row","BansList_enhance","BansList_Header","background","padding","lineHeight","BansList_Filter","border","marginLeft","height","BansList_BansList","BansList_ref2","float","BansList_ref3","_ref4","_id","components_BansList","BansList_mapDispatchToProps","onLoadBans","del","unbanUser","then","pages","main","AdminApp_CurrentPage","mapProps_default","component","CurrentPage_enhance","componentFromProp_default","List","primary","AdminApp_AdminApp","currentView","onTransition","selected","AdminApp_ref2","AdminApp_ref3","AdminApp_ref4","components_AdminApp","initialState","totalPages","bans_initialState","reducers","redux_es","objectSpread_default","results","ceil","view","currentViewSelector","AdminApp_mapStateToProps","AdminApp_mapDispatchToProps","mountAdminReducerOnce","store","hasAdminState","mount","mountAdminReducer","AdminApp_enhance","getContext_default","prop_types_default","object","componentWillMount","__webpack_exports__"],"mappings":"2ZAcMA,EAAUC,IACdC,IAAU,UAAW,UAAW,SAAAC,GAAA,OAASA,EAAMC,OAC/CF,IAAU,WAAY,eAAe,GACrCG,IAAU,SAAAF,GAAA,OACRG,WAAYC,OAAAC,EAAA,EAAAD,CAAQE,IAAMN,EAAMO,SAAUP,EAAMQ,gBAChDC,SAAU,kBAAMT,EAAMU,aAAaV,EAAMW,cAE3CC,KACEC,SAAU,SAAAb,GAAA,OAAS,SAACc,GAClBd,EAAMe,QAAQD,EAAME,OAAOC,SAE7BC,SAAU,SAAAlB,GAAA,OAAS,WACjBA,EAAMmB,UAAUnB,EAAMO,SACtBP,EAAMU,aAAY,QAKxB,SAASU,EAAUC,GACbA,GAAIA,EAAGC,cAiBHC,IAACC,EAAA,MAdLC,EAAO,SAAAC,GAAA,IACXC,EADWD,EACXC,cACApB,EAFWmB,EAEXnB,QACAJ,EAHWuB,EAGXvB,WACAQ,EAJWe,EAIXf,SACAE,EALWa,EAKXb,SACAK,EANWQ,EAMXR,SACAT,EAPWiB,EAOXjB,SAPW,OASXc,IAACK,EAAA,GAAKC,UAAU,kBAAhB,EACEN,IAACO,EAAA,GACCC,MAAM,qBACNC,OAAQL,GACNJ,IAACU,EAAA,GAAWC,QAASzB,QAArB,EAAA0B,KAKJZ,IAACa,EAAA,UAAD,EAAcjC,GACdoB,IAACc,EAAA,GAASC,GAAI3B,EAAU4B,eAAA,QAAxB,EACEhB,IAACa,EAAA,GAAYI,OAASC,WAAY,SAAlC,EACEC,EAAAC,EAAAC,cAAA,YACEf,UAAU,kBACVgB,KAAM,EACNhC,SAAUA,EACVI,MAAOV,EACPuC,IAAK1B,KAGTG,IAACwB,EAAA,UAAD,EACExB,IAACyB,EAAA,GACCC,QAAQ,SACRC,MAAM,UACNhB,QAAShB,QAHX,cAYRO,EAAK0B,aAUL1B,EAAK2B,cACHzB,eAAe,GAGjB,IAAA0B,EAAexD,EAAQ4B,mBCxFV6B,OAAwB,ECM/BC,EAAkBnD,OAAAoD,EAAA,EAAApD,EACtBH,KAAMwD,EAAA,EACNjD,eAAgBiD,EAAA,EAChB9B,cAAe2B,IAGXI,GACJvC,UAAWwC,EAAA,GAGbC,EAAexD,OAAAyD,EAAA,EAAAzD,CAAQmD,EAAiBG,EAAxC,CAA4DL,KChB1D9B,IAAA,gBACEA,IAAA,mJAIAA,IAACqC,OANCE,EAAO,kBAAAC,GAUbD,EAAKX,aAEL,IAAAa,EAAA,yNCPMC,GAAUnE,IACdM,OAAA8D,GAAA,EAAA9D,GACAF,IAAU,SAAAF,GAAA,OACRmE,gBADkB,SACFrD,GACdA,EAAMsD,iBACNpE,EAAMqE,aAAarE,EAAMsE,WAKzBC,GAAmB,SAAA7C,GAAA,IAAG4C,EAAH5C,EAAG4C,KAAMH,EAATzC,EAASyC,gBAAT,OACvB5C,IAAA,UAAQW,QAASiC,QAAjB,EACE5C,IAACiD,GAAA,GAAaF,KAAMA,MAIxBC,GAAiBpB,aAKjB,IAAAsB,GAAeR,GAAQM,wBCfjBG,IACJC,MAAO,GACPC,YAAa,EACbC,aAAc,GAGVC,GAAY5E,IAAU,SAAAF,GAAA,OAC1B6B,UAAWkD,KAAG,oBAAqB/E,EAAM6B,aADzB3B,CAEd8E,GAAA,MAmCIzD,IAACuD,WAAD,cAaIvD,IAAC0D,GAAA,SAQD1D,IAAC2D,GAAA,UAAD,SAtDSC,wJAKnBC,OACEC,MAAM,EACNC,SAAU,QAGZC,KAAOC,KAAS,UAEhBC,eAAiB,SAAC3E,GAChB4E,EAAKC,UAAWN,MAAM,EAAMC,SAAUxE,EAAM8E,mBAE9CC,gBAAkB,WAChBH,EAAKC,UAAWN,MAAM,EAAOC,SAAU,gDAGzCQ,kBAAS,IACCxB,EAASyB,KAAK/F,MAAdsE,KADD0B,EAEoBD,KAAKX,MAAxBC,EAFDW,EAECX,KAAMC,EAFPU,EAEOV,SACd,OACE/D,IAAC0E,GAAA,GAASpE,UAAU,qBAApB,EACEN,IAACuD,IAAUjD,UAAU,4BAArB,EACEN,IAAC2E,GAAA,GAAO5B,KAAMA,KAEhB/C,IAACuD,WAAD,EACEvD,IAACkD,IAASH,KAAMA,KAElB/C,IAACuD,WAAD,EACG1E,OAAA+F,GAAA,EAAA/F,CAAekE,EAAK8B,UAAW,SARpCC,GAWE9E,IAACuD,WAAD,EACGR,EAAKgC,MAAMC,OAAS,GAEnBhF,IAACiF,GAAA,GAASC,SAAUnC,EAAKgC,MAAM,MAGnC/E,IAACuD,IAAUtC,MAAOkC,SAAlB,EACEnD,IAACU,EAAA,GACCC,QAAS6D,KAAKN,eACdiB,gBAAc,OACdC,YAAWtB,EAAOU,KAAKR,KAAO,WAHhC,EAAAqB,IAOArF,IAACsF,GAAA,GACCC,GAAIf,KAAKR,KACTF,KAAMA,EACNC,SAAUA,EACVyB,QAAShB,KAAKF,sBAJhB,EAAAmB,UAhD2BtE,EAAAC,EAAMsE,WAAtB9B,GACZhC,qCClBH+D,GAAUpH,IACdI,IAAU,SAAAF,GAAA,OACRmH,kBAAmBC,KAASpH,EAAMqH,SAAU,QAE9CzG,KACEC,SAAU,SAAAb,GAAA,OAAS,SAAAc,GAAA,OACjBd,EAAMmH,kBAAkBrG,EAAME,OAAOC,YAIrCqG,GAAS,SAAA5F,GAAA,IAAGb,EAAHa,EAAGb,SAAH,OACbU,IAAA,SACEgG,KAAK,OACL1F,UAAU,yBACVhB,SAAUA,KAGdyG,GAAOnE,aAIP,IAAMqE,GAAkBN,GAAQI,OAI5B/F,IAAA,oCAFEkG,GAAS,SAAAC,GAAA,IAAGL,EAAHK,EAAGL,SAAH,OACb9F,IAAA,OAAKM,UAAU,wBAAf,EAAA8F,GAEEpG,IAAA,gCAEEA,IAACiG,IAAgBH,SAAUA,OAIjCI,GAAOtE,aAIP,IAAAyE,GAAA,GC5BMC,GAAUzH,OAAA0H,EAAA,EAAA1H,MAgBNmB,IAACyD,GAAA,GAAUnD,UAAU,2BAKrBN,IAACyD,GAAA,MAnBL+C,GAAY,SAAArG,GAAA,IAChBsG,EADgBtG,EAChBsG,EACAC,EAFgBvG,EAEhBuG,SACAC,EAHgBxG,EAGhBwG,YACAC,EAJgBzG,EAIhByG,WACAC,EALgB1G,EAKhB0G,MACAC,EANgB3G,EAMhB2G,aACAhB,EAPgB3F,EAOhB2F,SAPgB,OAShB9F,IAACmB,EAAAC,EAAM2F,iBAAP,EACE/G,IAACqG,IAAOP,SAAUA,IAClB9F,IAACgH,GAAA,UAAD,EACEhH,IAACiH,GAAA,UAAD,EACEjH,IAAC0E,GAAA,GAASpE,UAAU,qBAApB,EAAA4G,GAEElH,IAACyD,GAAA,UAAD,EAAYgD,EAAE,qBACdzG,IAACyD,GAAA,UAAD,EAAYgD,EAAE,yBACdzG,IAACyD,GAAA,UAAD,EAAYgD,EAAE,sBACdzG,IAACyD,GAAA,UAAD,EAAYgD,EAAE,sBALhBU,KASFnH,IAACoH,GAAA,UAAD,EACGP,EAAMQ,IAAI,SAAAtE,GAAA,OACT/C,IAAC4D,IAAQb,KAAMA,OAGnB/C,IAACsH,GAAA,UAAD,EACEtH,IAAC0E,GAAA,UAAD,EACE1E,IAACuH,GAAA,GACCC,MAAOZ,EACPa,YAAaf,EACbgB,oBAAqBhB,GACrBiB,KAAMhB,EACNG,aAAcA,SAQ1BN,GAAU5E,aAUV,IAAAgG,GAAetB,GAAQE,aCrEVqB,GAAa,8BAEbC,GAAmB,qCACnBC,GAAmB,qCACnBC,GAAsB,wCACtBC,GAAkB,mCAClBC,GAAqB,sCCNlCC,GAAA,SAAetE,GAAA,OAASA,EAAMuE,OCIjBC,GAAexJ,OAAAoD,EAAA,EAAApD,CAC1BsJ,GACA,SAAAG,GAAA,OAAQA,EAAKzB,MAAMF,cAER4B,GAAqB1J,OAAAoD,EAAA,EAAApD,CAChCsJ,GACA,SAAAG,GAAA,OAAQA,EAAKzB,MAAMD,aAER4B,GAAiB3J,OAAAoD,EAAA,EAAApD,CAC5BsJ,GACA,SAAAG,GAAA,OAAQA,EAAKzB,MAAM4B,SAGRC,GAAgB7J,OAAAoD,EAAA,EAAApD,CAC3BsJ,GACA,SAAAG,GAAA,OAAQA,EAAKzB,MAAMA,QCXd,SAAS8B,KACd,OAAS3C,KAAM+B,IAGV,SAASa,GAAkBC,GAChC,OACE7C,KAAMgC,GACNc,SACEjC,MAAOgC,EAASE,KAChBpB,KAAMqB,KAAKC,MAAMJ,EAASK,KAAKC,OAASN,EAASK,KAAKxC,WAExDwC,KAAML,EAASK,MCFnB,IAAME,GAAkBvK,OAAAoD,EAAA,EAAApD,EACtB8H,YAAa0B,GACb3B,SFhB8B,kBAAM,IEiBpCE,WAAY2B,GACZ1B,MAAO6B,KAGHW,IACJC,YDFK,SAAmBC,GACxB,YAD2C,IAAnBA,MAAa,MAC9B,SAACC,EAAUC,GAChB,IAAMhB,EAASD,GAAeiB,KAExBC,KAIN,OAHIH,IAAYG,EAAG/B,KAAO4B,GACtBd,IAAQiB,EAAGjB,OAASA,GAEjBe,EAAS3K,OAAA8K,GAAA,IAAA9K,CAAI,UAClB6K,KACAE,QAASjB,GACTkB,WAAYjB,QCRhB9C,SDaK,SAAwB2C,GAC7B,YAD4C,IAAfA,MAAS,OAEpCzC,KAAM8B,GACNgB,SAAWL,aCIfqB,GAjBgBvL,IACdM,OAAAyD,EAAA,EAAAzD,CAAQuK,GAAiBC,IACzB1K,IAAU,SAAAF,GAAA,OACRqI,aAAc,SAACvH,EAAOoI,GAAR,OACZlJ,EAAM6K,aAAcH,OAAQxB,EAAOlJ,EAAMiI,SAAUqD,MAAOtL,EAAMiI,YAClEZ,SAAU,SAAC2C,GACThK,EAAMqH,SAAS2C,GACfhK,EAAM6K,aAAcH,OAAQ,EAAGY,MAAOtL,EAAMiI,eAGhDsD,KACEC,kBADQ,WAENzF,KAAK/F,MAAMqI,aAAa,KAAM,MAKpC,CAAuBc,cC1ChB,SAASsC,KACd,OAASlE,KAAMiC,IAGV,SAASkC,GAAiBtB,GAAU,IACjCK,EAASL,EAATK,KAER,OACElD,KAAMkC,GACNY,SACEsB,KAAMvL,OAAAwL,GAAA,EAAAxL,CAAoBgK,IAE5BK,MACEvB,KAAMqB,KAAKC,MAAMC,EAAKC,OAASD,EAAKxC,UACpC4D,KAAMpB,EAAKxC,WAKV,SAAS6D,KACd,OAAO1L,OAAA8K,GAAA,IAAA9K,CAAI,SACT+K,QAASM,GACTL,WAAYM,8BCjBVK,GAAU3L,OAAA0H,EAAA,EAAA1H,GACV4L,IACJrH,MAAO,GACPE,aAAc,GAGVoH,GAAS,SAAAvK,GAAA,IACbsG,EADatG,EACbsG,EACAkE,EAFaxK,EAEbwK,IACAC,EAHazK,EAGbyK,YAHa,OAKb5K,IAAC0E,GAAA,UAAD,EACE1E,IAACyD,GAAA,GAAUxC,MAAOwJ,SAAlB,EACEzK,IAAC2E,GAAA,GAAO5B,KAAM4H,EAAI5H,QAEpB/C,IAACyD,GAAA,UAAD,EACEzD,IAACkD,IAASH,KAAM4H,EAAI5H,QAEtB/C,IAACyD,GAAA,UAAD,EACGoH,KAAGF,EAAIG,UAAYC,MAAM,KAE5B/K,IAACyD,GAAA,UAAD,EACGkH,EAAIK,QACHhL,IAAA,eAAKyG,EAAE,yBAGXzG,IAACyD,GAAA,UAAD,EACEzD,IAACkD,IAASH,KAAM4H,EAAIM,aAEtBjL,IAACyD,GAAA,UAAD,EACEzD,IAACyB,EAAA,GACCC,QAAQ,SACRf,QAASiK,QAFX,EAIGnE,EAAE,wBAMXiE,GAAO9I,aAWP,IAAAsJ,GAAeV,GAAQE,IC/CjBS,GAAUtM,OAAA0H,EAAA,EAAA1H,GAEVuM,GAASzM,KACbsC,OACEoK,WAAY,UACZC,QAAS,YACTC,WAAY,SAJD5M,CAMZ,OAEG6M,GAAS7M,KACbsC,OACEoK,WAAY,UACZ1J,MAAO,UACP8J,OAAQ,EACRC,WAAY,GACZrI,YAAa,GACbsI,OAAQ,IAEV3F,KAAM,QATOrH,CAUZ,YASGqB,IAAA,sCAGEA,IAACwL,UAMCxL,IAACyD,GAAA,MAhBLmI,GAAW,SAAAzL,GAAA,IACfsG,EADetG,EACfsG,EACA2D,EAFejK,EAEfiK,KACAQ,EAHezK,EAGfyK,YAHe,OAKf5K,IAACmB,EAAAC,EAAM2F,iBAAP,EACE/G,IAACoL,WAAD,EAAAS,GAEE7L,IAAA,QAAMiB,OAAS6K,MAAO,eAAtB,iBAAAC,KAKF/L,IAACgH,GAAA,UAAD,EACEhH,IAACiH,GAAA,UAAD,EACEjH,IAAC0E,GAAA,UAAD,EAAAsH,GAEEhM,IAACyD,GAAA,UAAD,EAAYgD,EAAE,oBACdzG,IAACyD,GAAA,UAAD,EAAYgD,EAAE,wBACdzG,IAACyD,GAAA,UAAD,EAAYgD,EAAE,sBACdzG,IAACyD,GAAA,UAAD,EAAYgD,EAAE,wBACdzG,IAACyD,GAAA,UAAD,EAAYgD,EAAE,yBAGlBzG,IAACoH,GAAA,UAAD,EACGgD,EAAK/C,IAAI,SAAAsD,GAAA,OACR3K,IAACkL,IAECP,IAAKA,EACLC,YAAa,kBAAMA,EAAYD,EAAI5H,QAF9B4H,EAAI5H,KAAKkJ,WAU1BL,GAAShK,aAMT,IAAAsK,GAAef,GAAQS,ICpEjBO,IACJC,WAAY7B,GACZK,YHsBK,SAA4B7H,GACjC,OAAO,SAAAyG,GAAA,OACLA,EANG,SAAmBzG,GACxB,OAAOlE,OAAA8K,GAAA,IAAA9K,CAAAwN,SAAatJ,EAAKkJ,QAKdK,CAAUvJ,IAChBwJ,KAAK,kBAAM/C,EAASe,WI/BrBiC,IACJC,KAAMhK,EACNoE,MAAOiD,GACPM,KDMa7L,IACbM,OAAAyD,EAAA,EAAAzD,CAVsB,SAAAgF,GAAA,OACtBuG,KAAMvG,EAAMuE,MAAMgC,KAAKA,OASE+B,IACzBnC,KACEC,kBADQ,WAENzF,KAAK/F,MAAM2N,gBAJjB,CAOEF,KCJFQ,GANgBC,IAAS,SAAAlO,GAAA,OACvBmO,UAAWJ,GAAM/N,EAAMkJ,QAGLkF,CAAQC,IAAkB,yBCGpC9M,IAAC+M,EAAA,GAAaC,QAAQ,aAOtBhN,IAAC+M,EAAA,GAAaC,QAAQ,aAOtBhN,IAAC+M,EAAA,GAAaC,QAAQ,SA1B1BC,GAAW,SAAA9M,GAAA,IACf+M,EADe/M,EACf+M,YACAC,EAFehN,EAEfgN,aAFe,OAIfnN,IAAA,OAAKM,UAAU,iBAAf,EACEN,IAAA,OAAKM,UAAU,sBAAf,EACEN,IAAC+M,EAAA,UAAD,EACE/M,IAAC+M,EAAA,GACCK,SAA0B,SAAhBF,EACV5M,UAAU,oBACVK,QAAS,kBAAMwM,EAAa,eAH9B,EAAAE,IAOArN,IAAC+M,EAAA,GACCK,SAA0B,UAAhBF,EACV5M,UAAU,oBACVK,QAAS,kBAAMwM,EAAa,gBAH9B,EAAAG,IAOAtN,IAAC+M,EAAA,GACCK,SAA0B,SAAhBF,EACV5M,UAAU,oBACVK,QAAS,kBAAMwM,EAAa,eAH9B,EAAAI,MASJvN,IAAA,OAAKM,UAAU,sBAAf,EACEN,IAAC0M,IAAY/E,KAAMuF,OAKzBD,GAASrL,aAKT,IAAA4L,GAAA,+BC1CMC,IACJhF,OAAQ,KACR9B,YAAa,EACb+G,WAAY,EACZ9G,WAAY,EACZC,UCNF,IAAM8G,IACJhH,aACEwC,OAAQ,EACRY,MAAO,IAETK,SCJF,IAAAwD,GAAe/O,OAAAgP,GAAA,EAAf,EACEhH,MFOa,SAAiBhD,EAAsBpD,GACpD,YAD4D,IAA9BoD,MAAQ4J,IAC9BhN,EAAOuF,MACb,KAAK8B,GACH,OAAAgG,QACKjK,GACH4E,OAAQhI,EAAOqI,QAAQL,SAE3B,KAAKV,GACH,OAAOlE,EACT,KAAKmE,GACH,OAAA8F,QACKjK,GACH8C,YAAalG,EAAOqI,QAAQnB,KAC5Bf,WAAYnG,EAAOyI,KAAK6E,QACxBL,WAAY1E,KAAKgF,KAAKvN,EAAOyI,KAAK6E,QAAUtN,EAAOyI,KAAKxC,UACxDG,MAAOpG,EAAOqI,QAAQjC,QAE1B,QACE,OAAOhD,IExBXuG,KDKa,SAAiBvG,EAAsBpD,GACpD,YADiE,IAAnCoD,MAAQ8J,SAA2B,IAAblN,UAC5CA,EAAOuF,MACb,KAAKiC,GACH,OAAOpE,EACT,KAAKqE,GACH,OAAA4F,QACKjK,GACHuG,KAAM3J,EAAOqI,QAAQsB,OAEzB,QACE,OAAOvG,ICdXoK,KCPa,SAAiBpK,EAAgBpD,GAC9C,YADsD,IAAxBoD,MAAQ,QAClCpD,EAAOuF,OAAS6B,GACXpH,EAAOqI,QAETjF,KCFF,IAAMqK,GAAsBrP,OAAAoD,EAAA,EAAApD,CACjCsJ,GACA,SAAAG,GAAA,OAAQA,EAAK2F,OCKTE,GAAkBtP,OAAAoD,EAAA,EAAApD,EACtBqO,YAAagB,KAGTE,IACJjB,aCbK,SAAoB1N,GACzB,OACEuG,KAAM6B,GACNiB,QAASrJ,KDuBb,SAAS4O,GAAsBC,IAV/B,SAAuBA,GACrB,IAAMzK,EAAQyK,EAAM7E,WAEpB,OAAO5F,KAAWA,EAAMuE,OAQnBmG,CAAcD,IALrB,SAA2BA,GACzBA,EAAME,MAAM,QAASZ,IAKnBa,CAAkBH,GAItB,IAAMI,GAAUnQ,IACdoQ,KAAaL,MAAOM,EAAAxN,EAAUyN,SAC9B7E,KACE8E,mBADQ,WAEFtK,KAAK/F,MAAM6P,OACbD,GAAsB7J,KAAK/F,MAAM6P,UAIvCzP,OAAAyD,EAAA,EAAAzD,CAAQsP,GAAiBC,KAG3BW,EAAA,QAAeL,GAAQlB","file":"admin_60352d5.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'recompose/compose';\nimport withState from 'recompose/withState';\nimport withProps from 'recompose/withProps';\nimport withHandlers from 'recompose/withHandlers';\nimport Card, { CardHeader, CardContent, CardActions } from 'material-ui/Card';\nimport Button from 'material-ui/Button';\nimport IconButton from 'material-ui/IconButton';\nimport Collapse from 'material-ui/transitions/Collapse';\nimport EditIcon from '@material-ui/icons/ModeEdit';\nimport parse from 'u-wave-parse-chat-markup';\nimport compile from '../../../components/Chat/Markup/compile';\n\nconst enhance = compose(\n  withState('newMotd', 'setMotd', props => props.motd),\n  withState('expanded', 'setExpanded', false),\n  withProps(props => ({\n    parsedMotd: compile(parse(props.newMotd), props.compileOptions),\n    onExpand: () => props.setExpanded(!props.expanded),\n  })),\n  withHandlers({\n    onChange: props => (event) => {\n      props.setMotd(event.target.value);\n    },\n    onSubmit: props => () => {\n      props.onSetMotd(props.newMotd);\n      props.setExpanded(false);\n    },\n  }),\n);\n\nfunction autoFocus(el) {\n  if (el) el.focus();\n}\n\nconst Motd = ({\n  canChangeMotd,\n  newMotd,\n  parsedMotd,\n  expanded,\n  onChange,\n  onSubmit,\n  onExpand,\n}) => (\n  <Card className=\"AdminMotd\">\n    <CardHeader\n      title=\"Message of the Day\"\n      action={canChangeMotd && (\n        <IconButton onClick={onExpand}>\n          <EditIcon />\n        </IconButton>\n      )}\n    />\n    <CardContent>{parsedMotd}</CardContent>\n    <Collapse in={expanded} unmountOnExit>\n      <CardContent style={{ paddingTop: 0 }}>\n        <textarea\n          className=\"AdminMotd-field\"\n          rows={4}\n          onChange={onChange}\n          value={newMotd}\n          ref={autoFocus}\n        />\n      </CardContent>\n      <CardActions>\n        <Button\n          variant=\"raised\"\n          color=\"primary\"\n          onClick={onSubmit}\n        >\n          Save\n        </Button>\n      </CardActions>\n    </Collapse>\n  </Card>\n);\n\nMotd.propTypes = {\n  canChangeMotd: PropTypes.bool,\n  newMotd: PropTypes.string.isRequired,\n  parsedMotd: PropTypes.array.isRequired,\n  expanded: PropTypes.bool.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onExpand: PropTypes.func.isRequired,\n};\n\nMotd.defaultProps = {\n  canChangeMotd: false,\n};\n\nexport default enhance(Motd);\n","/* eslint-disable import/prefer-default-export */\nimport { isModeratorSelector } from '../../selectors/userSelectors';\n\n// TODO replace with check for the `motd.set` role.\nexport const canChangeMotdSelector = isModeratorSelector;\n","import { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport Motd from '../components/Motd';\nimport { setMotd } from '../../actions/ChatActionCreators';\nimport {\n  rawMotdSelector,\n  markupCompilerOptionsSelector,\n} from '../../selectors/chatSelectors';\nimport { canChangeMotdSelector } from '../selectors/authSelectors';\n\nconst mapStateToProps = createStructuredSelector({\n  motd: rawMotdSelector,\n  compileOptions: markupCompilerOptionsSelector,\n  canChangeMotd: canChangeMotdSelector,\n});\n\nconst mapDispatchToProps = {\n  onSetMotd: setMotd,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Motd);\n","import React from 'react';\nimport Motd from '../../containers/Motd';\n\nconst Main = () => (\n  <div>\n    <p>\n      Note that the admin interface is not yet done and most things do not work.\n      You can, however, configure the message of the day! :P\n    </p>\n    <Motd />\n  </div>\n);\n\nMain.propTypes = {};\n\nexport default Main;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'recompose/compose';\nimport withProps from 'recompose/withProps';\nimport userCardable from '../../utils/userCardable';\n\nimport UsernameBase from './';\n\nconst enhance = compose(\n  userCardable(),\n  withProps(props => ({\n    onUsernameClick(event) {\n      event.preventDefault();\n      props.openUserCard(props.user);\n    },\n  })),\n);\n\nconst UsernameWithCard = ({ user, onUsernameClick }) => (\n  <button onClick={onUsernameClick}>\n    <UsernameBase user={user} />\n  </button>\n);\n\nUsernameWithCard.propTypes = {\n  user: PropTypes.object.isRequired,\n  onUsernameClick: PropTypes.func.isRequired,\n};\n\nexport default enhance(UsernameWithCard);\n","import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport withProps from 'recompose/withProps';\nimport uniqueId from 'lodash/uniqueId';\nimport IconButton from 'material-ui/IconButton';\nimport Menu, { MenuItem } from 'material-ui/Menu';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { TableRow, TableCell as MuiTableCell } from 'material-ui/Table';\nimport Avatar from '../../../components/Avatar';\nimport Username from '../../../components/Username/WithCard';\nimport UserRole from '../../../components/UserRole';\nimport formatJoinDate from '../../../utils/formatJoinDate';\n\nconst actionsStyle = {\n  width: 48,\n  paddingLeft: 0,\n  paddingRight: 0,\n};\n\nconst TableCell = withProps(props => ({\n  className: cx('AdminUserRow-cell', props.className),\n}))(MuiTableCell);\n\nexport default class UserRow extends React.Component {\n  static propTypes = {\n    user: PropTypes.object.isRequired,\n  };\n\n  state = {\n    open: false,\n    anchorEl: null,\n  };\n\n  menu = uniqueId('menu');\n\n  handleOpenMenu = (event) => {\n    this.setState({ open: true, anchorEl: event.currentTarget });\n  };\n  handleCloseMenu = () => {\n    this.setState({ open: false, anchorEl: null });\n  };\n\n  render() {\n    const { user } = this.props;\n    const { open, anchorEl } = this.state;\n    return (\n      <TableRow className=\"AdminUserRow\">\n        <TableCell className=\"AdminUserRow-avatar\">\n          <Avatar user={user} />\n        </TableCell>\n        <TableCell>\n          <Username user={user} />\n        </TableCell>\n        <TableCell>\n          {formatJoinDate(user.createdAt, 'date')}\n        </TableCell>\n        <TableCell>Email</TableCell>\n        <TableCell>\n          {user.roles.length > 0 && (\n            /* Only show the primary role here for space reasons. */\n            <UserRole roleName={user.roles[0]} />\n          )}\n        </TableCell>\n        <TableCell style={actionsStyle}>\n          <IconButton\n            onClick={this.handleOpenMenu}\n            aria-haspopup=\"true\"\n            aria-owns={open ? this.menu : null}\n          >\n            <MoreVertIcon />\n          </IconButton>\n          <Menu\n            id={this.menu}\n            open={open}\n            anchorEl={anchorEl}\n            onClose={this.handleCloseMenu}\n          >\n            <MenuItem>Ban</MenuItem>\n          </Menu>\n        </TableCell>\n      </TableRow>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport debounce from 'lodash/debounce';\nimport compose from 'recompose/compose';\nimport withProps from 'recompose/withProps';\nimport withHandlers from 'recompose/withHandlers';\n\nconst enhance = compose(\n  withProps(props => ({\n    onFilterDebounced: debounce(props.onFilter, 200),\n  })),\n  withHandlers({\n    onChange: props => event =>\n      props.onFilterDebounced(event.target.value),\n  }),\n);\n\nconst Filter = ({ onChange }) => (\n  <input\n    type=\"text\"\n    className=\"AdminUserHeader-filter\"\n    onChange={onChange}\n  />\n);\nFilter.propTypes = {\n  onChange: PropTypes.func.isRequired,\n};\n\nconst ConnectedFilter = enhance(Filter);\n\nconst Header = ({ onFilter }) => (\n  <div className=\"AdminUserHeader\">\n    <span>Managing Users:</span>\n    <span>\n      Filter User:\n      <ConnectedFilter onFilter={onFilter} />\n    </span>\n  </div>\n);\nHeader.propTypes = {\n  onFilter: PropTypes.func.isRequired,\n};\n\nexport default Header;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\n// eslint-disable-next-line\nimport Table, {\n  TableBody,\n  TableHead,\n  TableFooter,\n  TableCell,\n  TableRow,\n  TablePagination,\n} from 'material-ui/Table';\nimport UserRow from './Row';\nimport Header from './Header';\n\nconst enhance = translate();\n\nconst UsersList = ({\n  t,\n  pageSize,\n  currentPage,\n  totalUsers,\n  users,\n  onChangePage,\n  onFilter,\n}) => (\n  <React.Fragment>\n    <Header onFilter={onFilter} />\n    <Table>\n      <TableHead>\n        <TableRow className=\"AdminUserRow\">\n          <TableCell className=\"AdminUserRow-avatar\" />\n          <TableCell>{t('admin.users.user')}</TableCell>\n          <TableCell>{t('admin.users.joinedAt')}</TableCell>\n          <TableCell>{t('admin.users.email')}</TableCell>\n          <TableCell>{t('admin.users.roles')}</TableCell>\n          <TableCell />\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {users.map(user => (\n          <UserRow user={user} />\n        ))}\n      </TableBody>\n      <TableFooter>\n        <TableRow>\n          <TablePagination\n            count={totalUsers}\n            rowsPerPage={pageSize}\n            rowsPerPageOptions={[pageSize]}\n            page={currentPage}\n            onChangePage={onChangePage}\n          />\n        </TableRow>\n      </TableFooter>\n    </Table>\n  </React.Fragment>\n);\n\nUsersList.propTypes = {\n  t: PropTypes.func.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  totalUsers: PropTypes.number.isRequired,\n  users: PropTypes.array.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  onFilter: PropTypes.func.isRequired,\n};\n\nexport default enhance(UsersList);\n","export const TRANSITION = 'uwave/admin/view/TRANSITION';\n\nexport const SET_USERS_FILTER = 'uwave/admin/users/SET_USERS_FILTER';\nexport const LOAD_USERS_START = 'uwave/admin/users/LOAD_USERS_START';\nexport const LOAD_USERS_COMPLETE = 'uwave/admin/users/LOAD_USERS_COMPLETE';\nexport const LOAD_BANS_START = 'uwave/admin/bans/LOAD_BANS_START';\nexport const LOAD_BANS_COMPLETE = 'uwave/admin/bans/LOAD_BANS_COMPLETE';\n","export default state => state.admin;\n","import { createSelector } from 'reselect';\nimport baseSelector from './baseSelector';\n\nexport const pageSizeSelector = () => 25;\nexport const pageSelector = createSelector(\n  baseSelector,\n  base => base.users.currentPage,\n);\nexport const totalUsersSelector = createSelector(\n  baseSelector,\n  base => base.users.totalUsers,\n);\nexport const filterSelector = createSelector(\n  baseSelector,\n  base => base.users.filter,\n);\n\nexport const usersSelector = createSelector(\n  baseSelector,\n  base => base.users.users,\n);\n\n","import { get } from '../../actions/RequestActionCreators';\nimport {\n  SET_USERS_FILTER,\n  LOAD_USERS_START,\n  LOAD_USERS_COMPLETE,\n} from '../constants/ActionTypes';\nimport { filterSelector } from '../selectors/userSelectors';\n\nexport function loadUsersStart() {\n  return { type: LOAD_USERS_START };\n}\n\nexport function loadUsersComplete(response) {\n  return {\n    type: LOAD_USERS_COMPLETE,\n    payload: {\n      users: response.data,\n      page: Math.floor(response.meta.offset / response.meta.pageSize),\n    },\n    meta: response.meta,\n  };\n}\n\nexport function loadUsers(pagination = null) {\n  return (dispatch, getState) => {\n    const filter = filterSelector(getState());\n\n    const qs = {};\n    if (pagination) qs.page = pagination;\n    if (filter) qs.filter = filter;\n\n    return dispatch(get('/users', {\n      qs,\n      onStart: loadUsersStart,\n      onComplete: loadUsersComplete,\n    }));\n  };\n}\n\nexport function setUsersFilter(filter = null) {\n  return {\n    type: SET_USERS_FILTER,\n    payload: { filter },\n  };\n}\n","import { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport compose from 'recompose/compose';\nimport withProps from 'recompose/withProps';\nimport lifecycle from 'recompose/lifecycle';\nimport UsersList from '../components/UsersList';\nimport {\n  loadUsers,\n  setUsersFilter,\n} from '../actions/users';\nimport {\n  pageSelector,\n  pageSizeSelector,\n  totalUsersSelector,\n  usersSelector,\n} from '../selectors/userSelectors';\n\nconst mapStateToProps = createStructuredSelector({\n  currentPage: pageSelector,\n  pageSize: pageSizeSelector,\n  totalUsers: totalUsersSelector,\n  users: usersSelector,\n});\n\nconst mapDispatchToProps = {\n  onLoadUsers: loadUsers,\n  onFilter: setUsersFilter,\n};\n\nconst enhance = compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withProps(props => ({\n    onChangePage: (event, page) =>\n      props.onLoadUsers({ offset: page * props.pageSize, limit: props.pageSize }),\n    onFilter: (filter) => {\n      props.onFilter(filter);\n      props.onLoadUsers({ offset: 0, limit: props.pageSize });\n    },\n  })),\n  lifecycle({\n    componentDidMount() {\n      this.props.onChangePage(null, 0);\n    },\n  }),\n);\n\nexport default enhance(UsersList);\n","import { get, del } from '../../actions/RequestActionCreators';\nimport mergeIncludedModels from '../../utils/mergeIncludedModels';\nimport { LOAD_BANS_START, LOAD_BANS_COMPLETE } from '../constants/ActionTypes';\n\nexport function loadBansStart() {\n  return { type: LOAD_BANS_START };\n}\n\nexport function loadBansComplete(response) {\n  const { meta } = response;\n\n  return {\n    type: LOAD_BANS_COMPLETE,\n    payload: {\n      bans: mergeIncludedModels(response),\n    },\n    meta: {\n      page: Math.floor(meta.offset / meta.pageSize),\n      size: meta.pageSize,\n    },\n  };\n}\n\nexport function loadBans() {\n  return get('/bans', {\n    onStart: loadBansStart,\n    onComplete: loadBansComplete,\n  });\n}\n\nexport function unbanUser(user) {\n  return del(`/bans/${user._id}`, {});\n}\n\nexport function unbanUserAndReload(user) {\n  return dispatch =>\n    dispatch(unbanUser(user))\n      .then(() => dispatch(loadBans()));\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport ms from 'ms';\nimport Button from 'material-ui/Button';\nimport { TableRow, TableCell } from 'material-ui/Table';\nimport Avatar from '../../../components/Avatar';\nimport Username from '../../../components/Username/WithCard';\n\nconst enhance = translate();\nconst avatarStyle = {\n  width: 48,\n  paddingRight: 0,\n};\n\nconst BanRow = ({\n  t,\n  ban,\n  onUnbanUser,\n}) => (\n  <TableRow>\n    <TableCell style={avatarStyle}>\n      <Avatar user={ban.user} />\n    </TableCell>\n    <TableCell>\n      <Username user={ban.user} />\n    </TableCell>\n    <TableCell>\n      {ms(ban.duration, { long: true })}\n    </TableCell>\n    <TableCell>\n      {ban.reason || (\n        <em>{t('admin.bans.noReason')}</em>\n      )}\n    </TableCell>\n    <TableCell>\n      <Username user={ban.moderator} />\n    </TableCell>\n    <TableCell>\n      <Button\n        variant=\"raised\"\n        onClick={onUnbanUser}\n      >\n        {t('admin.bans.unban')}\n      </Button>\n    </TableCell>\n  </TableRow>\n);\n\nBanRow.propTypes = {\n  t: PropTypes.func.isRequired,\n  ban: PropTypes.shape({\n    user: PropTypes.object.isRequired,\n    duration: PropTypes.number.isRequired,\n    reason: PropTypes.string,\n    moderator: PropTypes.object.isRequired,\n  }).isRequired,\n  onUnbanUser: PropTypes.func.isRequired,\n};\n\nexport default enhance(BanRow);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withProps from 'recompose/withProps';\nimport { translate } from 'react-i18next';\n// eslint-disable-next-line\nimport Table, {\n  TableBody,\n  TableHead,\n  TableCell,\n  TableRow,\n} from 'material-ui/Table';\nimport BanRow from './Row';\n\nconst enhance = translate();\n\nconst Header = withProps({\n  style: {\n    background: '#9d2053',\n    padding: '12px 24px',\n    lineHeight: '35px',\n  },\n})('div');\n\nconst Filter = withProps({\n  style: {\n    background: '#631032',\n    color: '#ffffff',\n    border: 0,\n    marginLeft: 12,\n    paddingLeft: 12,\n    height: 35,\n  },\n  type: 'text',\n})('input');\n\nconst BansList = ({\n  t,\n  bans,\n  onUnbanUser,\n}) => (\n  <React.Fragment>\n    <Header>\n      <span>Managing Bans:</span>\n      <span style={{ float: 'right' }}>\n        Filter User:\n        <Filter />\n      </span>\n    </Header>\n    <Table>\n      <TableHead>\n        <TableRow>\n          <TableCell />\n          <TableCell>{t('admin.bans.user')}</TableCell>\n          <TableCell>{t('admin.bans.duration')}</TableCell>\n          <TableCell>{t('admin.bans.reason')}</TableCell>\n          <TableCell>{t('admin.bans.bannedBy')}</TableCell>\n          <TableCell>{t('admin.bans.actions')}</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {bans.map(ban => (\n          <BanRow\n            key={ban.user._id}\n            ban={ban}\n            onUnbanUser={() => onUnbanUser(ban.user)}\n          />\n        ))}\n      </TableBody>\n    </Table>\n  </React.Fragment>\n);\n\nBansList.propTypes = {\n  t: PropTypes.func.isRequired,\n  bans: PropTypes.array.isRequired,\n  onUnbanUser: PropTypes.func.isRequired,\n};\n\nexport default enhance(BansList);\n","import { connect } from 'react-redux';\nimport compose from 'recompose/compose';\nimport lifecycle from 'recompose/lifecycle';\nimport { loadBans, unbanUserAndReload } from '../actions/bans';\nimport BansList from '../components/BansList';\n\nconst mapStateToProps = state => ({\n  bans: state.admin.bans.bans,\n});\n\nconst mapDispatchToProps = {\n  onLoadBans: loadBans,\n  onUnbanUser: unbanUserAndReload,\n};\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  lifecycle({\n    componentDidMount() {\n      this.props.onLoadBans();\n    },\n  }),\n)(BansList);\n","import mapProps from 'recompose/mapProps';\nimport componentFromProp from 'recompose/componentFromProp';\nimport Main from '../Main';\nimport UsersList from '../../containers/UsersList';\nimport BansList from '../../containers/BansList';\n\nconst pages = {\n  main: Main,\n  users: UsersList,\n  bans: BansList,\n};\n\nconst enhance = mapProps(props => ({\n  component: pages[props.page],\n}));\n\nconst CurrentPage = enhance(componentFromProp('component'));\n\nexport default CurrentPage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport List, { ListItem, ListItemText } from '../../../components/List';\nimport CurrentPage from './CurrentPage';\n\nimport '../../index.css';\n\nconst AdminApp = ({\n  currentView,\n  onTransition,\n}) => (\n  <div className=\"AdminApp\">\n    <div className=\"AdminApp-menu\">\n      <List>\n        <ListItem\n          selected={currentView === 'main'}\n          className=\"AdminApp-menuItem\"\n          onClick={() => onTransition('main')}\n        >\n          <ListItemText primary=\"Main\" />\n        </ListItem>\n        <ListItem\n          selected={currentView === 'users'}\n          className=\"AdminApp-menuItem\"\n          onClick={() => onTransition('users')}\n        >\n          <ListItemText primary=\"Users\" />\n        </ListItem>\n        <ListItem\n          selected={currentView === 'bans'}\n          className=\"AdminApp-menuItem\"\n          onClick={() => onTransition('bans')}\n        >\n          <ListItemText primary=\"Bans\" />\n        </ListItem>\n      </List>\n    </div>\n    <div className=\"AdminApp-page\">\n      <CurrentPage page={currentView} />\n    </div>\n  </div>\n);\n\nAdminApp.propTypes = {\n  currentView: PropTypes.string.isRequired,\n  onTransition: PropTypes.func.isRequired,\n};\n\nexport default AdminApp;\n","import {\n  SET_USERS_FILTER,\n  LOAD_USERS_START,\n  LOAD_USERS_COMPLETE,\n} from '../constants/ActionTypes';\n\nconst initialState = {\n  filter: null,\n  currentPage: 0,\n  totalPages: 0,\n  totalUsers: 0,\n  users: [],\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_USERS_FILTER:\n      return {\n        ...state,\n        filter: action.payload.filter,\n      };\n    case LOAD_USERS_START:\n      return state;\n    case LOAD_USERS_COMPLETE:\n      return {\n        ...state,\n        currentPage: action.payload.page,\n        totalUsers: action.meta.results,\n        totalPages: Math.ceil(action.meta.results / action.meta.pageSize),\n        users: action.payload.users,\n      };\n    default:\n      return state;\n  }\n}\n","import {\n  LOAD_BANS_START,\n  LOAD_BANS_COMPLETE,\n} from '../constants/ActionTypes';\n\nconst initialState = {\n  currentPage: {\n    offset: 0,\n    limit: 50,\n  },\n  bans: [],\n};\n\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case LOAD_BANS_START:\n      return state;\n    case LOAD_BANS_COMPLETE:\n      return {\n        ...state,\n        bans: action.payload.bans,\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\n\nimport users from './users';\nimport bans from './bans';\nimport view from './view';\n\nexport default combineReducers({\n  users,\n  bans,\n  view,\n});\n","import { TRANSITION } from '../constants/ActionTypes';\n\nexport default function reducer(state = 'main', action) {\n  if (action.type === TRANSITION) {\n    return action.payload;\n  }\n  return state;\n}\n","import { createSelector } from 'reselect';\nimport baseSelector from './baseSelector';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const currentViewSelector = createSelector(\n  baseSelector,\n  base => base.view,\n);\n","import PropTypes from 'prop-types';\nimport compose from 'recompose/compose';\nimport getContext from 'recompose/getContext';\nimport lifecycle from 'recompose/lifecycle';\nimport { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport AdminApp from '../components/AdminApp';\nimport adminReducer from '../reducers';\nimport { transition } from '../actions/view';\nimport { currentViewSelector } from '../selectors/viewSelectors';\n\nconst mapStateToProps = createStructuredSelector({\n  currentView: currentViewSelector,\n});\n\nconst mapDispatchToProps = {\n  onTransition: transition,\n};\n\nfunction hasAdminState(store) {\n  const state = store.getState();\n\n  return state && !!state.admin;\n}\n\nfunction mountAdminReducer(store) {\n  store.mount('admin', adminReducer);\n}\n\nfunction mountAdminReducerOnce(store) {\n  if (!hasAdminState(store)) {\n    mountAdminReducer(store);\n  }\n}\n\nconst enhance = compose(\n  getContext({ store: PropTypes.object }),\n  lifecycle({\n    componentWillMount() {\n      if (this.props.store) {\n        mountAdminReducerOnce(this.props.store);\n      }\n    },\n  }),\n  connect(mapStateToProps, mapDispatchToProps),\n);\n\nexport default enhance(AdminApp);\n","import { TRANSITION } from '../constants/ActionTypes';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function transition(target) {\n  return {\n    type: TRANSITION,\n    payload: target,\n  };\n}\n"],"sourceRoot":""}