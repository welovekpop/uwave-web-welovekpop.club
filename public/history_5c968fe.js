(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{781:function(e,o,t){"use strict";t.r(o);var n=t(2),s=t.n(n),a=t(0),i=t.n(a),r=t(8),c=t.n(r),d=t(6),u=t.n(d),l=t(1),p=t.n(l),m=t(3),v=t.n(m),w=t(10),R=t(60),h=t(74),y=t(38),f=t.n(y),M=t(250),N=t(251),g=t(12),A=t.n(g),O=t(56),D=t(119),B=t(61),b=t(257),k=t(117),C=t(16),H=t.n(C),P=t(101),E=t.n(P),L=t(116);var S=function(e){var o=e.t,t=Math.max(0,Math.floor((e.currentTime-e.timestamp)/1e3)),n=E()(1e3*t,{long:!0}),s=function(e){var o=e.split(" "),t=o[0];return{key:o[1].replace(/s$/,"")+"s",count:parseInt(t,10)}}(n),a=s.key,r=s.count;return i()("span",{},void 0,o("timeAgo.format",{time:o("timeAgo."+a,{count:r,defaultValue:n})}))};S.propTypes={};var T=H()(Object(w.c)(),Object(L.a)())(S),j=t(111),V=t(112),I=t(113),K=t(157),J=function(e){var o=e.upvotes,t=e.downvotes,n=e.favorites,s=e.isUpvote,a=e.isDownvote,r=e.isFavorite?I.a:K.a;return i()("div",{className:"HistoryVotes AudienceResponse"},void 0,i()("div",{className:"ResponseButton ResponseButton--static"},void 0,i()("div",{className:"ResponseButton-content"},void 0,i()(V.a,{className:u()("HistoryVotes-icon",s&&"ResponseButton-icon--upvoted")}),i()("span",{className:"ResponseButton-count"},void 0,o.length))),i()("div",{className:"ResponseButton ResponseButton--static"},void 0,i()("div",{className:"ResponseButton-content"},void 0,i()(r,{className:"HistoryVotes-icon ResponseButton-icon--favorite"}),i()("span",{className:"ResponseButton-count"},void 0,n.length))),i()("div",{className:"ResponseButton ResponseButton--static"},void 0,i()("div",{className:"ResponseButton-content"},void 0,i()(j.a,{className:u()("HistoryVotes-icon",a&&"ResponseButton-icon--downvoted")}),i()("span",{className:"ResponseButton-count"},void 0,t.length))))};J.propTypes={};var _=J,q={beginDrag:function(e){var o=e.selection,t=e.media;return{media:function(e,o){return e.some(function(e){return e._id===o._id})}(o,t.media)?o:[t.media]}}},x=Object(O.DragSource)(B.MEDIA,q,function(e){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview()}}),z=function(e){function o(){for(var o,t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];return(o=e.call.apply(e,[this].concat(n))||this).state={showActions:!1},o.handleMouseEnter=function(){o.setState({showActions:!0})},o.handleMouseLeave=function(){o.setState({showActions:!1})},o.handleDoubleClick=function(){o.props.onOpenPreviewMediaDialog(o.props.media.media)},o.handleKeyPress=function(e){"Space"===e.code&&o.props.onClick()},o}A()(o,e);var t=o.prototype;return t.componentDidMount=function(){this.props.connectDragPreview(Object(D.getEmptyImage)())},t.render=function(){var e=this.props,o=e.media,t=e.className,n=e.selection,s=e.connectDragSource,a=e.makeActions,r=e.onClick,c=o.media,d=o.timestamp,l=o.user,m=o.stats,v=this.state.showActions,w=e.selected?"is-selected":"",R=i()("div",{className:"MediaListRow-thumb"},void 0,i()("img",{className:"MediaListRow-image",src:c.thumbnail,alt:""}));return s(i()("div",{className:u()("MediaListRow","HistoryRow",t,w),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDoubleClick:this.handleDoubleClick,onKeyPress:this.handleKeyPress,onClick:r},void 0,R,i()(k.a,{className:"HistoryRow-song",size:"mediaRow",artist:c.artist,title:c.title}),i()("div",{className:"HistoryRow-votes"},void 0,p.a.createElement(_,m)),i()("div",{className:"HistoryRow-user"},void 0,l.username),i()("div",{className:"HistoryRow-time",dateTime:d},void 0,i()(T,{timestamp:d})),v&&i()(b.a,{className:u()("MediaListRow-actions",w),selection:n,media:c,makeActions:a})))},o}(p.a.Component);z.defaultProps={selected:!1},z.propTypes={};var F=x(z),U=function(){return[]},$=f()(function(e){return{className:"RoomHistory-list",listComponent:"div",rowComponent:F,makeActions:e.onOpenAddMediaMenu?(o=e.onOpenAddMediaMenu,function(e,t){return[i()(N.a,{onAdd:function(n){return o(n,e,t)}},"add")]}):U};var o})(M.a);$.propTypes={onOpenAddMediaMenu:v.a.func.isRequired};var G=$,Q=Object(w.c)(),W=function(e){var o=e.t,t=e.className,n=e.onCloseOverlay,a=e.onOpenAddMediaMenu,r=e.onOpenPreviewMediaDialog,d=c()(e,["t","className","onCloseOverlay","onOpenAddMediaMenu","onOpenPreviewMediaDialog"]);return i()("div",{className:u()("RoomHistory",t)},void 0,i()(R.a,{direction:"top",className:"AppRow AppRow--top",title:o("history.title"),onCloseOverlay:n}),i()(h.a,{className:"RoomHistory-body"},void 0,p.a.createElement(G,s()({onOpenAddMediaMenu:a,onOpenPreviewMediaDialog:r},d))))};W.propTypes={};o.default=Q(W)}}]);
//# sourceMappingURL=history_5c968fe.js.map