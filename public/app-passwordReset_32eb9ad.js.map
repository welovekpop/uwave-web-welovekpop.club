{"version":3,"sources":["webpack:///./constants/actionTypes/errors.js","webpack:///./locale.js","webpack:///../locale/en.yaml","webpack:///./actions/ErrorActionCreators.js","webpack:///./selectors/errorSelectors.js","webpack:///./components/ErrorArea/index.js","webpack:///./containers/ErrorArea.js","webpack:///./theme.js","webpack:///./reducers/theme.js","webpack:///./reducers/errors.js","webpack:///./reducers/config.js","webpack:///./reducers/auth.js","webpack:///./actions/RequestActionCreators.js","webpack:///./store/request.js","webpack:///./constants/actionTypes/auth.js","webpack:///./components/Form/Group.js","webpack:///./components/Form/TextField.js","webpack:///./selectors/configSelectors.js","webpack:///./components/Form/Button.js","webpack:///./components/Form/index.js","webpack:///./constants/actionTypes/request.js","webpack:///./selectors/userSelectors.js"],"names":["__webpack_require__","d","__webpack_exports__","ERROR_DISMISS","resources","cs","e","then","bind","cy","de","es","fr","ko","nl","pt","zh","UwaveBackend","type","cache","getResource","language","this","Promise","reject","Error","read","namespace","callback","resource","result","catch","use","init","fallbackLng","defaultNS","interpolation","escapeValue","addResourceBundle","locales","en","close","timeAgo","format","seconds","seconds_plural","minutes","minutes_plural","hours","hours_plural","days","days_plural","roles","user","special","moderator","manager","admin","chat","title","placeholder","userJoin","userLeave","userNameChanged","modSkip","modSkipReason","selfSkip","selfSkipReason","rolesAdded","rolesRemoved","dialogs","confirm","defaultConfirmLabel","defaultCancelLabel","prompt","defaultSubmitLabel","logout","action","createPlaylist","nameInputTitle","deletePlaylist","renamePlaylist","editMedia","save","artistLabel","titleLabel","playFromLabel","playToLabel","errors","invalidStartTime","invalidEndTime","endTimeBeforeStart","endTimeAfterSongEnd","media","artist","playlists","new","delete","deleteActive","noPlaylists","noPlaylistsCreate","empty","active","activate","shuffle","filter","rename","import","search","results","noResults","noResultsSub","eta","playingNow","waitlist","join","leave","votes","upvote","downvote","favorite","booth","videoDisabled","autoplayBlocked","play","currentDJ","skip","self","other","reasons","genre","history","unavailable","nsfw","duration","downvotes","users","guests","guests_plural","server","connectionLost","reconnecting","about","servers","settings","videoEnabled","videoSize","enableLargeVideo","disableLargeVideo","enableFullscreen","disableFullscreen","mentionSound","notifications","help","profile","username","change","links","website","source","license","login","register","email","password","forgotPassword","requestPasswordReset","passwordResetSent","privacyPolicy","agree","social","loginWithGoogle","resetPassword","introduction","submit","success","joinedAt","bans","reason","bannedBy","actions","unban","noReason","soundcloud","error","template","network","decode","notFound","availableLanguages","concat","Object","keys","createLocale","locale","cloneInstance","resolve","changeLanguage","dismiss","firstErrorSelector","reselect_es","state","ErrorArea_ErrorArea","_ref","onDismiss","jsx_default","className","Snackbar","SnackbarContentProps","open","message","onClose","propTypes","components_ErrorArea","react_redux_es","dispatch","palette","primary","light","main","contrastText","background","paper","typography","fontFamily","reduce","_theme__WEBPACK_IMPORTED_MODULE_0__","payload","length","slice","initialState","_constants_actionTypes_auth__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_builtin_extends__WEBPACK_IMPORTED_MODULE_0___default","strategies","token","isError","_id","requestID","request","method","url","opts","_opts","onStart","onComplete","onError","requestOpts","_babel_runtime_helpers_builtin_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default","_constants_actionTypes_request__WEBPACK_IMPORTED_MODULE_2__","meta","id","requestComplete","response","requestCompleteError","get","post","data","put","del","makeUrl","path","params","object","uri","indexOf","qs_stringify__WEBPACK_IMPORTED_MODULE_2___default","rejectNonOK","status","json","res","object_assign__WEBPACK_IMPORTED_MODULE_1___default","map","err","defaultOptions","apiUrl","middleware","middlewareOptions","getState","next","_constants_actionTypes_request__WEBPACK_IMPORTED_MODULE_3__","_selectors_configSelectors__WEBPACK_IMPORTED_MODULE_5__","_selectors_userSelectors__WEBPACK_IMPORTED_MODULE_6__","_action$payload","qs","_action$meta","completedMeta","requestUrl","requestOptions","headers","Accept","Content-Type","credentials","Authorization","body","JSON","stringify","fetch","responseValue","_actions_RequestActionCreators__WEBPACK_IMPORTED_MODULE_4__","INIT_STATE","SOCKET_CONNECT","SOCKET_RECONNECT","SOCKET_CONNECTED","SOCKET_DISCONNECTED","AUTH_STRATEGIES","SET_TOKEN","REGISTER_START","REGISTER_COMPLETE","LOGIN_START","LOGIN_COMPLETE","LOGOUT_START","LOGOUT_COMPLETE","RESET_PASSWORD_COMPLETE","FormGroup","children","props","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","classnames__WEBPACK_IMPORTED_MODULE_2___default","TextField","refInput","input","_this","render","_props","icon","_babel_runtime_helpers_builtin_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_builtin_jsx__WEBPACK_IMPORTED_MODULE_0___default","classnames__WEBPACK_IMPORTED_MODULE_6___default","react__WEBPACK_IMPORTED_MODULE_7___default","_babel_runtime_helpers_builtin_extends__WEBPACK_IMPORTED_MODULE_1___default","ref","value","Component","defaultProps","configSelector","config","requestOptionsSelector","reselect__WEBPACK_IMPORTED_MODULE_0__","options","availableEmojiImagesSelector","emoji","availableEmojiNamesSelector","reCaptchaSelector","recaptcha","reCaptchaSiteKeySelector","rc","key","rolesSelector","roleColorsSelector","lodash_memoize__WEBPACK_IMPORTED_MODULE_1___default","roleName","default","Button","text","material_ui_Button__WEBPACK_IMPORTED_MODULE_5__","variant","color","Form","REQUEST_START","REQUEST_COMPLETE","authSelector","auth","usersBaseSelector","usersSelector","base","authErrorSelector","currentUserIDSelector","currentUserSelector","userID","isLoggedInSelector","Boolean","tokenSelector","authStrategiesSelector","name","supportsSocialAuthSelector","_len","arguments","support","Array","_key","some","superUserRoleSelector","getAllUserRoles","getSubRoles","subRoles","role","userListSelector","_configSelectors__WEBPACK_IMPORTED_MODULE_3__","superuserRole","object_values__WEBPACK_IMPORTED_MODULE_2___default","sort","superuser","b","aRoles","bRoles","natural_compare__WEBPACK_IMPORTED_MODULE_1___default","toLowerCase","compareUsers","userCountSelector","guestCountSelector","listenerCountSelector","userHasRoleSelector","superUserRole","userRoles","hasRoleSelector","userHasRole","currentUserHasRoleSelector","createRoleCheckSelector","hasRole","isModeratorSelector","isManagerSelector"],"mappings":"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","file":"app-passwordReset_32eb9ad.js","sourcesContent":["// eslint-disable-next-line import/prefer-default-export\nexport const ERROR_DISMISS = 'errors/DISMISS';\n","import i18next from 'i18next';\nimport * as en from '../locale/en.yaml';\n\nconst resources = {\n  cs: () => import('../locale/cs.yaml' /* webpackChunkName: \"lang_cs\" */),\n  cy: () => import('../locale/cy.yaml' /* webpackChunkName: \"lang_cy\" */),\n  de: () => import('../locale/de.yaml' /* webpackChunkName: \"lang_de\" */),\n  es: () => import('../locale/es.yaml' /* webpackChunkName: \"lang_es\" */),\n  fr: () => import('../locale/fr.yaml' /* webpackChunkName: \"lang_fr\" */),\n  ko: () => import('../locale/ko.yaml' /* webpackChunkName: \"lang_ko\" */),\n  nl: () => import('../locale/nl.yaml' /* webpackChunkName: \"lang_nl\" */),\n  pt: () => import('../locale/pt.yaml' /* webpackChunkName: \"lang_pt\" */),\n  zh: () => import('../locale/zh.yaml' /* webpackChunkName: \"lang_zh\" */),\n};\n\nclass UwaveBackend {\n  static type = 'backend';\n  type = 'backend';\n  cache = {};\n\n  getResource(language) {\n    if (this.cache[language]) {\n      return this.cache[language];\n    }\n    if (!resources[language]) {\n      return Promise.reject(new Error(`The language \"${language}\" is not supported.`));\n    }\n\n    this.cache[language] = resources[language]();\n\n    return this.cache[language];\n  }\n\n  read(language, namespace, callback) {\n    this.getResource(language)\n      .then(resource => resource[namespace])\n      .then((result) => {\n        callback(null, result);\n      })\n      .catch(callback);\n  }\n}\n\ni18next.use(new UwaveBackend());\n\ni18next.init({\n  fallbackLng: 'en',\n  defaultNS: 'uwave',\n  interpolation: {\n    // Prevent double-escapes: React already escapes things for us\n    escapeValue: false,\n  },\n});\n\n// Synchronously add the fallback language.\ni18next.addResourceBundle('en', 'uwave', en.uwave);\n\nexport const availableLanguages = ['en', ...Object.keys(resources)];\n\nexport default function createLocale(language) {\n  const locale = i18next.cloneInstance();\n  locale.availableLanguages = availableLanguages;\n\n  return new Promise((resolve) => {\n    locale.changeLanguage(language, () => {\n      resolve(locale);\n    });\n  });\n}\n","export const uwave = {\n  \"locales\": {\n    \"cs\": \"Česky (Czech)\",\n    \"cy\": \"Cymraeg (Welsh)\",\n    \"de\": \"Deutsch (German)\",\n    \"en\": \"English\",\n    \"es\": \"Español (Spanish)\",\n    \"fr\": \"Français (French)\",\n    \"ko\": \"한국어 (Korean)\",\n    \"nl\": \"Nederlands (Dutch)\",\n    \"pt\": \"Português (Portuguese)\",\n    \"zh\": \"繁體中文 (Traditional Mandarin)\"\n  },\n  \"close\": \"Close\",\n  \"timeAgo\": {\n    \"format\": \"{{time}} ago\",\n    \"seconds\": \"{{count}} second\",\n    \"seconds_plural\": \"{{count}} seconds\",\n    \"minutes\": \"{{count}} minute\",\n    \"minutes_plural\": \"{{count}} minutes\",\n    \"hours\": \"{{count}} hour\",\n    \"hours_plural\": \"{{count}} hours\",\n    \"days\": \"{{count}} day\",\n    \"days_plural\": \"{{count}} days\"\n  },\n  \"roles\": {\n    \"user\": \"User\",\n    \"special\": \"Special\",\n    \"moderator\": \"Moderator\",\n    \"manager\": \"Manager\",\n    \"admin\": \"Admin\"\n  },\n  \"chat\": {\n    \"title\": \"Chat\",\n    \"placeholder\": \"Click here to chat!\",\n    \"userJoin\": \"{{username}} joined the room\",\n    \"userLeave\": \"{{username}} left the room\",\n    \"userNameChanged\": \"{{username}} changed their nickname to {{newUsername}}\",\n    \"modSkip\": \"{{username}} skipped {{djName}}'s turn\",\n    \"modSkipReason\": \"{{username}} skipped {{djName}}'s turn: {{reason}}\",\n    \"selfSkip\": \"{{username}} skipped their turn\",\n    \"selfSkipReason\": \"{{username}} skipped their turn: {{reason}}\",\n    \"rolesAdded\": \"{{username}} is now a {{roles}}\",\n    \"rolesRemoved\": \"{{username}} is no longer a {{roles}}\"\n  },\n  \"dialogs\": {\n    \"confirm\": {\n      \"defaultConfirmLabel\": \"OK\",\n      \"defaultCancelLabel\": \"Cancel\"\n    },\n    \"prompt\": {\n      \"defaultSubmitLabel\": \"OK\"\n    },\n    \"logout\": {\n      \"title\": null,\n      \"action\": \"Sign Out\",\n      \"confirm\": \"Are you sure you want to sign out?\"\n    },\n    \"createPlaylist\": {\n      \"action\": \"Create\",\n      \"nameInputTitle\": \"Playlist Name\"\n    },\n    \"deletePlaylist\": {\n      \"action\": \"Delete\",\n      \"title\": \"Delete Playlist\",\n      \"confirm\": \"Are you sure you want to delete this playlist?\"\n    },\n    \"renamePlaylist\": {\n      \"action\": \"Rename\",\n      \"nameInputTitle\": \"Playlist Name\"\n    },\n    \"editMedia\": {\n      \"title\": \"Edit Media\",\n      \"save\": \"Save\",\n      \"artistLabel\": \"Artist\",\n      \"titleLabel\": \"Title\",\n      \"playFromLabel\": \"Play from:\",\n      \"playToLabel\": \"to:\",\n      \"errors\": {\n        \"invalidStartTime\": \"That start time is invalid.\",\n        \"invalidEndTime\": \"That end time is invalid.\",\n        \"endTimeBeforeStart\": \"The end time should be after the start time.\",\n        \"endTimeAfterSongEnd\": \"The end time cannot be past the total duration of the song.\"\n      }\n    }\n  },\n  \"media\": {\n    \"artist\": \"Artist\",\n    \"title\": \"Title\"\n  },\n  \"playlists\": {\n    \"title\": \"Playlists\",\n    \"new\": \"Create Playlist\",\n    \"delete\": \"Delete Playlist\",\n    \"deleteActive\": \"The active playlist cannot be deleted.\",\n    \"noPlaylists\": \"You don't have a playlist yet!\",\n    \"noPlaylistsCreate\": \"You don't have a playlist yet! Click here to create one.\",\n    \"empty\": \"This playlist is empty :(\",\n    \"active\": \"Active\",\n    \"activate\": \"Activate\",\n    \"shuffle\": \"Shuffle\",\n    \"filter\": \"Filter\",\n    \"rename\": \"Rename\",\n    \"import\": {\n      \"title\": \"Import\"\n    },\n    \"search\": {\n      \"action\": \"Search\",\n      \"results\": \"Search: {{query}}\",\n      \"noResults\": \"No results found\",\n      \"noResultsSub\": \"Perhaps try another query?\"\n    }\n  },\n  \"eta\": {\n    \"empty\": \"from {{playlist}}\",\n    \"playingNow\": \"from {{playlist}} playing now\",\n    \"eta\": \"from {{playlist}} playing in {{eta}}\"\n  },\n  \"waitlist\": {\n    \"title\": \"Waitlist\",\n    \"join\": \"Join Waitlist\",\n    \"leave\": \"Leave Waitlist\"\n  },\n  \"votes\": {\n    \"upvote\": \"Upvote\",\n    \"downvote\": \"Downvote\",\n    \"favorite\": \"Favorite\"\n  },\n  \"booth\": {\n    \"empty\": \"Nobody is playing!\",\n    \"videoDisabled\": \"Video playback is disabled.\",\n    \"autoplayBlocked\": \"Your browser is blocking autoplay. Please press the button below to manually start playing this track.\",\n    \"play\": \"Play\",\n    \"currentDJ\": \"played by: {{user}}\",\n    \"skip\": {\n      \"self\": \"Skip your turn\",\n      \"other\": \"Skip {{user}}'s turn\",\n      \"reasons\": {\n        \"genre\": \"Off-genre\",\n        \"history\": \"In the history\",\n        \"unavailable\": \"Unavailable or blocked\",\n        \"nsfw\": \"NSFW\",\n        \"duration\": \"Too long\",\n        \"downvotes\": \"Too many downvotes\",\n        \"other\": \"Other\"\n      }\n    }\n  },\n  \"history\": {\n    \"title\": \"Play History\"\n  },\n  \"users\": {\n    \"title\": \"Room\",\n    \"guests\": \"and {{count}} guest\",\n    \"guests_plural\": \"and {{count}} guests\"\n  },\n  \"server\": {\n    \"connectionLost\": \"Server connection lost\",\n    \"reconnecting\": \"Trying to reconnect...\"\n  },\n  \"about\": {\n    \"about\": \"About\",\n    \"servers\": \"Servers\"\n  },\n  \"settings\": {\n    \"title\": \"Settings\",\n    \"videoEnabled\": \"Play Audio/Video\",\n    \"videoSize\": \"Full-size Video\",\n    \"enableLargeVideo\": \"Enlarge Video\",\n    \"disableLargeVideo\": \"Shrink Video\",\n    \"enableFullscreen\": \"Enter Fullscreen Mode\",\n    \"disableFullscreen\": \"Exit Fullscreen Mode\",\n    \"mentionSound\": \"Chat Mention Sound\",\n    \"language\": \"Language\",\n    \"logout\": \"Sign out\",\n    \"notifications\": {\n      \"title\": \"Notification Settings\",\n      \"help\": \"Show a line in chat when the following things happen:\",\n      \"userJoin\": \"User Joins\",\n      \"userLeave\": \"User Leaves\",\n      \"userNameChanged\": \"User Changes Nickname\",\n      \"skip\": \"A Song Is Skipped\"\n    },\n    \"profile\": {\n      \"username\": {\n        \"change\": \"Change Username\",\n        \"save\": \"Save\"\n      }\n    },\n    \"links\": {\n      \"title\": \"Links\",\n      \"website\": \"üWave\",\n      \"source\": \"üWave Web Client Source Code\",\n      \"license\": \"License\"\n    }\n  },\n  \"login\": {\n    \"login\": \"Sign in\",\n    \"register\": \"Register\",\n    \"username\": \"Username\",\n    \"email\": \"E-mail\",\n    \"password\": \"Password\",\n    \"forgotPassword\": \"Forgot Password?\",\n    \"requestPasswordReset\": \"Reset Password\",\n    \"passwordResetSent\": \"We've sent an email to that address with password reset instructions.\",\n    \"privacyPolicy\": \"Privacy Policy\",\n    \"agree\": \"I am at least 13 years old and accept the {{privacyPolicy}}.\",\n    \"social\": {\n      \"loginWithGoogle\": \"Sign in with Google\"\n    }\n  },\n  \"resetPassword\": {\n    \"introduction\": \"Enter a new password below.\",\n    \"submit\": \"Reset Password\",\n    \"success\": \"Your password has been reset. You can now close this page.\"\n  },\n  \"admin\": {\n    \"users\": {\n      \"user\": \"User\",\n      \"joinedAt\": \"Created\",\n      \"email\": \"E-Mail\",\n      \"roles\": \"Roles\"\n    },\n    \"bans\": {\n      \"user\": \"User\",\n      \"duration\": \"Duration\",\n      \"reason\": \"Reason\",\n      \"bannedBy\": \"Banned By\",\n      \"actions\": \"Actions\",\n      \"unban\": \"Unban\",\n      \"noReason\": \"No reason given.\"\n    }\n  },\n  \"soundcloud\": {\n    \"error\": {\n      \"template\": \"Failed to play this track: {{error}}\",\n      \"network\": \"Could not load this track.\",\n      \"decode\": \"This media file cannot be played because the format is incorrect.\",\n      \"notFound\": \"This track could not be found—it may be deleted.\"\n    }\n  }\n};","import { ERROR_DISMISS } from '../constants/actionTypes/errors';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function dismiss() {\n  return { type: ERROR_DISMISS };\n}\n","import { createSelector } from 'reselect';\n\nconst baseSelector = state => state.errors;\n\n// eslint-disable-next-line import/prefer-default-export\nexport const firstErrorSelector = createSelector(\n  baseSelector,\n  errors => errors[0],\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Snackbar from 'material-ui/Snackbar';\n\nconst ErrorArea = ({ error, onDismiss }) => (\n  <div className=\"ErrorArea\">\n    <Snackbar\n      SnackbarContentProps={{ className: 'ErrorArea-snackbar' }}\n      open={!!error}\n      message={error || ''}\n      onClose={onDismiss}\n    />\n  </div>\n);\n\nErrorArea.propTypes = {\n  error: PropTypes.string,\n  onDismiss: PropTypes.func.isRequired,\n};\n\nexport default ErrorArea;\n","import { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport { dismiss } from '../actions/ErrorActionCreators';\nimport { firstErrorSelector } from '../selectors/errorSelectors';\n\nimport ErrorArea from '../components/ErrorArea';\n\nconst mapStateToProps = state => ({\n  error: firstErrorSelector(state),\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  onDismiss: dismiss,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ErrorArea);\n","export default {\n  palette: {\n    type: 'dark',\n    primary: {\n      light: '#b20062',\n      main: '#9d2053',\n      contrastText: '#fff',\n    },\n    background: {\n      paper: '#303030',\n    },\n  },\n  typography: {\n    fontFamily: '\"Open Sans\", Roboto, Arial, sans-serif',\n  },\n};\n","import initialState from '../theme';\n\n// eslint-disable-next-line no-unused-vars\nexport default function reduce(state = initialState, action = {}) {\n  // Nothing for now!\n  return state;\n}\n","export default function reduce(state = [], action = {}) {\n  const { type, payload, error } = action;\n  if (error) {\n    // Avoid adding the same error over and over\n    if (state.length === 0 || state[state.length - 1] !== payload.message) {\n      return [...state, payload.message];\n    }\n  } else if (type === 'errors/DISMISS') {\n    return state.slice(1);\n  }\n  return state;\n}\n","import { INIT_STATE } from '../constants/actionTypes/auth';\n\nconst initialState = {};\n\nexport default function reduce(state = initialState, action = {}) {\n  const { type, payload } = action;\n  switch (type) {\n    case INIT_STATE:\n      if (payload.roles) {\n        return {\n          ...state,\n          roles: payload.roles,\n        };\n      }\n      return state;\n    default:\n      return state;\n  }\n}\n","import {\n  AUTH_STRATEGIES,\n  RESET_PASSWORD_COMPLETE,\n  REGISTER_COMPLETE,\n  LOGIN_COMPLETE, SET_TOKEN,\n  LOGOUT_COMPLETE,\n} from '../constants/actionTypes/auth';\n\nconst initialState = {\n  strategies: ['local'],\n  token: null,\n  user: null,\n  error: null,\n};\n\nexport default function reduce(state = initialState, action = {}) {\n  const { type, payload, error: isError } = action;\n  switch (type) {\n    case AUTH_STRATEGIES:\n      return {\n        ...state,\n        strategies: payload.strategies,\n      };\n    case RESET_PASSWORD_COMPLETE:\n      return isError ? {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: payload,\n      } : {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: null,\n      };\n    case SET_TOKEN:\n      return {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: null,\n      };\n    case LOGIN_COMPLETE:\n      return isError ? {\n        ...state,\n        token: null,\n        user: null,\n        error: payload,\n      } : {\n        ...state,\n        token: payload.token,\n        user: payload.user._id,\n        error: null,\n      };\n    case REGISTER_COMPLETE:\n      return {\n        ...state,\n        token: null,\n        user: null,\n        error: payload,\n      };\n    case LOGOUT_COMPLETE:\n      return initialState;\n    default:\n      return state;\n  }\n}\n","import {\n  REQUEST_START,\n  REQUEST_COMPLETE,\n} from '../constants/actionTypes/request';\n\nlet requestID = 0;\nfunction request(method, url, opts = {}) {\n  const {\n    onStart,\n    onComplete,\n    onError,\n    ...requestOpts\n  } = opts;\n\n  requestID += 1;\n\n  return {\n    type: REQUEST_START,\n    payload: {\n      ...requestOpts,\n      method,\n      url,\n    },\n    meta: {\n      onStart,\n      onComplete,\n      onError,\n      id: requestID,\n    },\n  };\n}\n\nexport function requestComplete(response, meta) {\n  return {\n    type: REQUEST_COMPLETE,\n    payload: response,\n    meta,\n  };\n}\n\nexport function requestCompleteError(error, meta) {\n  return {\n    type: REQUEST_COMPLETE,\n    error: true,\n    payload: error,\n    meta,\n  };\n}\n\nexport const get = (url, opts) =>\n  request('get', url, opts);\n\nexport const post = (url, data, opts = {}) =>\n  request('post', url, { data, ...opts });\n\nexport const put = (url, data, opts = {}) =>\n  request('put', url, { data, ...opts });\n\nexport const del = (url, data, opts = {}) =>\n  request('delete', url, { data, ...opts });\n","import assign from 'object-assign';\nimport qsStringify from 'qs-stringify';\n\nimport { REQUEST_START } from '../constants/actionTypes/request';\nimport {\n  requestComplete,\n  requestCompleteError,\n} from '../actions/RequestActionCreators';\nimport { requestOptionsSelector } from '../selectors/configSelectors';\nimport { tokenSelector } from '../selectors/userSelectors';\n\nfunction isEmpty(object) {\n  return !object || Object.keys(object).length === 0;\n}\n\nfunction makeUrl(path, params = {}) {\n  let uri = path;\n\n  if (!isEmpty(params)) {\n    // heh…\n    uri += (uri.indexOf('?') !== -1 ? '&' : '?') + qsStringify(params);\n  }\n\n  return uri;\n}\n\nfunction rejectNonOK(response) {\n  if (response.status !== 200) {\n    return response.json().then((res) => {\n      if (!('errors' in res)) {\n        throw new Error('An unknown error occurred.');\n      }\n      const { errors } = res;\n      const error = assign(new Error(errors.map(err => err.title).join(', ')), {\n        response,\n        errors,\n      });\n      throw error;\n    });\n  }\n  return response;\n}\n\nconst defaultOptions = {\n  apiUrl: '/api',\n};\n\nexport default function middleware(middlewareOptions = {}) {\n  return ({ dispatch, getState }) => next => (action) => {\n    if (action.type !== REQUEST_START) {\n      return next(action);\n    }\n\n    const opts = {\n      ...defaultOptions,\n      ...middlewareOptions,\n      ...requestOptionsSelector(getState()),\n    };\n\n    const token = tokenSelector(getState());\n    const {\n      method,\n      url,\n      qs,\n      data,\n    } = action.payload;\n    const {\n      id,\n      onStart,\n      onComplete,\n      onError,\n    } = action.meta;\n\n    const completedMeta = {\n      id,\n      method,\n      url,\n      qs,\n      data,\n    };\n\n    const requestUrl = makeUrl(opts.apiUrl + url, qs);\n\n    const requestOptions = {\n      method,\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      credentials: 'same-origin',\n    };\n\n    if (token && token !== 'cookie') {\n      requestOptions.headers.Authorization = `JWT ${token}`;\n    }\n\n    if (method !== 'get') {\n      requestOptions.body = JSON.stringify(data);\n    }\n\n    if (onStart) {\n      dispatch(onStart());\n    }\n\n    return fetch(requestUrl, requestOptions)\n      .then(rejectNonOK)\n      .then(res => res.json())\n      .then((res) => {\n        let responseValue = res;\n        if (onComplete) {\n          responseValue = dispatch(onComplete(responseValue));\n        }\n        dispatch(requestComplete(res, completedMeta));\n        return responseValue;\n      })\n      .catch((error) => {\n        if (onError) {\n          dispatch(onError(error));\n        }\n        dispatch(requestCompleteError(error, completedMeta));\n        throw error;\n      });\n  };\n}\n","export const INIT_STATE = 'auth/INIT_STATE';\nexport const SOCKET_CONNECT = 'auth/SOCKET_CONNECT';\nexport const SOCKET_RECONNECT = 'auth/SOCKET_RECONNECT';\nexport const SOCKET_CONNECTED = 'auth/SOCKET_CONNECTED';\nexport const SOCKET_DISCONNECTED = 'auth/SOCKET_DISCONNECTED';\n\nexport const AUTH_STRATEGIES = 'auth/AUTH_STRATEGIES';\nexport const SET_TOKEN = 'auth/SET_TOKEN';\n\nexport const REGISTER_START = 'auth/REGISTER_START';\nexport const REGISTER_COMPLETE = 'auth/REGISTER_COMPLETE';\n\nexport const LOGIN_START = 'auth/LOGIN_START';\nexport const LOGIN_COMPLETE = 'auth/LOGIN_COMPLETE';\n\nexport const LOGOUT_START = 'auth/LOGOUT_START';\nexport const LOGOUT_COMPLETE = 'auth/LOGOUT_COMPLETE';\n\nexport const RESET_PASSWORD_COMPLETE = 'auth/RESET_PASSWORD_COMPLETE';\n","import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst FormGroup = ({ children, className, ...props }) => (\n  <div\n    className={cx('FormGroup', className)}\n    {...props}\n  >\n    {children}\n  </div>\n);\n\nFormGroup.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node.isRequired,\n};\n\nexport default FormGroup;\n","import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class TextField extends React.Component {\n  static propTypes = {\n    className: PropTypes.string,\n    type: PropTypes.string,\n    icon: PropTypes.element,\n  };\n\n  static defaultProps = {\n    type: 'text',\n  };\n\n  get value() {\n    return this.input.value;\n  }\n\n  refInput = (input) => {\n    this.input = input;\n  };\n\n  render() {\n    const {\n      type, icon, className, ...props\n    } = this.props;\n    return (\n      <div className={cx('TextField', className)}>\n        <input\n          ref={this.refInput}\n          className=\"TextField-input\"\n          type={type}\n          {...props}\n        />\n        <div className=\"TextField-icon\">{icon}</div>\n      </div>\n    );\n  }\n}\n","import { createSelector } from 'reselect';\nimport memoize from 'lodash/memoize';\n\nexport const configSelector = state => state.config;\n\nexport const requestOptionsSelector = createSelector(\n  configSelector,\n  (config) => {\n    const options = {};\n    if (config.apiUrl) {\n      options.apiUrl = config.apiUrl;\n    }\n    return options;\n  },\n);\n\nexport const availableEmojiImagesSelector = createSelector(\n  configSelector,\n  config => config.emoji || {},\n);\n\nexport const availableEmojiNamesSelector = createSelector(\n  availableEmojiImagesSelector,\n  emoji => Object.keys(emoji),\n);\n\nconst reCaptchaSelector = createSelector(\n  configSelector,\n  config => config.recaptcha,\n);\n\nexport const reCaptchaSiteKeySelector = createSelector(\n  reCaptchaSelector,\n  rc => (rc ? rc.key : false),\n);\n\nexport const rolesSelector = createSelector(\n  configSelector,\n  config => config.roles,\n);\n\nexport const roleSelector = memoize(roleName => createSelector(\n  rolesSelector,\n  roles => roles[roleName],\n));\n\n// TODO configurable.\nexport const roleColorsSelector = () => ({\n  admin: '#ff3b74',\n  manager: '#05daa5',\n  moderator: '#00b3dc',\n  special: '#fc911d',\n  default: '',\n});\n","import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport MuiButton from 'material-ui/Button';\n\nconst Button = ({\n  children, className, text, ...props\n}) => (\n  <MuiButton\n    variant=\"raised\"\n    color=\"primary\"\n    className={cx('Button', className)}\n    type=\"submit\"\n    {...props}\n  >\n    {text || children}\n  </MuiButton>\n);\n\nButton.propTypes = {\n  className: PropTypes.string,\n  text: PropTypes.string,\n  children: PropTypes.node,\n};\n\nexport default Button;\n","import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Form = ({ children, className, ...props }) => (\n  <form className={cx('Form', className)} {...props}>\n    {children}\n  </form>\n);\n\nForm.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node.isRequired,\n};\n\nexport default Form;\n","export const REQUEST_START = 'request/REQUEST_START';\nexport const REQUEST_COMPLETE = 'request/REQUEST_COMPLETE';\n","import { createSelector } from 'reselect';\nimport naturalCmp from 'natural-compare';\nimport values from 'object-values';\nimport { rolesSelector } from './configSelectors';\n\nconst authSelector = state => state.auth;\n\nconst usersBaseSelector = state => state.users;\nexport const usersSelector = createSelector(usersBaseSelector, base => base.users);\n\nexport const authErrorSelector = createSelector(authSelector, auth => auth.error);\nconst currentUserIDSelector = createSelector(authSelector, auth => auth.user);\nexport const currentUserSelector = createSelector(\n  usersSelector,\n  currentUserIDSelector,\n  (users, userID) => (\n    userID in users\n      ? users[userID]\n      : null\n  ),\n);\nexport const isLoggedInSelector = createSelector(currentUserSelector, Boolean);\nexport const tokenSelector = createSelector(authSelector, auth => auth.token);\nexport const authStrategiesSelector = createSelector(authSelector, auth => auth.strategies);\nexport function supportsAuthStrategy(name) {\n  return createSelector(authStrategiesSelector, strategies => strategies.indexOf(name) !== -1);\n}\nexport const supportsSocialAuthSelector = createSelector(\n  supportsAuthStrategy('google'),\n  (...support) => support.some(Boolean),\n);\n\n// The Super User role allows a user to do everything. It's hardcoded as the \"*\"\n// role.\nconst superUserRoleSelector = () => '*';\n\n// Flatten a user's roles.\nfunction getAllUserRoles(roles, user) {\n  function getSubRoles(subRoles, role) {\n    // Recursive Reduce!\n    return roles[role].reduce(\n      getSubRoles,\n      [role, ...subRoles],\n    );\n  }\n  return user.roles ? user.roles.reduce(getSubRoles, []) : [];\n}\n\nfunction compareUsers(roles, superuser) {\n  return (a, b) => {\n    const aRoles = getAllUserRoles(roles, a);\n    const bRoles = getAllUserRoles(roles, b);\n    // Sort superusers to the top,\n    if (aRoles.indexOf(superuser) !== -1) {\n      return -1;\n    }\n    if (bRoles.indexOf(superuser) !== -1) {\n      return 1;\n    }\n    // other users by the amount of permissions they have,\n    if (aRoles.length > bRoles.length) {\n      return -1;\n    }\n    if (aRoles.length < bRoles.length) {\n      return 1;\n    }\n    // and sort by username if the roles are equal.\n    return naturalCmp(a.username.toLowerCase(), b.username.toLowerCase());\n  };\n}\n\nexport const userListSelector = createSelector(\n  rolesSelector,\n  superUserRoleSelector,\n  usersSelector,\n  (roles, superuserRole, users) =>\n    values(users).sort(compareUsers(roles, superuserRole)),\n);\n\nexport const userCountSelector = createSelector(\n  userListSelector,\n  users => users.length,\n);\n\nexport const guestCountSelector = createSelector(\n  usersBaseSelector,\n  base => base.guests,\n);\n\nexport const listenerCountSelector = createSelector(\n  userCountSelector,\n  guestCountSelector,\n  (users, guests) => users + guests,\n);\n\nexport const userHasRoleSelector = createSelector(\n  rolesSelector,\n  superUserRoleSelector,\n  (roles, superUserRole) => (user) => {\n    // If there is no authenticated user, we always return false.\n    if (!user) {\n      return () => false;\n    }\n\n    const userRoles = getAllUserRoles(roles, user);\n    // If this is a super user, we always return true.\n    if (userRoles.indexOf(superUserRole) !== -1) {\n      return () => true;\n    }\n\n    return role => userRoles.indexOf(role) !== -1;\n  },\n);\n\n// Selects a function that checks if a user has the given role.\n//\n//   const hasRole = hasRoleSelector(getState());\n//   hasRole(user, 'waitlist.join');\n//\nexport const hasRoleSelector = createSelector(\n  userHasRoleSelector,\n  userHasRole =>\n    (user, role) => userHasRole(user)(role),\n);\n\nexport const currentUserHasRoleSelector = createSelector(\n  userHasRoleSelector,\n  currentUserSelector,\n  (userHasRole, user) => userHasRole(user),\n);\n\n// Creates a selector that will check if the current user has a given role.\n//\n//   createRoleCheckSelector('some.role')(store.getState()) // → true/false\n//\nexport const createRoleCheckSelector = role => createSelector(\n  currentUserHasRoleSelector,\n  hasRole => hasRole(role),\n);\n\n// Selectors for compatibility with the old role system.\n// TODO All uses of these selectors should be phased out in favour of more\n// specific roles in the future.\nexport const isModeratorSelector = createRoleCheckSelector('moderator');\nexport const isManagerSelector = createRoleCheckSelector('manager');\n"],"sourceRoot":""}