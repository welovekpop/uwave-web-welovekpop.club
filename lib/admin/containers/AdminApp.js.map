{"version":3,"sources":["admin/containers/AdminApp.js"],"names":["mapStateToProps","currentView","mapDispatchToProps","onTransition","hasAdminState","store","state","getState","admin","mountAdminReducer","mount","mountAdminReducerOnce","enhance","object","componentWillMount","props"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;AACA;;;;AAEA,IAAIA,kBAAkB,wCAAyB;AAC7CC;AAD6C,CAAzB,CAAtB;;AAIA,IAAIC,qBAAqB;AACvBC;AADuB,CAAzB;;AAIA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC5B,MAAIC,QAAQD,MAAME,QAAN,EAAZ;;AAEA,SAAOD,SAAS,CAAC,CAACA,MAAME,KAAxB;AACD;;AAED,SAASC,iBAAT,CAA2BJ,KAA3B,EAAkC;AAChCA,QAAMK,KAAN,CAAY,OAAZ;AACD;;AAED,SAASC,qBAAT,CAA+BN,KAA/B,EAAsC;AACpC,MAAI,CAACD,cAAcC,KAAd,CAAL,EAA2B;AACzBI,sBAAkBJ,KAAlB;AACD;AACF;;AAED,IAAIO,UAAU,uBAAQ,0BAAW,EAAEP,OAAO,oBAAUQ,MAAnB,EAAX,CAAR,EAAiD,yBAAU;AACvEC,sBAAoB,SAASA,kBAAT,GAA8B;AAChD,QAAI,KAAKC,KAAL,CAAWV,KAAf,EAAsB;AACpBM,4BAAsB,KAAKI,KAAL,CAAWV,KAAjC;AACD;AACF;AALsE,CAAV,CAAjD,EAMV,yBAAQL,eAAR,EAAyBE,kBAAzB,CANU,CAAd;;kBAQeU,2B;AACf","file":"AdminApp.js","sourcesContent":["import PropTypes from 'prop-types';\nimport compose from 'recompose/compose';\nimport getContext from 'recompose/getContext';\nimport lifecycle from 'recompose/lifecycle';\nimport { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport AdminApp from '../components/AdminApp';\nimport adminReducer from '../reducers';\nimport { transition } from '../actions/view';\nimport { currentViewSelector } from '../selectors/viewSelectors';\n\nconst mapStateToProps = createStructuredSelector({\n  currentView: currentViewSelector,\n});\n\nconst mapDispatchToProps = {\n  onTransition: transition,\n};\n\nfunction hasAdminState(store) {\n  const state = store.getState();\n\n  return state && !!state.admin;\n}\n\nfunction mountAdminReducer(store) {\n  store.mount('admin', adminReducer);\n}\n\nfunction mountAdminReducerOnce(store) {\n  if (!hasAdminState(store)) {\n    mountAdminReducer(store);\n  }\n}\n\nconst enhance = compose(\n  getContext({ store: PropTypes.object }),\n  lifecycle({\n    componentWillMount() {\n      if (this.props.store) {\n        mountAdminReducerOnce(this.props.store);\n      }\n    },\n  }),\n  connect(mapStateToProps, mapDispatchToProps),\n);\n\nexport default enhance(AdminApp);\n"]}