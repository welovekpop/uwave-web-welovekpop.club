{"version":3,"sources":["admin/actions/users.js"],"names":["loadUsersStart","type","LOAD_USERS_START","loadUsersComplete","response","LOAD_USERS_COMPLETE","payload","users","data","page","Math","floor","meta","offset","pageSize","loadUsers","pagination","dispatch","getState","filter","qs","onStart","onComplete","setUsersFilter","SET_USERS_FILTER"],"mappings":";;;;;;;;;;AAAA;;AACA;;AACA;;AACO,SAASA,cAAT,GAA0B;AAC/B,SAAO;AACLC,UAAMC;AADD,GAAP;AAGD;;AACM,SAASC,iBAAT,CAA2BC,QAA3B,EAAqC;AAC1C,SAAO;AACLH,UAAMI,gCADD;AAELC,aAAS;AACPC,aAAOH,SAASI,IADT;AAEPC,YAAMC,KAAKC,KAAL,CAAWP,SAASQ,IAAT,CAAcC,MAAd,GAAuBT,SAASQ,IAAT,CAAcE,QAAhD;AAFC,KAFJ;AAMLF,UAAMR,SAASQ;AANV,GAAP;AAQD;;AACM,SAASG,SAAT,CAAmBC,UAAnB,EAA+B;AACpC,MAAIA,eAAe,KAAK,CAAxB,EAA2B;AACzBA,iBAAa,IAAb;AACD;;AAED,SAAO,UAAUC,QAAV,EAAoBC,QAApB,EAA8B;AACnC,QAAIC,SAAS,mCAAeD,UAAf,CAAb;AACA,QAAIE,KAAK,EAAT;AACA,QAAIJ,UAAJ,EAAgBI,GAAGX,IAAH,GAAUO,UAAV;AAChB,QAAIG,MAAJ,EAAYC,GAAGD,MAAH,GAAYA,MAAZ;AACZ,WAAOF,SAAS,gCAAI,QAAJ,EAAc;AAC5BG,UAAIA,EADwB;AAE5BC,eAASrB,cAFmB;AAG5BsB,kBAAYnB;AAHgB,KAAd,CAAT,CAAP;AAKD,GAVD;AAWD;;AACM,SAASoB,cAAT,CAAwBJ,MAAxB,EAAgC;AACrC,MAAIA,WAAW,KAAK,CAApB,EAAuB;AACrBA,aAAS,IAAT;AACD;;AAED,SAAO;AACLlB,UAAMuB,6BADD;AAELlB,aAAS;AACPa,cAAQA;AADD;AAFJ,GAAP;AAMD","file":"users.js","sourcesContent":["import { get } from '../../actions/RequestActionCreators';\nimport {\n  SET_USERS_FILTER,\n  LOAD_USERS_START,\n  LOAD_USERS_COMPLETE,\n} from '../constants/ActionTypes';\nimport { filterSelector } from '../selectors/userSelectors';\n\nexport function loadUsersStart() {\n  return { type: LOAD_USERS_START };\n}\n\nexport function loadUsersComplete(response) {\n  return {\n    type: LOAD_USERS_COMPLETE,\n    payload: {\n      users: response.data,\n      page: Math.floor(response.meta.offset / response.meta.pageSize),\n    },\n    meta: response.meta,\n  };\n}\n\nexport function loadUsers(pagination = null) {\n  return (dispatch, getState) => {\n    const filter = filterSelector(getState());\n\n    const qs = {};\n    if (pagination) qs.page = pagination;\n    if (filter) qs.filter = filter;\n\n    return dispatch(get('/users', {\n      qs,\n      onStart: loadUsersStart,\n      onComplete: loadUsersComplete,\n    }));\n  };\n}\n\nexport function setUsersFilter(filter = null) {\n  return {\n    type: SET_USERS_FILTER,\n    payload: { filter },\n  };\n}\n"]}