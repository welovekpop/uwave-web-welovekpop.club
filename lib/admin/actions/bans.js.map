{"version":3,"sources":["admin/actions/bans.js"],"names":["loadBansStart","type","LOAD_BANS_START","loadBansComplete","response","meta","LOAD_BANS_COMPLETE","payload","bans","page","Math","floor","offset","pageSize","size","loadBans","onStart","onComplete","unbanUser","user","_id","unbanUserAndReload","dispatch","then"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;;;AACO,SAASA,aAAT,GAAyB;AAC9B,SAAO;AACLC,UAAMC;AADD,GAAP;AAGD;;AACM,SAASC,gBAAT,CAA0BC,QAA1B,EAAoC;AACzC,MAAIC,OAAOD,SAASC,IAApB;AACA,SAAO;AACLJ,UAAMK,+BADD;AAELC,aAAS;AACPC,YAAM,kCAAoBJ,QAApB;AADC,KAFJ;AAKLC,UAAM;AACJI,YAAMC,KAAKC,KAAL,CAAWN,KAAKO,MAAL,GAAcP,KAAKQ,QAA9B,CADF;AAEJC,YAAMT,KAAKQ;AAFP;AALD,GAAP;AAUD;;AACM,SAASE,QAAT,GAAoB;AACzB,SAAO,gCAAI,OAAJ,EAAa;AAClBC,aAAShB,aADS;AAElBiB,gBAAYd;AAFM,GAAb,CAAP;AAID;;AACM,SAASe,SAAT,CAAmBC,IAAnB,EAAyB;AAC9B,SAAO,gCAAI,WAAWA,KAAKC,GAApB,EAAyB,EAAzB,CAAP;AACD;;AACM,SAASC,kBAAT,CAA4BF,IAA5B,EAAkC;AACvC,SAAO,UAAUG,QAAV,EAAoB;AACzB,WAAOA,SAASJ,UAAUC,IAAV,CAAT,EAA0BI,IAA1B,CAA+B,YAAY;AAChD,aAAOD,SAASP,UAAT,CAAP;AACD,KAFM,CAAP;AAGD,GAJD;AAKD,C,CACD","file":"bans.js","sourcesContent":["import { get, del } from '../../actions/RequestActionCreators';\nimport mergeIncludedModels from '../../utils/mergeIncludedModels';\nimport { LOAD_BANS_START, LOAD_BANS_COMPLETE } from '../constants/ActionTypes';\n\nexport function loadBansStart() {\n  return { type: LOAD_BANS_START };\n}\n\nexport function loadBansComplete(response) {\n  const { meta } = response;\n\n  return {\n    type: LOAD_BANS_COMPLETE,\n    payload: {\n      bans: mergeIncludedModels(response),\n    },\n    meta: {\n      page: Math.floor(meta.offset / meta.pageSize),\n      size: meta.pageSize,\n    },\n  };\n}\n\nexport function loadBans() {\n  return get('/bans', {\n    onStart: loadBansStart,\n    onComplete: loadBansComplete,\n  });\n}\n\nexport function unbanUser(user) {\n  return del(`/bans/${user._id}`, {});\n}\n\nexport function unbanUserAndReload(user) {\n  return dispatch =>\n    dispatch(unbanUser(user))\n      .then(() => dispatch(loadBans()));\n}\n"]}