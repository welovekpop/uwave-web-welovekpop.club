{"version":3,"sources":["admin/actions/bans.js"],"names":["loadBansStart","loadBansComplete","loadBans","unbanUser","unbanUserAndReload","type","response","meta","payload","bans","page","Math","floor","offset","pageSize","size","onStart","onComplete","user","_id","dispatch","then"],"mappings":";;;;;QAIgBA,a,GAAAA,a;QAIAC,gB,GAAAA,gB;QAgBAC,Q,GAAAA,Q;QAOAC,S,GAAAA,S;QAIAC,kB,GAAAA,kB;;AAnChB;;AACA;;;;AACA;;;;AAEO,SAASJ,aAAT,GAAyB;AAC9B,SAAO,EAAEK,kCAAF,EAAP;AACD;;AAEM,SAASJ,gBAAT,CAA0BK,QAA1B,EAAoC;AACzC,MAAIC,OAAOD,SAASC,IAApB;;AAGA,SAAO;AACLF,yCADK;AAELG,aAAS;AACPC,YAAM,mCAAoBH,QAApB;AADC,KAFJ;AAKLC,UAAM;AACJG,YAAMC,KAAKC,KAAL,CAAWL,KAAKM,MAAL,GAAcN,KAAKO,QAA9B,CADF;AAEJC,YAAMR,KAAKO;AAFP;AALD,GAAP;AAUD;;AAEM,SAASZ,QAAT,GAAoB;AACzB,SAAO,gCAAI,OAAJ,EAAa;AAClBc,aAAShB,aADS;AAElBiB,gBAAYhB;AAFM,GAAb,CAAP;AAID;;AAEM,SAASE,SAAT,CAAmBe,IAAnB,EAAyB;AAC9B,SAAO,gCAAI,WAAWA,KAAKC,GAApB,EAAyB,EAAzB,CAAP;AACD;;AAEM,SAASf,kBAAT,CAA4Bc,IAA5B,EAAkC;AACvC,SAAO,UAAUE,QAAV,EAAoB;AACzB,WAAOA,SAASjB,UAAUe,IAAV,CAAT,EAA0BG,IAA1B,CAA+B,YAAY;AAChD,aAAOD,SAASlB,UAAT,CAAP;AACD,KAFM,CAAP;AAGD,GAJD;AAKD;AACD","file":"bans.js","sourcesContent":["import { get, del } from '../../actions/RequestActionCreators';\nimport mergeIncludedModels from '../../utils/mergeIncludedModels';\nimport { LOAD_BANS_START, LOAD_BANS_COMPLETE } from '../constants/ActionTypes';\n\nexport function loadBansStart() {\n  return { type: LOAD_BANS_START };\n}\n\nexport function loadBansComplete(response) {\n  const { meta } = response;\n\n  return {\n    type: LOAD_BANS_COMPLETE,\n    payload: {\n      bans: mergeIncludedModels(response),\n    },\n    meta: {\n      page: Math.floor(meta.offset / meta.pageSize),\n      size: meta.pageSize,\n    },\n  };\n}\n\nexport function loadBans() {\n  return get('/bans', {\n    onStart: loadBansStart,\n    onComplete: loadBansComplete,\n  });\n}\n\nexport function unbanUser(user) {\n  return del(`/bans/${user._id}`, {});\n}\n\nexport function unbanUserAndReload(user) {\n  return dispatch =>\n    dispatch(unbanUser(user))\n      .then(() => dispatch(loadBans()));\n}\n"]}