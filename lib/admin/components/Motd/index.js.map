{"version":3,"sources":["admin/components/Motd/index.js"],"names":["enhance","props","motd","parsedMotd","newMotd","compileOptions","onChange","event","setMotd","target","value","onSubmit","onSetMotd","autoFocus","el","focus","_ref2","color","Motd","_ref","muiTheme","canChangeMotd","className","title","showExpandableButton","closeIcon","expandable","style","paddingTop","createElement","rows","ref","onClick","label","backgroundColor","palette","primary1Color","hoverColor","primary2Color","rippleColor","primary3Color","propTypes","process","env","NODE_ENV","object","isRequired","bool","string","array","func","defaultProps"],"mappings":"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","file":"index.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'recompose/compose';\nimport withState from 'recompose/withState';\nimport withProps from 'recompose/withProps';\nimport withHandlers from 'recompose/withHandlers';\nimport { Card, CardHeader, CardText, CardActions } from 'material-ui/Card';\nimport FlatButton from 'material-ui/FlatButton';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport EditIcon from 'material-ui/svg-icons/editor/mode-edit';\nimport parse from 'u-wave-parse-chat-markup';\nimport compile from '../../../components/Chat/Markup/compile';\n\nimport './index.css';\n\nconst enhance = compose(\n  withState('newMotd', 'setMotd', props => props.motd),\n  withProps(props => ({\n    parsedMotd: compile(parse(props.newMotd), props.compileOptions),\n  })),\n  withHandlers({\n    onChange: props => (event) => {\n      props.setMotd(event.target.value);\n    },\n    onSubmit: props => () => {\n      props.onSetMotd(props.newMotd);\n    },\n  }),\n  muiThemeable(),\n);\n\nfunction autoFocus(el) {\n  if (el) el.focus();\n}\n\nconst Motd = ({\n  muiTheme,\n  canChangeMotd,\n  newMotd,\n  parsedMotd,\n  onChange,\n  onSubmit,\n}) => (\n  <Card className=\"AdminMotd\">\n    <CardHeader\n      title=\"Message of the Day\"\n      showExpandableButton={canChangeMotd}\n      closeIcon={<EditIcon color=\"#fff\" />}\n    />\n    <CardText>{parsedMotd}</CardText>\n    <CardText expandable style={{ paddingTop: 0 }}>\n      <textarea\n        className=\"AdminMotd-field\"\n        rows={4}\n        onChange={onChange}\n        value={newMotd}\n        ref={autoFocus}\n      />\n    </CardText>\n    <CardActions expandable>\n      <FlatButton\n        onClick={onSubmit}\n        label=\"Save\"\n        backgroundColor={muiTheme.palette.primary1Color}\n        hoverColor={muiTheme.palette.primary2Color}\n        rippleColor={muiTheme.palette.primary3Color}\n      />\n    </CardActions>\n  </Card>\n);\n\nMotd.propTypes = {\n  muiTheme: PropTypes.object.isRequired,\n  canChangeMotd: PropTypes.bool,\n  newMotd: PropTypes.string.isRequired,\n  parsedMotd: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n\nMotd.defaultProps = {\n  canChangeMotd: false,\n};\n\nexport default enhance(Motd);\n"]}