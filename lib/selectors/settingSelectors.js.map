{"version":3,"sources":["selectors/settingSelectors.js"],"names":["getAvailableLanguage","languages","lang","indexOf","getDefaultLanguage","window","navigator","browserLanguage","settingsBaseSelector","state","settings","themeSelector","theme","base","volumeSelector","volume","isMutedSelector","muted","languageSelector","defaultLanguage","language","videoSizeSelector","videoSize","videoEnabledSelector","videoEnabled","settingsSelector","notificationSettingsSelector","notifications"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AAEA;;;;AACA;;AACA;;AACA;;;;AAJA;AAMA,SAASA,oBAAT,CAA8BC,SAA9B,EAAyC;AACvC,SAAO,yBAAKA,SAAL,EAAgB,UAAUC,IAAV,EAAgB;AACrC,WAAO,2BAAmBC,OAAnB,CAA2BD,IAA3B,MAAqC,CAAC,CAA7C;AACD,GAFM,CAAP;AAGD;;AAED,SAASE,kBAAT,GAA8B;AAC5B,MAAI,CAAC,OAAOC,MAAP,KAAkB,WAAlB,GAAgC,WAAhC,GAA8C,sBAAQA,MAAR,CAA/C,MAAoE,QAApE,IAAgFA,OAAOC,SAAvF,IAAoGD,OAAOC,SAAP,CAAiBL,SAAzH,EAAoI;AAClI,QAAIM,kBAAkBP,qBAAqBK,OAAOC,SAAP,CAAiBL,SAAtC,CAAtB;AACA,QAAIM,eAAJ,EAAqB;AACnB,aAAOA,eAAP;AACD;AACF;AACD,SAAO,IAAP;AACD;;AAED,IAAIC,uBAAuB,SAASA,oBAAT,CAA8BC,KAA9B,EAAqC;AAC9D,SAAOA,MAAMC,QAAb;AACD,CAFD;;AAIO,IAAIC,wCAAgB,8BAAe,UAAUF,KAAV,EAAiB;AACzD,SAAOA,MAAMG,KAAb;AACD,CAF0B,EAExB,UAAUC,IAAV,EAAgB;AACjB,SAAO,4BAAeA,IAAf,CAAP;AACD,CAJ0B,CAApB;;AAMA,IAAIC,0CAAiB,8BAAeN,oBAAf,EAAqC,UAAUE,QAAV,EAAoB;AACnF,SAAOA,SAASK,MAAhB;AACD,CAF2B,CAArB;;AAIA,IAAIC,4CAAkB,8BAAeR,oBAAf,EAAqC,UAAUE,QAAV,EAAoB;AACpF,SAAOA,SAASO,KAAhB;AACD,CAF4B,CAAtB;;AAIA,IAAIC,8CAAmB,8BAAeV,oBAAf,EAAqCJ,kBAArC,EAAyD,UAAUM,QAAV,EAAoBS,eAApB,EAAqC;AAC1H,SAAOT,SAASU,QAAT,IAAqBD,eAA5B;AACD,CAF6B,CAAvB;;AAIA,IAAIE,gDAAoB,8BAAeb,oBAAf,EAAqC,UAAUE,QAAV,EAAoB;AACtF,SAAOA,SAASY,SAAhB;AACD,CAF8B,CAAxB;;AAIA,IAAIC,sDAAuB,8BAAef,oBAAf,EAAqC,UAAUE,QAAV,EAAoB;AACzF,SAAOA,SAASc,YAAhB;AACD,CAFiC,CAA3B;;AAIP;AACA;AACO,IAAIC,8CAAmB,8BAAejB,oBAAf,EAAqCM,cAArC,EAAqDE,eAArD,EAAsEK,iBAAtE,EAAyFH,gBAAzF,EAA2G,UAAUL,IAAV,EAAgBE,MAAhB,EAAwBE,KAAxB,EAA+BK,SAA/B,EAA0CF,QAA1C,EAAoD;AAC3L,SAAO,uBAAS,EAAT,EAAaP,IAAb,EAAmB;AACxBE,YAAQA,MADgB;AAExBE,WAAOA,KAFiB;AAGxBK,eAAWA,SAHa;AAIxBF,cAAUA;AAJc,GAAnB,CAAP;AAMD,CAP6B,CAAvB;;AASA,IAAIM,sEAA+B,8BAAeD,gBAAf,EAAiC,UAAUf,QAAV,EAAoB;AAC7F,SAAOA,SAASiB,aAAhB;AACD,CAFyC,CAAnC;AAGP","file":"settingSelectors.js","sourcesContent":["/* global window */\nimport find from 'array-find';\nimport { createSelector } from 'reselect';\nimport { createMuiTheme } from 'material-ui/styles';\nimport { availableLanguages } from '../locale';\n\nfunction getAvailableLanguage(languages) {\n  return find(languages, lang => (\n    availableLanguages.indexOf(lang) !== -1\n  ));\n}\n\nfunction getDefaultLanguage() {\n  if (typeof window === 'object' && window.navigator && window.navigator.languages) {\n    const browserLanguage = getAvailableLanguage(window.navigator.languages);\n    if (browserLanguage) {\n      return browserLanguage;\n    }\n  }\n  return 'en';\n}\n\nconst settingsBaseSelector = state => state.settings;\n\nexport const themeSelector = createSelector(\n  state => state.theme,\n  base => createMuiTheme(base),\n);\n\nexport const volumeSelector = createSelector(\n  settingsBaseSelector,\n  settings => settings.volume,\n);\n\nexport const isMutedSelector = createSelector(\n  settingsBaseSelector,\n  settings => settings.muted,\n);\n\nexport const languageSelector = createSelector(\n  settingsBaseSelector,\n  getDefaultLanguage,\n  (settings, defaultLanguage) => settings.language || defaultLanguage,\n);\n\nexport const videoSizeSelector = createSelector(\n  settingsBaseSelector,\n  settings => settings.videoSize,\n);\n\nexport const videoEnabledSelector = createSelector(\n  settingsBaseSelector,\n  settings => settings.videoEnabled,\n);\n\n// Settings with selected values (from selectors above) rather than \"saved\"\n// values (from localStorage).\nexport const settingsSelector = createSelector(\n  settingsBaseSelector,\n  volumeSelector,\n  isMutedSelector,\n  videoSizeSelector,\n  languageSelector,\n  (base, volume, muted, videoSize, language) => ({\n    ...base,\n    volume,\n    muted,\n    videoSize,\n    language,\n  }),\n);\n\nexport const notificationSettingsSelector = createSelector(\n  settingsSelector,\n  settings => settings.notifications,\n);\n"]}