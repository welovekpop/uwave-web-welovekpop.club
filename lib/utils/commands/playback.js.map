{"version":3,"sources":["utils/commands/playback.js"],"names":["action","value","volume","parseInt","Number","isFinite","type","toLowerCase"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,4BAAS,QAAT,EAAmB,yBAAnB,EAA8C;AAC5CA,UAAQ,SAASA,MAAT,CAAgBC,KAAhB,EAAuB;AAC7B,QAAIC,SAASC,SAASF,KAAT,EAAgB,EAAhB,CAAb;AACA,QAAI,CAACG,OAAOC,QAAP,CAAgBH,MAAhB,CAAD,IAA4BA,SAAS,CAArC,IAA0CA,SAAS,GAAvD,EAA4D;AAC1D,aAAO,6BAAI,4CAAJ,CAAP;AACD;AACD,WAAO,uCAAUA,MAAV,CAAP;AACD;AAP2C,CAA9C;;AAUA,4BAAS,MAAT,EAAiB,kBAAjB,EAAqC;AACnCF,UAAQ,SAASA,MAAT,GAAkB;AACxB,WAAO,mCAAP;AACD;AAHkC,CAArC;;AAMA,4BAAS,QAAT,EAAmB,0BAAnB,EAA+C;AAC7CA,UAAQ,SAASA,MAAT,GAAkB;AACxB,WAAO,qCAAP;AACD;AAH4C,CAA/C;;AAMA,4BAAS,QAAT,EAAmB,2BAAnB,EAAgD;AAC9CA,UAAQ,SAASA,MAAT,GAAkB;AACxB,WAAO,mCAAP;AACD;AAH6C,CAAhD;;AAMA,4BAAS,UAAT,EAAqB,6BAArB,EAAoD;AAClDA,UAAQ,SAASA,MAAT,GAAkB;AACxB,WAAO,qCAAP;AACD;AAHiD,CAApD;;AAMA,4BAAS,UAAT,EAAqB,wDAArB,EAA+E;AAC7EA,UAAQ,SAASA,MAAT,CAAgBM,IAAhB,EAAsB;AAC5B,QAAIA,KAAKC,WAAL,OAAuB,IAA3B,EAAiC;AAC/B,aAAO,iCAAW,cAAX,EAA2B,IAA3B,CAAP;AACD;AACD,QAAID,KAAKC,WAAL,OAAuB,KAA3B,EAAkC;AAChC,aAAO,iCAAW,cAAX,EAA2B,KAA3B,CAAP;AACD;AACD,WAAO,6BAAI,+EAAJ,CAAP;AACD;AAT4E,CAA/E;AAWA","file":"playback.js","sourcesContent":["import { register } from '../ChatCommands';\nimport { log } from '../../actions/ChatActionCreators';\nimport {\n  setVolume,\n  mute,\n  unmute,\n} from '../../actions/PlaybackActionCreators';\nimport {\n  doUpvote,\n  doDownvote,\n} from '../../actions/VoteActionCreators';\nimport { set as setSetting } from '../../actions/SettingsActionCreators';\n\nregister(\n  'volume',\n  'Set the current volume.',\n  {\n    action: (value) => {\n      const volume = parseInt(value, 10);\n      if (!Number.isFinite(volume) || volume < 0 || volume > 100) {\n        return log('Volume must be a number between 0 and 100.');\n      }\n      return setVolume(volume);\n    },\n  },\n);\n\nregister('mute', 'Mute the volume.', {\n  action: () => mute(),\n});\n\nregister('unmute', 'Unmute the media volume.', {\n  action: () => unmute(),\n});\n\nregister('upvote', 'Upvote the current track.', {\n  action: () => doUpvote(),\n});\n\nregister('downvote', 'Downvote the current track.', {\n  action: () => doDownvote(),\n});\n\nregister('playback', 'Enable or disable playback. Syntax: \"/playback on|off\"', {\n  action: (type) => {\n    if (type.toLowerCase() === 'on') {\n      return setSetting('videoEnabled', true);\n    }\n    if (type.toLowerCase() === 'off') {\n      return setSetting('videoEnabled', false);\n    }\n    return log('Use \"/playback on\" to enable media playback or \"/playback off\" to disable it.');\n  },\n});\n"]}