{"version":3,"sources":["utils/commands/staff.js"],"names":["roleNames","user","default","normal","none","special","moderator","mod","manager","admin","guard","action","username","role","dispatch","getState"],"mappings":";;AAAA;;AACA;;AAEA;;AACA;;AAEA,IAAIA,YAAY;AACdC,QAAM,CADQ;AAEdC,WAAS,CAFK;AAGdC,UAAQ,CAHM;AAIdC,QAAM,CAJQ;AAKdC,WAAS,CALK;AAMdC,aAAW,CANG;AAOdC,OAAK,CAPS;AAQdC,WAAS,CARK;AASdC,SAAO;AATO,CAAhB;AAWA,4BAAS,UAAT,EAAqB,sEAArB,EAA6F;AAC3FC,yCAD2F;AAE3FC,UAAQ,SAASA,MAAT,CAAgBC,QAAhB,EAA0BC,IAA1B,EAAgC;AACtC,WAAO,UAAUC,QAAV,EAAoBC,QAApB,EAA8B;AACnC,UAAI,CAACH,QAAL,EAAe;AACb,eAAOE,SAAS,6BAAI,sCAAJ,CAAT,CAAP;AACD;AACD,UAAI,EAAED,QAAQb,SAAV,CAAJ,EAA0B;AACxB,eAAOc,SAAS,6BAAI,+BAA+BF,QAA/B,GAA0C,iDAA9C,CAAT,CAAP;AACD;AACD,UAAIX,OAAO,4BAAS,qCAAiBc,UAAjB,CAAT,EAAuCH,QAAvC,CAAX;AACA,aAAOE,SAAS,2CAAYb,IAAZ,EAAkBD,UAAUa,IAAV,CAAlB,CAAT,CAAP;AACD,KATD;AAUD;AAb0F,CAA7F;AAeA","file":"staff.js","sourcesContent":["import { register, findUser } from '../ChatCommands';\nimport { log } from '../../actions/ChatActionCreators';\n\nimport {\n  userListSelector,\n  isManagerSelector\n} from '../../selectors/userSelectors';\nimport { setUserRole } from '../../actions/ModerationActionCreators';\n\nconst roleNames = {\n  user: 0,\n  default: 0,\n  normal: 0,\n  none: 0,\n  special: 1,\n  moderator: 2,\n  mod: 2,\n  manager: 3,\n  admin: 4\n};\nregister(\n  'userrole',\n  'Assign a different role to a user. Syntax: \"/userrole username role\"',\n  {\n    guard: isManagerSelector,\n    action: (username, role) => (dispatch, getState) => {\n      if (!username) {\n        return dispatch(log('Provide a user to promote or demote.'));\n      }\n      if (!(role in roleNames)) {\n        return dispatch(log(\n          `Provide a role to promote ${username} to. [user, special, moderator, manager, admin]`\n        ));\n      }\n      const user = findUser(\n        userListSelector(getState()),\n        username\n      );\n      return dispatch(setUserRole(user, roleNames[role]));\n    }\n  }\n);\n"]}