{"version":3,"sources":["utils/createTheme.js"],"names":["AVERAGE_COLOR","aColor","decomposeColor","bColor","w","w1","w2","values","type","muiTheme","createMuiTheme","cssProperties","palette","uwave","fade","blend"],"mappings":";;;;;;;;;AAAA;;AACA;;;;AAEA,IAAMA,gBAAN,oBAAA,C,CAEA;AACA;AACA;;AACA,SAAA,KAAA,CAAA,CAAA,EAAA,CAAA,EAAA,MAAA,EAA6B;AAC3B,MAAMC,SAASC,sCAAf,CAAeA,CAAf;AACA,MAAMC,SAASD,sCAAf,CAAeA,CAAf;AAEA,MAAME,IAAK,IAAD,MAAC,GAAX,CAAA;AACA,MAAMC,KAAK,CAACD,IAAD,CAAA,IAAX,GAAA;AACA,MAAME,KAAK,IAAX,EAAA;AAEA,MAAMC,SAAS,CACZF,KAAKJ,OAAAA,MAAAA,CAAN,CAAMA,CAALI,GAA0BC,KAAKH,OAAAA,MAAAA,CADnB,CACmBA,CADnB,EAEZE,KAAKJ,OAAAA,MAAAA,CAAN,CAAMA,CAALI,GAA0BC,KAAKH,OAAAA,MAAAA,CAFnB,CAEmBA,CAFnB,EAGZE,KAAKJ,OAAAA,MAAAA,CAAN,CAAMA,CAALI,GAA0BC,KAAKH,OAAAA,MAAAA,CAHnB,CAGmBA,CAHnB,EAIbF,OAAAA,MAAAA,CAAAA,CAAAA,KAJF,CAAe,CAAf;AAOA,SAAO,sCAAe;AAAEO,UAAF,MAAA;AAAgBD,YAAAA;AAAhB,GAAf,CAAP;AACD;;AAEc,SAAA,WAAA,CAAA,IAAA,EAA2B;AACxC,MAAME,WAAWC,4BAAjB,IAAiBA,CAAjB;AADwC,MAAA,UAAA,SAAA,OAAA;AAAA,MAAA,QAAA,SAAA,KAAA;AAKxC,SAAA,uBAAA,EAAA,EAAA,QAAA,EAAA;AAEEC,mBAAe;AACb,sBAAgBC,QAAAA,IAAAA,CADH,OAAA;AAEb,4BAAsBA,QAAAA,IAAAA,CAFT,SAAA;AAGb,4BAAsBC,MAHT,UAAA;AAIb,kCAA4BA,MAJf,eAAA;AAKb,2BAAqBD,QAAAA,OAAAA,CALR,IAAA;AAMb,4BAAsBA,QAAAA,OAAAA,CANT,KAAA;AAOb,2BAAqBC,MAPR,SAAA;AAQb,wBAAkBD,QAAAA,UAAAA,CARL,KAAA;AAUb;AACA,sBAAgBC,MAXH,IAAA;AAYb,8BAAwBA,MAZX,IAAA;AAcb;AACA,+BAfa,SAAA;AAiBb;AACA,iCAA2BA,MAAAA,SAAAA,CAlBd,UAAA;AAmBb,kCAA4BA,MAAAA,SAAAA,CAnBf,SAAA;AAoBb,6BApBa,4BAAA;AAsBb;AACA,2BAAqBA,MAAAA,SAAAA,CAvBR,UAAA;AAwBb,qCAA+BA,MAAAA,SAAAA,CAxBlB,SAAA;AA0Bb;AACA,4BA3Ba,aAAA;AA4Bb;AACA;AACA,sCAAgCC,4BAAKD,MAAAA,SAAAA,CAALC,SAAAA,EA9BnB,GA8BmBA,CA9BnB;AAgCb;AACA,oCAA8BF,QAAAA,IAAAA,CAjCjB,IAAA;AAmCb;AACA,8BAAwBE,4BAAKD,MAALC,UAAAA,EApCX,IAoCWA,CApCX;AAqCb,oCAA8BA,4BAAAA,MAAAA,EArCjB,GAqCiBA,CArCjB;AAsCb,sCAAgCA,4BAAKD,MAALC,UAAAA,EAtCnB,GAsCmBA,CAtCnB;AAuCb,sCAAgCA,4BAAKF,QAAAA,IAAAA,CAALE,OAAAA,EAvCnB,GAuCmBA,CAvCnB;AAwCb,oCAA8BA,4BAAKF,QAAAA,OAAAA,CAALE,IAAAA,EAxCjB,GAwCiBA,CAxCjB;AAyCb,qCAA+BC,MAAMH,QAAAA,IAAAA,CAANG,OAAAA,EAAAA,aAAAA,EAAAA,GAAAA;AAzClB;AAFjB,GAAA,CAAA;AA8CD","file":"createTheme.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core/styles';\nimport { fade, decomposeColor, recomposeColor } from '@material-ui/core/styles/colorManipulator';\n\nconst AVERAGE_COLOR = 'rgb(127, 127, 127)';\n\n// Taken from the color module:\n// https://github.com/Qix-/color/blob/99266cebff6d898fc6a783a483812e322b03d5fa/index.js#L366\n// Without the alpha stuff\nfunction blend(a, b, weight) {\n  const aColor = decomposeColor(a);\n  const bColor = decomposeColor(b);\n\n  const w = (2 * weight) - 1;\n  const w1 = (w + 1) / 2.0;\n  const w2 = 1 - w1;\n\n  const values = [\n    (w1 * aColor.values[0]) + (w2 * bColor.values[0]),\n    (w1 * aColor.values[1]) + (w2 * bColor.values[1]),\n    (w1 * aColor.values[2]) + (w2 * bColor.values[2]),\n    aColor.values[3] || 1,\n  ];\n\n  return recomposeColor({ type: 'rgba', values });\n}\n\nexport default function createTheme(base) {\n  const muiTheme = createMuiTheme(base);\n\n  const { palette, uwave } = muiTheme;\n\n  return {\n    ...muiTheme,\n    cssProperties: {\n      '--text-color': palette.text.primary,\n      '--muted-text-color': palette.text.secondary,\n      '--background-color': uwave.background,\n      '--background-hover-color': uwave.backgroundHover,\n      '--highlight-color': palette.primary.main,\n      '--highbright-color': palette.primary.light,\n      '--scrollbar-color': uwave.scrollbar,\n      '--canvas-color': palette.background.paper,\n\n      // Link colors\n      '--link-color': uwave.link,\n      '--link-visited-color': uwave.link,\n\n      // Footer colours\n      '--footer-border-color': '#303036',\n\n      // Chat colours\n      '--chat-background-color': uwave.sidePanel.background,\n      '--chat-background-color2': uwave.sidePanel.alternate,\n      '--chat-border-color': 'var(--footer-border-color)',\n\n      // User related colours\n      '--user-list-color': uwave.sidePanel.background,\n      '--user-list-alternate-color': uwave.sidePanel.alternate,\n\n      // Playlist colours\n      '--media-list-color': 'transparent',\n      // TODO Name this in some other way. It's used as the menu item focus colour\n      // in various places.\n      '--media-list-alternate-color': fade(uwave.mediaList.alternate, 0.3),\n\n      // Settings panel colours\n      '--settings-help-text-color': palette.text.hint,\n\n      // Computed values, can't do these in CSS\n      '--overlay-background': fade(uwave.background, 0.96),\n      '--chat-suggestion-selected': fade('#fff', 0.1),\n      '--soundcloud-meta-background': fade(uwave.background, 0.3),\n      '--waitlist-locked-text-color': fade(palette.text.primary, 0.7),\n      '--selected-media-row-color': fade(palette.primary.main, 0.7),\n      '--chat-timestamp-text-color': blend(palette.text.primary, AVERAGE_COLOR, 0.7),\n    },\n  };\n}\n"]}