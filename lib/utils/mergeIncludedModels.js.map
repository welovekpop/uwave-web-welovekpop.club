{"version":3,"sources":["utils/mergeIncludedModels.js"],"names":["mergeIncludedModels","_ref","data","meta","included","Object","keys","forEach","type","path","item","id","model","m","_id"],"mappings":";;;;;kBAIwBA,mB;;AAJxB;;;;AACA;;;;AACA;;;;;;AAEe,SAASA,mBAAT,CAA6BC,IAA7B,EAAmC;AAChD,MAAIC,OAAOD,KAAKC,IAAhB;AAAA,MACIC,OAAOF,KAAKE,IADhB;AAAA,MAEIC,WAAWH,KAAKG,QAFpB;;AAIAC,SAAOC,IAAP,CAAYH,KAAKC,QAAL,IAAiB,EAA7B,EAAiCG,OAAjC,CAAyC,UAAUC,IAAV,EAAgB;AACvDL,SAAKC,QAAL,CAAcI,IAAd,EAAoBD,OAApB,CAA4B,UAAUE,IAAV,EAAgB;AAC1CP,WAAKK,OAAL,CAAa,UAAUG,IAAV,EAAgB;AAC3B,YAAIC,KAAK,mBAAQD,IAAR,EAAcD,IAAd,CAAT;AACA,YAAIG,QAAQ,oBAAKR,SAASI,IAAT,CAAL,EAAqB,UAAUK,CAAV,EAAa;AAC5C,iBAAOA,EAAEC,GAAF,KAAUH,EAAjB;AACD,SAFW,CAAZ;AAGA,2BAAQD,IAAR,EAAcD,IAAd,EAAoBG,KAApB;AACD,OAND;AAOD,KARD;AASD,GAVD;AAWA,SAAOV,IAAP;AACD;AACD","file":"mergeIncludedModels.js","sourcesContent":["import getPath from 'lodash/get';\nimport setPath from 'lodash/set';\nimport find from 'lodash/find';\n\nexport default function mergeIncludedModels({ data, meta, included }) {\n  Object.keys(meta.included || {}).forEach((type) => {\n    meta.included[type].forEach((path) => {\n      data.forEach((item) => {\n        const id = getPath(item, path);\n        const model = find(included[type], m => m._id === id);\n        setPath(item, path, model);\n      });\n    });\n  });\n  return data;\n}\n"]}