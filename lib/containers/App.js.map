{"version":3,"sources":["containers/App.js"],"names":["_dec","_class","_class2","_temp","mapStateToProps","activeOverlay","state","settings","language","muiTheme","hasAboutPage","props","uwave","getAboutPageComponent","mapDispatchToProps","dispatch","createTimer","stopTimer","onCloseOverlay","AppContainer","_React$Component","apply","arguments","prototype","getChildContext","timerCallbacks","mediaSources","componentWillMount","componentWillReceiveProps","nextProps","locale","changeLanguage","componentWillUnmount","render","i18n","createElement","Component","childContextTypes","arrayOf","func","object","default","propTypes","process","env","NODE_ENV","isRequired","string"],"mappings":"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","file":"App.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport { I18nextProvider } from 'react-i18next';\nimport { closeAll } from '../actions/OverlayActionCreators';\nimport { createTimer, stopTimer } from '../actions/TickerActionCreators';\n\nimport {\n  settingsSelector,\n  languageSelector,\n  muiThemeSelector\n} from '../selectors/settingSelectors';\nimport App from '../components/App';\n\nconst mapStateToProps = createStructuredSelector({\n  activeOverlay: state => state.activeOverlay,\n  settings: settingsSelector,\n  language: languageSelector,\n  muiTheme: muiThemeSelector,\n  hasAboutPage: (state, props) => (\n    props.uwave.getAboutPageComponent() !== null\n  )\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  createTimer,\n  stopTimer,\n  onCloseOverlay: closeAll\n}, dispatch);\n\n@connect(mapStateToProps, mapDispatchToProps)\nexport default class AppContainer extends React.Component {\n  static propTypes = {\n    mediaSources: PropTypes.object.isRequired,\n    uwave: PropTypes.object,\n    language: PropTypes.string,\n    locale: PropTypes.object.isRequired,\n    muiTheme: PropTypes.object,\n    createTimer: PropTypes.func.isRequired,\n    stopTimer: PropTypes.func.isRequired\n  };\n\n  static childContextTypes = {\n    timerCallbacks: PropTypes.arrayOf(PropTypes.func),\n    mediaSources: PropTypes.object,\n    uwave: PropTypes.object\n  };\n\n  getChildContext() {\n    return {\n      timerCallbacks: this.timerCallbacks,\n      mediaSources: this.props.mediaSources,\n      uwave: this.props.uwave\n    };\n  }\n\n  // TODO move this to constructor?\n  componentWillMount() {\n    // Start the clock! Ã¼Wave stores the current time in the application state\n    // primarily to make sure that different timers in the UI update simultaneously.\n    this.timerCallbacks = this.props.createTimer();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.language !== nextProps.language) {\n      this.props.locale.changeLanguage(nextProps.language);\n    }\n  }\n\n  componentWillUnmount() {\n    this.timerCallbacks = [];\n    this.props.stopTimer();\n  }\n\n  render() {\n    return (\n      <MuiThemeProvider muiTheme={this.props.muiTheme}>\n        <I18nextProvider i18n={this.props.locale}>\n          <App {...this.props} />\n        </I18nextProvider>\n      </MuiThemeProvider>\n    );\n  }\n}\n"]}