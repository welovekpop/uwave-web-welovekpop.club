{"version":3,"sources":["containers/App.js"],"names":["SimpleProviders","mapStateToProps","activeOverlay","state","isConnected","settings","language","theme","hasAboutPage","props","uwave","getAboutPageComponent","mapDispatchToProps","onCloseOverlay","enhance","AppContainer","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","renderApp","Fragment","createElement","prototype","getChildContext","mediaSources","componentWillReceiveProps","nextProps","locale","changeLanguage","render","i18n","Component","childContextTypes","object","propTypes","process","env","NODE_ENV","isRequired","string"],"mappings":"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","file":"App.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport nest from 'recompose/nest';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { MuiThemeProvider } from 'material-ui/styles';\nimport { I18nextProvider } from 'react-i18next';\nimport { Provider as BusProvider } from 'react-bus';\nimport { Mobile, Desktop } from '../components/Responsive';\nimport ClockProvider from '../components/ClockProvider';\nimport { closeAll } from '../actions/OverlayActionCreators';\nimport {\n  settingsSelector,\n  languageSelector,\n  themeSelector,\n} from '../selectors/settingSelectors';\nimport { isConnectedSelector } from '../selectors/serverSelectors';\nimport DesktopApp from '../components/App';\nimport MobileApp from '../mobile/components/App';\n\nconst SimpleProviders = nest(BusProvider, ClockProvider);\n\nconst mapStateToProps = createStructuredSelector({\n  activeOverlay: state => state.activeOverlay,\n  isConnected: isConnectedSelector,\n  settings: settingsSelector,\n  language: languageSelector,\n  theme: themeSelector,\n  hasAboutPage: (state, props) => (\n    props.uwave.getAboutPageComponent() !== null\n  ),\n});\n\nconst mapDispatchToProps = {\n  onCloseOverlay: closeAll,\n};\n\nconst enhance = connect(mapStateToProps, mapDispatchToProps);\n\nclass AppContainer extends React.Component {\n  static propTypes = {\n    mediaSources: PropTypes.object.isRequired,\n    uwave: PropTypes.object,\n    language: PropTypes.string,\n    theme: PropTypes.object,\n    locale: PropTypes.object.isRequired,\n  };\n\n  static childContextTypes = {\n    mediaSources: PropTypes.object,\n    uwave: PropTypes.object,\n  };\n\n  getChildContext() {\n    return {\n      mediaSources: this.props.mediaSources,\n      uwave: this.props.uwave,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.language !== nextProps.language) {\n      this.props.locale.changeLanguage(nextProps.language);\n    }\n  }\n\n  renderApp = () => (\n    <React.Fragment>\n      <Mobile>\n        <MobileApp {...this.props} />\n      </Mobile>\n      <Desktop>\n        <DesktopApp {...this.props} />\n      </Desktop>\n    </React.Fragment>\n  );\n\n  render() {\n    return (\n      <MuiThemeProvider theme={this.props.theme}>\n        <I18nextProvider i18n={this.props.locale}>\n          <SimpleProviders>\n            {this.renderApp()}\n          </SimpleProviders>\n        </I18nextProvider>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default enhance(AppContainer);\n"]}