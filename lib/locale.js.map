{"version":3,"sources":["locale.js"],"names":["createLocale","en","resources","cs","cy","de","es","fr","ko","nl","pt","zh","UwaveBackend","type","cache","Promise","resolve","prototype","getResource","language","reject","Error","read","namespace","callback","then","resource","result","catch","i18next","use","init","fallbackLng","defaultNS","interpolation","escapeValue","availableLanguages","concat","Object","keys","locale","cloneInstance","changeLanguage"],"mappings":"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","file":"locale.js","sourcesContent":["import i18next from 'i18next';\nimport * as en from '../locale/en.yaml';\n\nconst resources = {\n  cs: () => import('../locale/cs.yaml'),\n  cy: () => import('../locale/cy.yaml'),\n  de: () => import('../locale/de.yaml'),\n  es: () => import('../locale/es.yaml'),\n  fr: () => import('../locale/fr.yaml'),\n  ko: () => import('../locale/ko.yaml'),\n  nl: () => import('../locale/nl.yaml'),\n  pt: () => import('../locale/pt.yaml'),\n  zh: () => import('../locale/zh.yaml')\n};\n\nclass UwaveBackend {\n  static type = 'backend';\n  type = 'backend';\n  cache = { en: Promise.resolve(en) };\n\n  getResource(language) {\n    if (this.cache[language]) {\n      return this.cache[language];\n    }\n    if (!resources[language]) {\n      return Promise.reject(new Error(`The language \"${language}\" is not supported.`));\n    }\n\n    this.cache[language] = resources[language]();\n\n    return this.cache[language];\n  }\n\n  read(language, namespace, callback) {\n    this.getResource(language)\n      .then(resource => resource[namespace])\n      .then((result) => {\n        callback(null, result);\n      })\n      .catch(callback);\n  }\n}\n\ni18next.use(new UwaveBackend());\n\ni18next.init({\n  fallbackLng: 'en',\n  defaultNS: 'uwave',\n  interpolation: {\n    // Prevent double-escapes: React already escapes things for us\n    escapeValue: false\n  }\n});\n\nexport const availableLanguages = [ 'en', ...Object.keys(resources) ];\n\nexport default function createLocale(language) {\n  const locale = i18next.cloneInstance();\n  locale.availableLanguages = availableLanguages;\n\n  return new Promise((resolve) => {\n    locale.changeLanguage(language, () => {\n      resolve(locale);\n    });\n  });\n}\n"]}