{"version":3,"sources":["mobile/components/MainView/index.js"],"names":["waitlistIconStyle","fontSize","textAlign","getWaitlistLabel","size","position","posText","enhance","onOpenRoomHistory","props","event","preventDefault","onOpenDrawer","onOpenWaitlist","_ref2","MenuIcon","_ref3","HistoryIcon","_ref4","className","Chat","_ref5","DrawerMenu","_ref6","UsersDrawer","MainView","_ref","media","videoEnabled","waitlistPosition","waitlistSize","onEnableVideo","AppBar","Toolbar","IconButton","onClick","Typography","variant","SongTitle","artist","title","style","Video","enabled","VideoDisabledMessage","propTypes","process","env","NODE_ENV","PropTypes","object","bool","isRequired","number","func"],"mappings":"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","file":"index.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport withHandlers from 'recompose/withHandlers';\nimport AppBar from 'material-ui/AppBar';\nimport Toolbar from 'material-ui/Toolbar';\nimport Typography from 'material-ui/Typography';\nimport IconButton from 'material-ui/IconButton';\nimport HistoryIcon from '@material-ui/icons/History';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SongTitle from '../../../components/SongTitle';\nimport Video from '../../containers/Video';\nimport Chat from '../../containers/Chat';\nimport DrawerMenu from '../../containers/DrawerMenu';\nimport UsersDrawer from '../../containers/UsersDrawer';\nimport VideoDisabledMessage from './VideoDisabledMessage';\n\nconst waitlistIconStyle = {\n  fontSize: '125%',\n  textAlign: 'center',\n};\n\nconst getWaitlistLabel = (size, position) => {\n  if (size > 0) {\n    const posText = position !== -1\n      ? `${position + 1}/${size}`\n      : size;\n\n    return posText;\n  }\n  return '0';\n};\n\nconst enhance = withHandlers({\n  // Prevent defaults for react-tap-event-plugin:\n  // https://github.com/zilverline/react-tap-event-plugin/issues/77\n  onOpenRoomHistory: props => (event) => {\n    event.preventDefault();\n    props.onOpenRoomHistory();\n  },\n  onOpenDrawer: props => (event) => {\n    event.preventDefault();\n    props.onOpenDrawer();\n  },\n  onOpenWaitlist: props => (event) => {\n    event.preventDefault();\n    props.onOpenWaitlist();\n  },\n});\n\nconst MainView = ({\n  media,\n  videoEnabled,\n  waitlistPosition,\n  waitlistSize,\n  onOpenRoomHistory,\n  onOpenDrawer,\n  onOpenWaitlist,\n  onEnableVideo,\n}) => (\n  <div className=\"MainView\">\n    <AppBar position=\"static\" className=\"MainView-appBar\">\n      <Toolbar>\n        <IconButton aria-label=\"Menu\" onClick={onOpenDrawer}>\n          <MenuIcon />\n        </IconButton>\n        <Typography variant=\"title\" className=\"MainView-title\">\n          {media ? (\n            <SongTitle artist={media.artist} title={media.title} />\n          ) : (\n            'Nobody is DJing!'\n          )}\n        </Typography>\n        <IconButton onClick={onOpenRoomHistory}>\n          <HistoryIcon />\n        </IconButton>\n        <IconButton style={waitlistIconStyle} onClick={onOpenWaitlist}>\n          {getWaitlistLabel(waitlistSize, waitlistPosition)}\n        </IconButton>\n      </Toolbar>\n    </AppBar>\n\n    <div className=\"MainView-content\">\n      <div className=\"MobileApp-video\">\n        <Video\n          enabled={videoEnabled}\n          size=\"large\"\n        />\n        {!videoEnabled && (\n          <VideoDisabledMessage onEnableVideo={onEnableVideo} />\n        )}\n      </div>\n      <div className=\"MobileApp-chat\">\n        <Chat />\n      </div>\n    </div>\n\n    <DrawerMenu />\n    <UsersDrawer />\n  </div>\n);\n\nMainView.propTypes = {\n  media: PropTypes.object,\n  videoEnabled: PropTypes.bool.isRequired,\n  waitlistPosition: PropTypes.number.isRequired,\n  waitlistSize: PropTypes.number.isRequired,\n  onOpenRoomHistory: PropTypes.func.isRequired,\n  onOpenWaitlist: PropTypes.func.isRequired,\n  onOpenDrawer: PropTypes.func.isRequired,\n  onEnableVideo: PropTypes.func.isRequired,\n};\n\nexport default enhance(MainView);\n"]}