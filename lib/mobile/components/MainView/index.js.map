{"version":3,"sources":["mobile/components/MainView/index.js"],"names":["waitlistIconStyle","fontSize","textAlign","getWaitlistLabel","size","position","posText","enhance","onOpenRoomHistory","props","event","preventDefault","onOpenDrawer","onOpenWaitlist","_ref2","_ref3","_ref4","className","_ref5","_ref6","MainView","_ref","media","videoEnabled","waitlistPosition","waitlistSize","onEnableVideo","onClick","variant","artist","title","style","enabled","propTypes","process","env","NODE_ENV","object","bool","isRequired","number","func"],"mappings":"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","file":"index.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport withHandlers from 'recompose/withHandlers';\nimport AppBar from 'material-ui/AppBar';\nimport Toolbar from 'material-ui/Toolbar';\nimport Typography from 'material-ui/Typography';\nimport IconButton from 'material-ui/IconButton';\nimport HistoryIcon from 'material-ui-icons/History';\nimport MenuIcon from 'material-ui-icons/Menu';\nimport SongTitle from '../../../components/SongTitle';\nimport Video from '../../containers/Video';\nimport Chat from '../../containers/Chat';\nimport DrawerMenu from '../../containers/DrawerMenu';\nimport UsersDrawer from '../../containers/UsersDrawer';\nimport VideoDisabledMessage from './VideoDisabledMessage';\n\nconst waitlistIconStyle = {\n  fontSize: '125%',\n  textAlign: 'center',\n};\n\nconst getWaitlistLabel = (size, position) => {\n  if (size > 0) {\n    const posText = position !== -1\n      ? `${position + 1}/${size}`\n      : size;\n\n    return posText;\n  }\n  return '0';\n};\n\nconst enhance = withHandlers({\n  // Prevent defaults for react-tap-event-plugin:\n  // https://github.com/zilverline/react-tap-event-plugin/issues/77\n  onOpenRoomHistory: props => (event) => {\n    event.preventDefault();\n    props.onOpenRoomHistory();\n  },\n  onOpenDrawer: props => (event) => {\n    event.preventDefault();\n    props.onOpenDrawer();\n  },\n  onOpenWaitlist: props => (event) => {\n    event.preventDefault();\n    props.onOpenWaitlist();\n  },\n});\n\nconst MainView = ({\n  media,\n  videoEnabled,\n  waitlistPosition,\n  waitlistSize,\n  onOpenRoomHistory,\n  onOpenDrawer,\n  onOpenWaitlist,\n  onEnableVideo,\n}) => (\n  <div className=\"MainView\">\n    <AppBar position=\"static\" className=\"MainView-appBar\">\n      <Toolbar>\n        <IconButton aria-label=\"Menu\" onClick={onOpenDrawer}>\n          <MenuIcon />\n        </IconButton>\n        <Typography variant=\"title\" className=\"MainView-title\">\n          {media ? (\n            <SongTitle artist={media.artist} title={media.title} />\n          ) : (\n            'Nobody is DJing!'\n          )}\n        </Typography>\n        <IconButton onClick={onOpenRoomHistory}>\n          <HistoryIcon />\n        </IconButton>\n        <IconButton style={waitlistIconStyle} onClick={onOpenWaitlist}>\n          {getWaitlistLabel(waitlistSize, waitlistPosition)}\n        </IconButton>\n      </Toolbar>\n    </AppBar>\n\n    <div className=\"MainView-content\">\n      <div className=\"MobileApp-video\">\n        <Video\n          enabled={videoEnabled}\n          size=\"large\"\n        />\n        {!videoEnabled && (\n          <VideoDisabledMessage onEnableVideo={onEnableVideo} />\n        )}\n      </div>\n      <div className=\"MobileApp-chat\">\n        <Chat />\n      </div>\n    </div>\n\n    <DrawerMenu />\n    <UsersDrawer />\n  </div>\n);\n\nMainView.propTypes = {\n  media: PropTypes.object,\n  videoEnabled: PropTypes.bool.isRequired,\n  waitlistPosition: PropTypes.number.isRequired,\n  waitlistSize: PropTypes.number.isRequired,\n  onOpenRoomHistory: PropTypes.func.isRequired,\n  onOpenWaitlist: PropTypes.func.isRequired,\n  onOpenDrawer: PropTypes.func.isRequired,\n  onEnableVideo: PropTypes.func.isRequired,\n};\n\nexport default enhance(MainView);\n"]}