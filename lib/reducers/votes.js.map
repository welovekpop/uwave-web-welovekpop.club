{"version":3,"sources":["reducers/votes.js"],"names":["reduce","initialState","upvotes","downvotes","favorites","state","arguments","length","undefined","action","type","payload","concat","userID","filter","vote","indexOf"],"mappings":";;;;;kBAUwBA,M;;AAVxB;;;;AACA;;AACA;;;;AAEA,IAAIC,eAAe;AACjBC,WAAS,EADQ;AAEjBC,aAAW,EAFM;AAGjBC,aAAW;AAHM,CAAnB;;AAMe,SAASJ,MAAT,GAAkB;AAC/B,MAAIK,QAAQC,UAAUC,MAAV,GAAmB,CAAnB,IAAwBD,UAAU,CAAV,MAAiBE,SAAzC,GAAqDF,UAAU,CAAV,CAArD,GAAoEL,YAAhF;AACA,MAAIQ,SAASH,UAAUC,MAAV,GAAmB,CAAnB,IAAwBD,UAAU,CAAV,MAAiBE,SAAzC,GAAqDF,UAAU,CAAV,CAArD,GAAoE,EAAjF;AACA,MAAII,OAAOD,OAAOC,IAAlB;AAAA,MACIC,UAAUF,OAAOE,OADrB;;AAGA,UAAQD,IAAR;AACE;AACE,aAAOT,YAAP;AACF;AACE,aAAO,uBAAS,EAAT,EAAaI,KAAb,EAAoB;AACzBH,iBAASS,QAAQT,OADQ;AAEzBC,mBAAWQ,QAAQR,SAFM;AAGzBC,mBAAWO,QAAQP;AAHM,OAApB,CAAP;AAKF;AACE,aAAO,uBAAS,EAAT,EAAaC,KAAb,EAAoB;AACzBH,iBAAS,GAAGU,MAAH,CAAUP,MAAMH,OAAhB,EAAyB,CAACS,QAAQE,MAAT,CAAzB,CADgB;AAEzBV,mBAAWE,MAAMF,SAAN,CAAgBW,MAAhB,CAAuB,UAAUC,IAAV,EAAgB;AAChD,iBAAOA,SAASJ,QAAQE,MAAxB;AACD,SAFU;AAFc,OAApB,CAAP;AAMF;AACE,aAAO,uBAAS,EAAT,EAAaR,KAAb,EAAoB;AACzBH,iBAASG,MAAMH,OAAN,CAAcY,MAAd,CAAqB,UAAUC,IAAV,EAAgB;AAC5C,iBAAOA,SAASJ,QAAQE,MAAxB;AACD,SAFQ,CADgB;AAIzBV,mBAAW,GAAGS,MAAH,CAAUP,MAAMF,SAAhB,EAA2B,CAACQ,QAAQE,MAAT,CAA3B;AAJc,OAApB,CAAP;AAMF;AACE,UAAIR,MAAMD,SAAN,CAAgBY,OAAhB,CAAwBL,QAAQE,MAAhC,MAA4C,CAAC,CAAjD,EAAoD;AAClD,eAAO,uBAAS,EAAT,EAAaR,KAAb,EAAoB;AACzBD,qBAAW,GAAGQ,MAAH,CAAUP,MAAMD,SAAhB,EAA2B,CAACO,QAAQE,MAAT,CAA3B;AADc,SAApB,CAAP;AAGD;AACD,aAAOR,KAAP;AACF;AACE,aAAOA,KAAP;AACF;AACE,aAAOA,KAAP;AACF;AACE,aAAOA,KAAP;AAnCJ;AAqCD;AACD","file":"votes.js","sourcesContent":["import { ADVANCE } from '../constants/actionTypes/booth';\nimport {\n  LOAD_VOTES,\n  FAVORITE, UPVOTE, DOWNVOTE,\n  DO_FAVORITE_START, DO_FAVORITE_COMPLETE,\n} from '../constants/actionTypes/votes';\n\nconst initialState = {\n  upvotes: [],\n  downvotes: [],\n  favorites: [],\n};\n\nexport default function reduce(state = initialState, action = {}) {\n  const { type, payload } = action;\n  switch (type) {\n    case ADVANCE:\n      return initialState;\n    case LOAD_VOTES:\n      return {\n        ...state,\n        upvotes: payload.upvotes,\n        downvotes: payload.downvotes,\n        favorites: payload.favorites,\n      };\n    case UPVOTE:\n      return {\n        ...state,\n        upvotes: [...state.upvotes, payload.userID],\n        downvotes: state.downvotes.filter(vote => vote !== payload.userID),\n      };\n    case DOWNVOTE:\n      return {\n        ...state,\n        upvotes: state.upvotes.filter(vote => vote !== payload.userID),\n        downvotes: [...state.downvotes, payload.userID],\n      };\n    case FAVORITE:\n      if (state.favorites.indexOf(payload.userID) === -1) {\n        return {\n          ...state,\n          favorites: [...state.favorites, payload.userID],\n        };\n      }\n      return state;\n    case DO_FAVORITE_START:\n      return state;\n    case DO_FAVORITE_COMPLETE:\n      return state;\n    default:\n      return state;\n  }\n}\n"]}