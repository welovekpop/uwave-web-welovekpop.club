{"version":3,"sources":["reducers/auth.js"],"names":["reduce","initialState","jwt","user","error","state","arguments","length","undefined","action","type","payload","isError","username"],"mappings":";;;;;kBAUwBA,M;;AAVxB;;;;AACA;;AACA;;;;AAEA,IAAIC,eAAe;AACjBC,OAAK,IADY;AAEjBC,QAAM,IAFW;AAGjBC,SAAO;AAHU,CAAnB;;AAMe,SAASJ,MAAT,GAAkB;AAC/B,MAAIK,QAAQC,UAAUC,MAAV,GAAmB,CAAnB,IAAwBD,UAAU,CAAV,MAAiBE,SAAzC,GAAqDF,UAAU,CAAV,CAArD,GAAoEL,YAAhF;AACA,MAAIQ,SAASH,UAAUC,MAAV,GAAmB,CAAnB,IAAwBD,UAAU,CAAV,MAAiBE,SAAzC,GAAqDF,UAAU,CAAV,CAArD,GAAoE,EAAjF;AACA,MAAII,OAAOD,OAAOC,IAAlB;AAAA,MACIC,UAAUF,OAAOE,OADrB;AAAA,MAEIC,UAAUH,OAAOL,KAFrB;;AAIA,UAAQM,IAAR;AACE;AACE,aAAOE,UAAU,uBAAS,EAAT,EAAaP,KAAb,EAAoB;AACnCH,aAAKS,QAAQT,GADsB;AAEnCC,cAAM,IAF6B;AAGnCC,eAAOO;AAH4B,OAApB,CAAV,GAIF,uBAAS,EAAT,EAAaN,KAAb,EAAoB;AACvBH,aAAKS,QAAQT,GADU;AAEvBC,cAAM,IAFiB;AAGvBC,eAAO;AAHgB,OAApB,CAJL;AASF;AACE,aAAO,uBAAS,EAAT,EAAaC,KAAb,EAAoB;AACzBH,aAAKS,QAAQT,GADY;AAEzBC,cAAM,IAFmB;AAGzBC,eAAO;AAHkB,OAApB,CAAP;AAKF;AACE,aAAOQ,UAAU,uBAAS,EAAT,EAAaP,KAAb,EAAoB;AACnCH,aAAK,IAD8B;AAEnCC,cAAM,IAF6B;AAGnCC,eAAOO;AAH4B,OAApB,CAAV,GAIF,uBAAS,EAAT,EAAaN,KAAb,EAAoB;AACvBH,aAAKS,QAAQT,GADU;AAEvBC,cAAMQ,QAAQR,IAFS;AAGvBC,eAAO;AAHgB,OAApB,CAJL;AASF;AACE,aAAO,uBAAS,EAAT,EAAaC,KAAb,EAAoB;AACzBH,aAAK,IADoB;AAEzBC,cAAM,IAFmB;AAGzBC,eAAOO;AAHkB,OAApB,CAAP;AAKF;AACE,aAAOV,YAAP;AACF;AACE,UAAI,CAACW,OAAD,IAAYP,MAAMF,IAAtB,EAA4B;AAC1B,eAAO,uBAAS,EAAT,EAAaE,KAAb,EAAoB;AACzBF,gBAAM,uBAAS,EAAT,EAAaE,MAAMF,IAAnB,EAAyB;AAC7BU,sBAAUF,QAAQE;AADW,WAAzB;AADmB,SAApB,CAAP;AAKD;AACD,aAAOR,KAAP;AACF;AACE,aAAOA,KAAP;AA7CJ;AA+CD;AACD","file":"auth.js","sourcesContent":["import {\n  RESET_PASSWORD_COMPLETE,\n  REGISTER_COMPLETE,\n  LOGIN_COMPLETE, SET_TOKEN,\n  LOGOUT_COMPLETE\n} from '../constants/actionTypes/auth';\nimport {\n  DO_CHANGE_USERNAME_COMPLETE\n} from '../constants/actionTypes/users';\n\nconst initialState = {\n  jwt: null,\n  user: null,\n  error: null\n};\n\nexport default function reduce(state = initialState, action = {}) {\n  const { type, payload, error: isError } = action;\n  switch (type) {\n  case RESET_PASSWORD_COMPLETE:\n    return isError ? {\n      ...state,\n      jwt: payload.jwt,\n      user: null,\n      error: payload\n    } : {\n      ...state,\n      jwt: payload.jwt,\n      user: null,\n      error: null\n    };\n  case SET_TOKEN:\n    return {\n      ...state,\n      jwt: payload.jwt,\n      user: null,\n      error: null\n    };\n  case LOGIN_COMPLETE:\n    return isError ? {\n      ...state,\n      jwt: null,\n      user: null,\n      error: payload\n    } : {\n      ...state,\n      jwt: payload.jwt,\n      user: payload.user,\n      error: null\n    };\n  case REGISTER_COMPLETE:\n    return {\n      ...state,\n      jwt: null,\n      user: null,\n      error: payload\n    };\n  case LOGOUT_COMPLETE:\n    return initialState;\n  case DO_CHANGE_USERNAME_COMPLETE:\n    if (!isError && state.user) {\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          username: payload.username\n        }\n      };\n    }\n    return state;\n  default:\n    return state;\n  }\n}\n"]}