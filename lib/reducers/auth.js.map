{"version":3,"sources":["reducers/auth.js"],"names":["initialState","strategies","token","user","error","reduce","state","action","_action","type","payload","isError","AUTH_STRATEGIES","RESET_PASSWORD_COMPLETE","SET_TOKEN","LOGIN_COMPLETE","_id","REGISTER_COMPLETE","LOGOUT_COMPLETE"],"mappings":";;;;;;;AAAA;;AACA;;;;AACA,IAAIA,eAAe;AACjBC,cAAY,CAAC,OAAD,CADK;AAEjBC,SAAO,IAFU;AAGjBC,QAAM,IAHW;AAIjBC,SAAO;AAJU,CAAnB;;AAMe,SAASC,MAAT,CAAgBC,KAAhB,EAAuBC,MAAvB,EAA+B;AAC5C,MAAID,UAAU,KAAK,CAAnB,EAAsB;AACpBA,YAAQN,YAAR;AACD;;AAED,MAAIO,WAAW,KAAK,CAApB,EAAuB;AACrBA,aAAS,EAAT;AACD;;AAED,MAAIC,UAAUD,MAAd;AAAA,MACIE,OAAOD,QAAQC,IADnB;AAAA,MAEIC,UAAUF,QAAQE,OAFtB;AAAA,MAGIC,UAAUH,QAAQJ,KAHtB;;AAKA,UAAQK,IAAR;AACE,SAAKG,qBAAL;AACE,aAAO,4BAAc,EAAd,EAAkBN,KAAlB,EAAyB;AAC9BL,oBAAYS,QAAQT;AADU,OAAzB,CAAP;;AAIF,SAAKY,6BAAL;AACE,aAAOF,UAAU,4BAAc,EAAd,EAAkBL,KAAlB,EAAyB;AACxCJ,eAAOQ,QAAQR,KADyB;AAExCC,cAAM,IAFkC;AAGxCC,eAAOM;AAHiC,OAAzB,CAAV,GAIF,4BAAc,EAAd,EAAkBJ,KAAlB,EAAyB;AAC5BJ,eAAOQ,QAAQR,KADa;AAE5BC,cAAM,IAFsB;AAG5BC,eAAO;AAHqB,OAAzB,CAJL;;AAUF,SAAKU,eAAL;AACE,aAAO,4BAAc,EAAd,EAAkBR,KAAlB,EAAyB;AAC9BJ,eAAOQ,QAAQR,KADe;AAE9BC,cAAM,IAFwB;AAG9BC,eAAO;AAHuB,OAAzB,CAAP;;AAMF,SAAKW,oBAAL;AACE,aAAOJ,UAAU,4BAAc,EAAd,EAAkBL,KAAlB,EAAyB;AACxCJ,eAAO,IADiC;AAExCC,cAAM,IAFkC;AAGxCC,eAAOM;AAHiC,OAAzB,CAAV,GAIF,4BAAc,EAAd,EAAkBJ,KAAlB,EAAyB;AAC5BJ,eAAOQ,QAAQR,KADa;AAE5BC,cAAMO,QAAQP,IAAR,CAAaa,GAFS;AAG5BZ,eAAO;AAHqB,OAAzB,CAJL;;AAUF,SAAKa,uBAAL;AACE,aAAO,4BAAc,EAAd,EAAkBX,KAAlB,EAAyB;AAC9BJ,eAAO,IADuB;AAE9BC,cAAM,IAFwB;AAG9BC,eAAOM;AAHuB,OAAzB,CAAP;;AAMF,SAAKQ,qBAAL;AACE,aAAOlB,YAAP;;AAEF;AACE,aAAOM,KAAP;AA9CJ;AAgDD,C,CACD","file":"auth.js","sourcesContent":["import {\n  AUTH_STRATEGIES,\n  RESET_PASSWORD_COMPLETE,\n  REGISTER_COMPLETE,\n  LOGIN_COMPLETE, SET_TOKEN,\n  LOGOUT_COMPLETE,\n} from '../constants/actionTypes/auth';\n\nconst initialState = {\n  strategies: ['local'],\n  token: null,\n  user: null,\n  error: null,\n};\n\nexport default function reduce(state = initialState, action = {}) {\n  const { type, payload, error: isError } = action;\n  switch (type) {\n    case AUTH_STRATEGIES:\n      return {\n        ...state,\n        strategies: payload.strategies,\n      };\n    case RESET_PASSWORD_COMPLETE:\n      return isError ? {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: payload,\n      } : {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: null,\n      };\n    case SET_TOKEN:\n      return {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: null,\n      };\n    case LOGIN_COMPLETE:\n      return isError ? {\n        ...state,\n        token: null,\n        user: null,\n        error: payload,\n      } : {\n        ...state,\n        token: payload.token,\n        user: payload.user._id,\n        error: null,\n      };\n    case REGISTER_COMPLETE:\n      return {\n        ...state,\n        token: null,\n        user: null,\n        error: payload,\n      };\n    case LOGOUT_COMPLETE:\n      return initialState;\n    default:\n      return state;\n  }\n}\n"]}