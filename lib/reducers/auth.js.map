{"version":3,"sources":["reducers/auth.js"],"names":["reduce","initialState","strategies","token","user","error","state","arguments","length","undefined","action","type","payload","isError","_id"],"mappings":";;;;;kBAUwBA,M;;AAVxB;;;;AACA;;;;AAEA,IAAIC,eAAe;AACjBC,cAAY,CAAC,OAAD,CADK;AAEjBC,SAAO,IAFU;AAGjBC,QAAM,IAHW;AAIjBC,SAAO;AAJU,CAAnB;;AAOe,SAASL,MAAT,GAAkB;AAC/B,MAAIM,QAAQC,UAAUC,MAAV,GAAmB,CAAnB,IAAwBD,UAAU,CAAV,MAAiBE,SAAzC,GAAqDF,UAAU,CAAV,CAArD,GAAoEN,YAAhF;AACA,MAAIS,SAASH,UAAUC,MAAV,GAAmB,CAAnB,IAAwBD,UAAU,CAAV,MAAiBE,SAAzC,GAAqDF,UAAU,CAAV,CAArD,GAAoE,EAAjF;AACA,MAAII,OAAOD,OAAOC,IAAlB;AAAA,MACIC,UAAUF,OAAOE,OADrB;AAAA,MAEIC,UAAUH,OAAOL,KAFrB;;AAIA,UAAQM,IAAR;AACE;AACE,aAAO,uBAAS,EAAT,EAAaL,KAAb,EAAoB;AACzBJ,oBAAYU,QAAQV;AADK,OAApB,CAAP;AAGF;AACE,aAAOW,UAAU,uBAAS,EAAT,EAAaP,KAAb,EAAoB;AACnCH,eAAOS,QAAQT,KADoB;AAEnCC,cAAM,IAF6B;AAGnCC,eAAOO;AAH4B,OAApB,CAAV,GAIF,uBAAS,EAAT,EAAaN,KAAb,EAAoB;AACvBH,eAAOS,QAAQT,KADQ;AAEvBC,cAAM,IAFiB;AAGvBC,eAAO;AAHgB,OAApB,CAJL;AASF;AACE,aAAO,uBAAS,EAAT,EAAaC,KAAb,EAAoB;AACzBH,eAAOS,QAAQT,KADU;AAEzBC,cAAM,IAFmB;AAGzBC,eAAO;AAHkB,OAApB,CAAP;AAKF;AACE,aAAOQ,UAAU,uBAAS,EAAT,EAAaP,KAAb,EAAoB;AACnCH,eAAO,IAD4B;AAEnCC,cAAM,IAF6B;AAGnCC,eAAOO;AAH4B,OAApB,CAAV,GAIF,uBAAS,EAAT,EAAaN,KAAb,EAAoB;AACvBH,eAAOS,QAAQT,KADQ;AAEvBC,cAAMQ,QAAQR,IAAR,CAAaU,GAFI;AAGvBT,eAAO;AAHgB,OAApB,CAJL;AASF;AACE,aAAO,uBAAS,EAAT,EAAaC,KAAb,EAAoB;AACzBH,eAAO,IADkB;AAEzBC,cAAM,IAFmB;AAGzBC,eAAOO;AAHkB,OAApB,CAAP;AAKF;AACE,aAAOX,YAAP;AACF;AACE,aAAOK,KAAP;AAxCJ;AA0CD;AACD","file":"auth.js","sourcesContent":["import {\n  AUTH_STRATEGIES,\n  RESET_PASSWORD_COMPLETE,\n  REGISTER_COMPLETE,\n  LOGIN_COMPLETE, SET_TOKEN,\n  LOGOUT_COMPLETE,\n} from '../constants/actionTypes/auth';\n\nconst initialState = {\n  strategies: ['local'],\n  token: null,\n  user: null,\n  error: null,\n};\n\nexport default function reduce(state = initialState, action = {}) {\n  const { type, payload, error: isError } = action;\n  switch (type) {\n    case AUTH_STRATEGIES:\n      return {\n        ...state,\n        strategies: payload.strategies,\n      };\n    case RESET_PASSWORD_COMPLETE:\n      return isError ? {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: payload,\n      } : {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: null,\n      };\n    case SET_TOKEN:\n      return {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: null,\n      };\n    case LOGIN_COMPLETE:\n      return isError ? {\n        ...state,\n        token: null,\n        user: null,\n        error: payload,\n      } : {\n        ...state,\n        token: payload.token,\n        user: payload.user._id,\n        error: null,\n      };\n    case REGISTER_COMPLETE:\n      return {\n        ...state,\n        token: null,\n        user: null,\n        error: payload,\n      };\n    case LOGOUT_COMPLETE:\n      return initialState;\n    default:\n      return state;\n  }\n}\n"]}