{"version":3,"sources":["reducers/auth.js"],"names":["initialState","strategies","token","user","error","reduce","state","action","_action","type","payload","isError","AUTH_STRATEGIES","RESET_PASSWORD_COMPLETE","SET_TOKEN","LOGIN_COMPLETE","_id","REGISTER_COMPLETE","LOGOUT_COMPLETE"],"mappings":";;;;;;;AAAA;;AACA;;;;AACA,IAAIA,eAAe;AACjBC,cAAY,CAAC,OAAD,CADK;AAEjBC,SAAO,IAFU;AAGjBC,QAAM,IAHW;AAIjBC,SAAO;AAJU,CAAnB;;AAMe,SAASC,MAAT,CAAgBC,KAAhB,EAAuBC,MAAvB,EAA+B;AAC5C,MAAID,UAAU,KAAK,CAAnB,EAAsB;AACpBA,YAAQN,YAAR;AACD;;AAED,MAAIO,WAAW,KAAK,CAApB,EAAuB;AACrBA,aAAS,EAAT;AACD;;AAED,MAAIC,UAAUD,MAAd;AAAA,MACIE,OAAOD,QAAQC,IADnB;AAAA,MAEIC,UAAUF,QAAQE,OAFtB;AAAA,MAGIC,UAAUH,QAAQJ,KAHtB;;AAKA,UAAQK,IAAR;AACE,SAAKG,qBAAL;AACE,aAAO,uBAAS,EAAT,EAAaN,KAAb,EAAoB;AACzBL,oBAAYS,QAAQT;AADK,OAApB,CAAP;;AAIF,SAAKY,6BAAL;AACE,aAAOF,UAAU,uBAAS,EAAT,EAAaL,KAAb,EAAoB;AACnCJ,eAAOQ,QAAQR,KADoB;AAEnCC,cAAM,IAF6B;AAGnCC,eAAOM;AAH4B,OAApB,CAAV,GAIF,uBAAS,EAAT,EAAaJ,KAAb,EAAoB;AACvBJ,eAAOQ,QAAQR,KADQ;AAEvBC,cAAM,IAFiB;AAGvBC,eAAO;AAHgB,OAApB,CAJL;;AAUF,SAAKU,eAAL;AACE,aAAO,uBAAS,EAAT,EAAaR,KAAb,EAAoB;AACzBJ,eAAOQ,QAAQR,KADU;AAEzBC,cAAM,IAFmB;AAGzBC,eAAO;AAHkB,OAApB,CAAP;;AAMF,SAAKW,oBAAL;AACE,aAAOJ,UAAU,uBAAS,EAAT,EAAaL,KAAb,EAAoB;AACnCJ,eAAO,IAD4B;AAEnCC,cAAM,IAF6B;AAGnCC,eAAOM;AAH4B,OAApB,CAAV,GAIF,uBAAS,EAAT,EAAaJ,KAAb,EAAoB;AACvBJ,eAAOQ,QAAQR,KADQ;AAEvBC,cAAMO,QAAQP,IAAR,CAAaa,GAFI;AAGvBZ,eAAO;AAHgB,OAApB,CAJL;;AAUF,SAAKa,uBAAL;AACE,aAAO,uBAAS,EAAT,EAAaX,KAAb,EAAoB;AACzBJ,eAAO,IADkB;AAEzBC,cAAM,IAFmB;AAGzBC,eAAOM;AAHkB,OAApB,CAAP;;AAMF,SAAKQ,qBAAL;AACE,aAAOlB,YAAP;;AAEF;AACE,aAAOM,KAAP;AA9CJ;AAgDD,C,CACD","file":"auth.js","sourcesContent":["import {\n  AUTH_STRATEGIES,\n  RESET_PASSWORD_COMPLETE,\n  REGISTER_COMPLETE,\n  LOGIN_COMPLETE, SET_TOKEN,\n  LOGOUT_COMPLETE,\n} from '../constants/actionTypes/auth';\n\nconst initialState = {\n  strategies: ['local'],\n  token: null,\n  user: null,\n  error: null,\n};\n\nexport default function reduce(state = initialState, action = {}) {\n  const { type, payload, error: isError } = action;\n  switch (type) {\n    case AUTH_STRATEGIES:\n      return {\n        ...state,\n        strategies: payload.strategies,\n      };\n    case RESET_PASSWORD_COMPLETE:\n      return isError ? {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: payload,\n      } : {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: null,\n      };\n    case SET_TOKEN:\n      return {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: null,\n      };\n    case LOGIN_COMPLETE:\n      return isError ? {\n        ...state,\n        token: null,\n        user: null,\n        error: payload,\n      } : {\n        ...state,\n        token: payload.token,\n        user: payload.user._id,\n        error: null,\n      };\n    case REGISTER_COMPLETE:\n      return {\n        ...state,\n        token: null,\n        user: null,\n        error: payload,\n      };\n    case LOGOUT_COMPLETE:\n      return initialState;\n    default:\n      return state;\n  }\n}\n"]}