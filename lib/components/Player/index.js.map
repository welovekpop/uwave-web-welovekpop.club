{"version":3,"sources":["components/Player/index.js"],"names":["enhance","_ref","className","Player","_React$Component","apply","arguments","_proto","prototype","shouldComponentUpdate","nextProps","props","render","_props","getAllMediaSources","enabled","size","volume","isMuted","media","seek","mode","sources","players","Object","keys","map","sourceType","SourcePlayer","React","createElement","key","active","filter","player","Component","propTypes","process","env","NODE_ENV","PropTypes","func","isRequired","bool","string","number","object"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA,IAAIA,UAAU,kCAAd;;AAEA,IAAIC;AACJ;AACA,mBAAK,KAAL,EAAY;AACVC,aAAW;AADD,CAAZ,CAFA;;AAMA,IAAIC;AACJ;AACA,UAAUC,gBAAV,EAA4B;AAC1B,+BAAeD,MAAf,EAAuBC,gBAAvB;;AAEA,WAASD,MAAT,GAAkB;AAChB,WAAOC,iBAAiBC,KAAjB,CAAuB,IAAvB,EAA6BC,SAA7B,KAA2C,IAAlD;AACD;;AAED,MAAIC,SAASJ,OAAOK,SAApB;;AAEAD,SAAOE,qBAAP,GAA+B,SAASA,qBAAT,CAA+BC,SAA/B,EAA0C;AACvE,WAAO,CAAC,6BAAQA,SAAR,EAAmB,KAAKC,KAAxB,CAAR;AACD,GAFD;;AAIAJ,SAAOK,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,QAAIC,SAAS,KAAKF,KAAlB;AAAA,QACIG,qBAAqBD,OAAOC,kBADhC;AAAA,QAEIC,UAAUF,OAAOE,OAFrB;AAAA,QAGIC,OAAOH,OAAOG,IAHlB;AAAA,QAIIC,SAASJ,OAAOI,MAJpB;AAAA,QAKIC,UAAUL,OAAOK,OALrB;AAAA,QAMIC,QAAQN,OAAOM,KANnB;AAAA,QAOIC,OAAOP,OAAOO,IAPlB;;AASA,QAAI,CAACD,KAAL,EAAY;AACV,aAAOlB,IAAP;AACD;;AAED,QAAIU,QAAQ;AACVI,eAASA,OADC;AAEVI,aAAOA,KAFG;AAGVC,YAAMA,IAHI;AAIVC,YAAML,IAJI;AAKVC,cAAQC,UAAU,CAAV,GAAcD;AALZ,KAAZ;AAOA,QAAIK,UAAUR,oBAAd;AACA,QAAIS,UAAUC,OAAOC,IAAP,CAAYH,OAAZ,EAAqBI,GAArB,CAAyB,UAAUC,UAAV,EAAsB;AAC3D,UAAIC,eAAeN,QAAQK,UAAR,EAAoBxB,MAAvC;;AAEA,UAAI,CAACyB,YAAL,EAAmB;AACjB,eAAO,IAAP;AACD;;AAED,aAAOC,eAAMC,aAAN,CAAoBF,YAApB,EAAkC,uBAAS;AAChDG,aAAKJ;AAD2C,OAAT,EAEtChB,KAFsC,EAE/B;AACRqB,gBAAQb,MAAMQ,UAAN,KAAqBA;AADrB,OAF+B,CAAlC,CAAP;AAKD,KAZa,EAYXM,MAZW,CAYJ,UAAUC,MAAV,EAAkB;AAC1B,aAAOA,WAAW,IAAlB;AACD,KAda,CAAd;AAeA,WAAO,mBAAK,KAAL,EAAY;AACjBhC,iBAAW,yBAAG,QAAH,EAAa,aAAaiB,MAAMQ,UAAhC,EAA4C,aAAaX,IAAzD;AADM,KAAZ,EAEJ,KAAK,CAFD,EAEIO,OAFJ,CAAP;AAGD,GAxCD;;AA0CA,SAAOpB,MAAP;AACD,CAxDD,CAwDE0B,eAAMM,SAxDR,CAFA;;AA4DAhC,OAAOiC,SAAP,GAAmBC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC;AACzDzB,sBAAoB0B,mBAAUC,IAAV,CAAeC,UADsB;AAEzD3B,WAASyB,mBAAUG,IAFsC;AAGzD3B,QAAMwB,mBAAUI,MAHyC;AAIzD3B,UAAQuB,mBAAUK,MAJuC;AAKzD3B,WAASsB,mBAAUG,IALsC;AAMzDxB,SAAOqB,mBAAUM,MANwC;AAOzD1B,QAAMoB,mBAAUK;AAPyC,CAAxC,GAQf,EARJ;;eASe7C,QAAQG,MAAR,C,EACf","file":"index.js","sourcesContent":["import cx from 'classnames';\nimport isEqual from 'is-equal-shallow';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport injectMediaSources from '../../utils/injectMediaSources';\n\nconst enhance = injectMediaSources();\n\nclass Player extends React.Component {\n  static propTypes = {\n    getAllMediaSources: PropTypes.func.isRequired,\n    enabled: PropTypes.bool,\n    size: PropTypes.string,\n    volume: PropTypes.number,\n    isMuted: PropTypes.bool,\n    media: PropTypes.object,\n    seek: PropTypes.number,\n  };\n\n  shouldComponentUpdate(nextProps) {\n    return !isEqual(nextProps, this.props);\n  }\n\n  render() {\n    const {\n      getAllMediaSources,\n      enabled,\n      size,\n      volume,\n      isMuted,\n      media,\n      seek,\n    } = this.props;\n\n    if (!media) {\n      return <div className=\"Player\" />;\n    }\n\n    const props = {\n      enabled,\n      media,\n      seek,\n      mode: size,\n      volume: isMuted ? 0 : volume,\n    };\n\n    const sources = getAllMediaSources();\n    const players = Object.keys(sources).map((sourceType) => {\n      const SourcePlayer = sources[sourceType].Player;\n      if (!SourcePlayer) {\n        return null;\n      }\n      return (\n        <SourcePlayer\n          key={sourceType}\n          {...props}\n          active={media.sourceType === sourceType}\n        />\n      );\n    }).filter(player => player !== null);\n\n    return (\n      <div className={cx('Player', `Player--${media.sourceType}`, `Player--${size}`)}>\n        {players}\n      </div>\n    );\n  }\n}\n\nexport default enhance(Player);\n"]}