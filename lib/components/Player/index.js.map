{"version":3,"sources":["components/Player/index.js"],"names":["enhance","_ref","className","Player","_React$Component","apply","arguments","_proto","prototype","shouldComponentUpdate","nextProps","props","render","_this$props","getAllMediaSources","enabled","size","volume","isMuted","media","seek","onPlay","mode","sources","players","Object","keys","map","sourceType","SourcePlayer","React","createElement","key","active","filter","player","Component","propTypes","process","env","NODE_ENV","PropTypes","func","isRequired","bool","string","number","object"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA,IAAIA,UAAU,kCAAd;;AAEA,IAAIC;AACJ;AACA,mBAAK,KAAL,EAAY;AACVC,aAAW;AADD,CAAZ,CAFA;;AAMA,IAAIC;AACJ;AACA,UAAUC,gBAAV,EAA4B;AAC1B,+BAAeD,MAAf,EAAuBC,gBAAvB;;AAEA,WAASD,MAAT,GAAkB;AAChB,WAAOC,iBAAiBC,KAAjB,CAAuB,IAAvB,EAA6BC,SAA7B,KAA2C,IAAlD;AACD;;AAED,MAAIC,SAASJ,OAAOK,SAApB;;AAEAD,SAAOE,qBAAP,GAA+B,SAASA,qBAAT,CAA+BC,SAA/B,EAA0C;AACvE,WAAO,CAAC,6BAAQA,SAAR,EAAmB,KAAKC,KAAxB,CAAR;AACD,GAFD;;AAIAJ,SAAOK,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,QAAIC,cAAc,KAAKF,KAAvB;AAAA,QACIG,qBAAqBD,YAAYC,kBADrC;AAAA,QAEIC,UAAUF,YAAYE,OAF1B;AAAA,QAGIC,OAAOH,YAAYG,IAHvB;AAAA,QAIIC,SAASJ,YAAYI,MAJzB;AAAA,QAKIC,UAAUL,YAAYK,OAL1B;AAAA,QAMIC,QAAQN,YAAYM,KANxB;AAAA,QAOIC,OAAOP,YAAYO,IAPvB;AAAA,QAQIC,SAASR,YAAYQ,MARzB;;AAUA,QAAI,CAACF,KAAL,EAAY;AACV,aAAOlB,IAAP;AACD;;AAED,QAAIU,QAAQ;AACVI,eAASA,OADC;AAEVI,aAAOA,KAFG;AAGVC,YAAMA,IAHI;AAIVE,YAAMN,IAJI;AAKVC,cAAQC,UAAU,CAAV,GAAcD,MALZ;AAMVI,cAAQA;AANE,KAAZ;AAQA,QAAIE,UAAUT,oBAAd;AACA,QAAIU,UAAUC,OAAOC,IAAP,CAAYH,OAAZ,EAAqBI,GAArB,CAAyB,UAAUC,UAAV,EAAsB;AAC3D,UAAIC,eAAeN,QAAQK,UAAR,EAAoBzB,MAAvC;;AAEA,UAAI,CAAC0B,YAAL,EAAmB;AACjB,eAAO,IAAP;AACD;;AAED,aAAOC,eAAMC,aAAN,CAAoBF,YAApB,EAAkC,uBAAS;AAChDG,aAAKJ;AAD2C,OAAT,EAEtCjB,KAFsC,EAE/B;AACRsB,gBAAQd,MAAMS,UAAN,KAAqBA;AADrB,OAF+B,CAAlC,CAAP;AAKD,KAZa,EAYXM,MAZW,CAYJ,UAAUC,MAAV,EAAkB;AAC1B,aAAOA,WAAW,IAAlB;AACD,KAda,CAAd;AAeA,WAAO,mBAAK,KAAL,EAAY;AACjBjC,iBAAW,yBAAG,QAAH,EAAa,aAAaiB,MAAMS,UAAhC,EAA4C,aAAaZ,IAAzD;AADM,KAAZ,EAEJ,KAAK,CAFD,EAEIQ,OAFJ,CAAP;AAGD,GA1CD;;AA4CA,SAAOrB,MAAP;AACD,CA1DD,CA0DE2B,eAAMM,SA1DR,CAFA;;AA8DAjC,OAAOkC,SAAP,GAAmBC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC;AACzD1B,sBAAoB2B,mBAAUC,IAAV,CAAeC,UADsB;AAEzD5B,WAAS0B,mBAAUG,IAFsC;AAGzD5B,QAAMyB,mBAAUI,MAHyC;AAIzD5B,UAAQwB,mBAAUK,MAJuC;AAKzD5B,WAASuB,mBAAUG,IALsC;AAMzDzB,SAAOsB,mBAAUM,MANwC;AAOzD3B,QAAMqB,mBAAUK,MAPyC;AAQzDzB,UAAQoB,mBAAUC;AARuC,CAAxC,GASf,EATJ;;eAUe1C,QAAQG,MAAR,C","file":"index.js","sourcesContent":["import cx from 'classnames';\nimport isEqual from 'is-equal-shallow';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport injectMediaSources from '../../utils/injectMediaSources';\n\nconst enhance = injectMediaSources();\n\nclass Player extends React.Component {\n  static propTypes = {\n    getAllMediaSources: PropTypes.func.isRequired,\n    enabled: PropTypes.bool,\n    size: PropTypes.string,\n    volume: PropTypes.number,\n    isMuted: PropTypes.bool,\n    media: PropTypes.object,\n    seek: PropTypes.number,\n    onPlay: PropTypes.func,\n  };\n\n  shouldComponentUpdate(nextProps) {\n    return !isEqual(nextProps, this.props);\n  }\n\n  render() {\n    const {\n      getAllMediaSources,\n      enabled,\n      size,\n      volume,\n      isMuted,\n      media,\n      seek,\n      onPlay,\n    } = this.props;\n\n    if (!media) {\n      return <div className=\"Player\" />;\n    }\n\n    const props = {\n      enabled,\n      media,\n      seek,\n      mode: size,\n      volume: isMuted ? 0 : volume,\n      onPlay,\n    };\n\n    const sources = getAllMediaSources();\n    const players = Object.keys(sources).map((sourceType) => {\n      const SourcePlayer = sources[sourceType].Player;\n      if (!SourcePlayer) {\n        return null;\n      }\n      return (\n        <SourcePlayer\n          key={sourceType}\n          {...props}\n          active={media.sourceType === sourceType}\n        />\n      );\n    }).filter(player => player !== null);\n\n    return (\n      <div className={cx('Player', `Player--${media.sourceType}`, `Player--${size}`)}>\n        {players}\n      </div>\n    );\n  }\n}\n\nexport default enhance(Player);\n"]}