{"version":3,"sources":["components/Player/index.js"],"names":["enhance","_ref","className","Player","_React$Component","apply","arguments","prototype","shouldComponentUpdate","nextProps","props","render","_props","getAllMediaSources","enabled","size","volume","isMuted","media","seek","mode","sources","players","Object","keys","map","sourceType","SourcePlayer","createElement","key","active","filter","player","Component","propTypes","process","env","NODE_ENV","func","isRequired","bool","string","number","object"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAIA,UAAU,mCAAd;;AAEA,IAAIC,OAAO,mBAAK,KAAL,EAAY;AACrBC,aAAW;AADU,CAAZ,CAAX;;AAIA,IAAIC,SAAS,UAAUC,gBAAV,EAA4B;AACvC,0BAAUD,MAAV,EAAkBC,gBAAlB;;AAEA,WAASD,MAAT,GAAkB;AAChB,kCAAgB,IAAhB,EAAsBA,MAAtB;;AAEA,WAAO,yCAA2B,IAA3B,EAAiCC,iBAAiBC,KAAjB,CAAuB,IAAvB,EAA6BC,SAA7B,CAAjC,CAAP;AACD;;AAEDH,SAAOI,SAAP,CAAiBC,qBAAjB,GAAyC,SAASA,qBAAT,CAA+BC,SAA/B,EAA0C;AACjF,WAAO,CAAC,8BAAQA,SAAR,EAAmB,KAAKC,KAAxB,CAAR;AACD,GAFD;;AAIAP,SAAOI,SAAP,CAAiBI,MAAjB,GAA0B,SAASA,MAAT,GAAkB;AAC1C,QAAIC,SAAS,KAAKF,KAAlB;AAAA,QACIG,qBAAqBD,OAAOC,kBADhC;AAAA,QAEIC,UAAUF,OAAOE,OAFrB;AAAA,QAGIC,OAAOH,OAAOG,IAHlB;AAAA,QAIIC,SAASJ,OAAOI,MAJpB;AAAA,QAKIC,UAAUL,OAAOK,OALrB;AAAA,QAMIC,QAAQN,OAAOM,KANnB;AAAA,QAOIC,OAAOP,OAAOO,IAPlB;;AAUA,QAAI,CAACD,KAAL,EAAY;AACV,aAAOjB,IAAP;AACD;;AAED,QAAIS,QAAQ;AACVI,eAASA,OADC;AAEVI,aAAOA,KAFG;AAGVC,YAAMA,IAHI;AAIVC,YAAML,IAJI;AAKVC,cAAQC,UAAU,CAAV,GAAcD;AALZ,KAAZ;;AAQA,QAAIK,UAAUR,oBAAd;AACA,QAAIS,UAAUC,OAAOC,IAAP,CAAYH,OAAZ,EAAqBI,GAArB,CAAyB,UAAUC,UAAV,EAAsB;AAC3D,UAAIC,eAAeN,QAAQK,UAAR,EAAoBvB,MAAvC;AACA,UAAI,CAACwB,YAAL,EAAmB;AACjB,eAAO,IAAP;AACD;AACD,aAAO,gBAAMC,aAAN,CAAoBD,YAApB,EAAkC,uBAAS;AAChDE,aAAKH;AAD2C,OAAT,EAEtChB,KAFsC,EAE/B;AACRoB,gBAAQZ,MAAMQ,UAAN,KAAqBA;AADrB,OAF+B,CAAlC,CAAP;AAKD,KAVa,EAUXK,MAVW,CAUJ,UAAUC,MAAV,EAAkB;AAC1B,aAAOA,WAAW,IAAlB;AACD,KAZa,CAAd;;AAcA,WAAO,mBAAK,KAAL,EAAY;AACjB9B,iBAAW,0BAAG,QAAH,EAAa,aAAagB,MAAMQ,UAAhC,EAA4C,aAAaX,IAAzD;AADM,KAAZ,EAEJ,KAAK,CAFD,EAEIO,OAFJ,CAAP;AAGD,GAzCD;;AA2CA,SAAOnB,MAAP;AACD,CAzDY,CAyDX,gBAAM8B,SAzDK,CAAb;;AA2DA9B,OAAO+B,SAAP,GAAmBC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC;AACzDxB,sBAAoB,oBAAUyB,IAAV,CAAeC,UADsB;AAEzDzB,WAAS,oBAAU0B,IAFsC;AAGzDzB,QAAM,oBAAU0B,MAHyC;AAIzDzB,UAAQ,oBAAU0B,MAJuC;AAKzDzB,WAAS,oBAAUuB,IALsC;AAMzDtB,SAAO,oBAAUyB,MANwC;AAOzDxB,QAAM,oBAAUuB;AAPyC,CAAxC,GAQf,EARJ;;kBAWe1C,QAAQG,MAAR,C;AACf","file":"index.js","sourcesContent":["import cx from 'classnames';\nimport isEqual from 'is-equal-shallow';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport injectMediaSources from '../../utils/injectMediaSources';\n\nconst enhance = injectMediaSources();\n\nclass Player extends React.Component {\n  static propTypes = {\n    getAllMediaSources: PropTypes.func.isRequired,\n    enabled: PropTypes.bool,\n    size: PropTypes.string,\n    volume: PropTypes.number,\n    isMuted: PropTypes.bool,\n    media: PropTypes.object,\n    seek: PropTypes.number,\n  };\n\n  shouldComponentUpdate(nextProps) {\n    return !isEqual(nextProps, this.props);\n  }\n\n  render() {\n    const {\n      getAllMediaSources,\n      enabled,\n      size,\n      volume,\n      isMuted,\n      media,\n      seek,\n    } = this.props;\n\n    if (!media) {\n      return <div className=\"Player\" />;\n    }\n\n    const props = {\n      enabled,\n      media,\n      seek,\n      mode: size,\n      volume: isMuted ? 0 : volume,\n    };\n\n    const sources = getAllMediaSources();\n    const players = Object.keys(sources).map((sourceType) => {\n      const SourcePlayer = sources[sourceType].Player;\n      if (!SourcePlayer) {\n        return null;\n      }\n      return (\n        <SourcePlayer\n          key={sourceType}\n          {...props}\n          active={media.sourceType === sourceType}\n        />\n      );\n    }).filter(player => player !== null);\n\n    return (\n      <div className={cx('Player', `Player--${media.sourceType}`, `Player--${size}`)}>\n        {players}\n      </div>\n    );\n  }\n}\n\nexport default enhance(Player);\n"]}