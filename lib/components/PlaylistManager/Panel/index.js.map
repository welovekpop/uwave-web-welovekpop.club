{"version":3,"sources":["components/PlaylistManager/Panel/index.js"],"names":["makeActions","_ref","onOpenAddMediaMenu","onMoveToFirst","onEditMedia","onRemoveFromPlaylist","isFiltered","media","selection","index","onAdd","position","onFirst","onEdit","onRemove","_ref2","className","size","PlaylistPanel","props","playlist","loading","onShufflePlaylist","onActivatePlaylist","onRenamePlaylist","onDeletePlaylist","onNotDeletable","onLoadPlaylistPage","onFilterPlaylistItems","onMoveMedia","onOpenPreviewMediaDialog","list","length","rowComponent","rowProps","onRequestPage","id","_id","name","active","onFilter","propTypes","process","env","NODE_ENV","string","object","isRequired","array","bool","func"],"mappings":"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","file":"index.js","sourcesContent":["import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport MediaList from '../../MediaList';\nimport Loader from '../../Loader';\n\nimport PlaylistMeta from './Meta';\nimport PlainItemRow from '../../MediaList/Row';\nimport PlaylistItemRow from './PlaylistItemRow';\n\nimport AddToPlaylistAction from '../../MediaList/Actions/AddToPlaylist';\nimport RemoveFromPlaylistAction from '../../MediaList/Actions/RemoveFromPlaylist';\nimport EditMediaAction from '../../MediaList/Actions/EditMedia';\nimport MoveToFirstAction from '../../MediaList/Actions/MoveToFirst';\n\nconst makeActions = ({\n  onOpenAddMediaMenu,\n  onMoveToFirst,\n  onEditMedia,\n  onRemoveFromPlaylist,\n  isFiltered\n}) =>\n  (media, selection, index) => [\n    <AddToPlaylistAction\n      key=\"add\"\n      onAdd={position => onOpenAddMediaMenu(position, media, selection)}\n    />,\n    // Don't show the \"move to first\" action on the first item in the playlist.\n    // If the playlist is filtered we don't know if the first item to show is\n    // also the first in the playlist, so just show it always in that case.\n    (index > 0 || isFiltered) && (\n      <MoveToFirstAction\n        key=\"first\"\n        onFirst={() => onMoveToFirst(media, selection)}\n      />\n    ),\n    <EditMediaAction\n      key=\"edit\"\n      onEdit={() => onEditMedia(media)}\n    />,\n    <RemoveFromPlaylistAction\n      key=\"remove\"\n      onRemove={() => onRemoveFromPlaylist(media, selection)}\n    />\n  ];\n\nconst PlaylistPanel = (props) => {\n  const {\n    className,\n    playlist,\n    media,\n    loading,\n    isFiltered,\n    onShufflePlaylist,\n    onActivatePlaylist,\n    onRenamePlaylist,\n    onDeletePlaylist,\n    onNotDeletable,\n    onLoadPlaylistPage,\n    onFilterPlaylistItems,\n    onMoveMedia,\n    onOpenPreviewMediaDialog\n  } = props;\n\n  let list;\n  if (loading) {\n    list = (\n      <div className=\"PlaylistPanel-loading\">\n        <Loader size=\"large\" />\n      </div>\n    );\n  } else {\n    list = (\n      <MediaList\n        className=\"PlaylistPanel-media\"\n        size={media.length}\n        media={media}\n        rowComponent={isFiltered ? PlainItemRow : PlaylistItemRow}\n        rowProps={{ onMoveMedia }}\n        onOpenPreviewMediaDialog={onOpenPreviewMediaDialog}\n        makeActions={makeActions(props)}\n        onRequestPage={onLoadPlaylistPage}\n      />\n    );\n  }\n\n  return (\n    <div className={cx('PlaylistPanel', className)}>\n      <PlaylistMeta\n        className=\"PlaylistPanel-meta\"\n        id={playlist._id}\n        name={playlist.name}\n        active={playlist.active}\n        onShufflePlaylist={onShufflePlaylist}\n        onActivatePlaylist={onActivatePlaylist}\n        onRenamePlaylist={onRenamePlaylist}\n        onDeletePlaylist={onDeletePlaylist}\n        onNotDeletable={onNotDeletable}\n        onFilter={onFilterPlaylistItems}\n      />\n      {list}\n    </div>\n  );\n};\n\nPlaylistPanel.propTypes = {\n  className: PropTypes.string,\n  playlist: PropTypes.object.isRequired,\n  media: PropTypes.array.isRequired,\n  loading: PropTypes.bool.isRequired,\n  isFiltered: PropTypes.bool.isRequired,\n  onShufflePlaylist: PropTypes.func.isRequired,\n  onActivatePlaylist: PropTypes.func.isRequired,\n  onRenamePlaylist: PropTypes.func.isRequired,\n  onDeletePlaylist: PropTypes.func.isRequired,\n  onLoadPlaylistPage: PropTypes.func.isRequired,\n  onFilterPlaylistItems: PropTypes.func.isRequired,\n  onNotDeletable: PropTypes.func.isRequired,\n  onMoveMedia: PropTypes.func.isRequired,\n  onOpenPreviewMediaDialog: PropTypes.func.isRequired\n};\n\nexport default PlaylistPanel;\n"]}