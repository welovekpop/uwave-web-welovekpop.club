{"version":3,"sources":["components/WaitList/ModRow.js"],"names":["userTarget","hover","props","monitor","component","setState","insertAbove","drop","insertAfter","position","collect","connect","connectDropTarget","dropTarget","isOver","_ref","className","ModRow","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","state","prototype","render","_props","dropIndicator","createElement","Component","propTypes","process","env","NODE_ENV","func","isRequired","bool"],"mappings":"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","file":"ModRow.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { DropTarget } from 'react-dnd';\nimport { WAITLIST_USER } from '../../constants/DDItemTypes';\nimport isDraggingNearTopOfRow from '../../utils/isDraggingNearTopOfRow';\n\nimport ModRowBase from './ModRowBase';\n\nconst userTarget = {\n  hover(props, monitor, component) {\n    component.setState({\n      insertAbove: isDraggingNearTopOfRow(monitor, component),\n    });\n  },\n  drop(props, monitor, component) {\n    const insertAfter = !isDraggingNearTopOfRow(monitor, component);\n    const { position } = component.props;\n    return { position: insertAfter ? position + 1 : position };\n  },\n};\n\nconst collect = (connect, monitor) => ({\n  connectDropTarget: connect.dropTarget(),\n  isOver: monitor.isOver(),\n});\n\n/**\n * A Waitlist user row with drag/drop reordering support. This draws a drop\n * indicator around the main row.\n */\nclass ModRow extends React.Component {\n  static propTypes = {\n    connectDropTarget: PropTypes.func.isRequired,\n    isOver: PropTypes.bool.isRequired,\n  };\n\n  state = {\n    insertAbove: false,\n  };\n\n  render() {\n    const {\n      connectDropTarget,\n      isOver,\n      ...props\n    } = this.props;\n    const { insertAbove } = this.state;\n\n    const dropIndicator = <div className=\"WaitlistRow-drop-indicator\" />;\n\n    return connectDropTarget((\n      <div>\n        {isOver && insertAbove && dropIndicator}\n        <ModRowBase {...props} />\n        {isOver && !insertAbove && dropIndicator}\n      </div>\n    ));\n  }\n}\n\nexport default DropTarget(WAITLIST_USER, userTarget, collect)(ModRow);\n"]}