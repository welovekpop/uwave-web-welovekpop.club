{"version":3,"sources":["components/WaitList/ModRow.js"],"names":["userTarget","hover","props","monitor","component","setState","insertAbove","drop","insertAfter","position","collect","connect","connectDropTarget","dropTarget","isOver","_ref","className","ModRow","_React$Component","_temp","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","_proto","prototype","render","_props","dropIndicator","React","createElement","ModRowBase","Component","propTypes","process","env","NODE_ENV","PropTypes","func","isRequired","bool","WAITLIST_USER"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA,IAAIA,aAAa;AACfC,SAAO,SAASA,KAAT,CAAeC,KAAf,EAAsBC,OAAtB,EAA+BC,SAA/B,EAA0C;AAC/CA,cAAUC,QAAV,CAAmB;AACjBC,mBAAa,qCAAuBH,OAAvB,EAAgCC,SAAhC;AADI,KAAnB;AAGD,GALc;AAMfG,QAAM,SAASA,IAAT,CAAcL,KAAd,EAAqBC,OAArB,EAA8BC,SAA9B,EAAyC;AAC7C,QAAII,cAAc,CAAC,qCAAuBL,OAAvB,EAAgCC,SAAhC,CAAnB;AACA,QAAIK,WAAWL,UAAUF,KAAV,CAAgBO,QAA/B;AACA,WAAO;AACLA,gBAAUD,cAAcC,WAAW,CAAzB,GAA6BA;AADlC,KAAP;AAGD;AAZc,CAAjB;;AAeA,IAAIC,UAAU,SAASA,OAAT,CAAiBC,OAAjB,EAA0BR,OAA1B,EAAmC;AAC/C,SAAO;AACLS,uBAAmBD,QAAQE,UAAR,EADd;AAELC,YAAQX,QAAQW,MAAR;AAFH,GAAP;AAID,CALD;AAMA;;;;;;AAMA,IAAIC;AACJ;AACA,mBAAK,KAAL,EAAY;AACVC,aAAW;AADD,CAAZ,CAFA;;AAMA,IAAIC;AACJ;AACA,UAAUC,gBAAV,EAA4B;AAC1B,+BAAeD,MAAf,EAAuBC,gBAAvB;;AAEA,WAASD,MAAT,GAAkB;AAChB,QAAIE,KAAJ,EAAWC,KAAX;;AAEA,SAAK,IAAIC,OAAOC,UAAUC,MAArB,EAA6BC,OAAO,IAAIC,KAAJ,CAAUJ,IAAV,CAApC,EAAqDK,OAAO,CAAjE,EAAoEA,OAAOL,IAA3E,EAAiFK,MAAjF,EAAyF;AACvFF,WAAKE,IAAL,IAAaJ,UAAUI,IAAV,CAAb;AACD;;AAED,WAAO,CAACP,QAAQC,QAAQF,iBAAiBS,IAAjB,CAAsBC,KAAtB,CAA4BV,gBAA5B,EAA8C,CAAC,IAAD,EAAOW,MAAP,CAAcL,IAAd,CAA9C,KAAsE,IAAtF,EAA4FJ,MAAMU,KAAN,GAAc;AAChHxB,mBAAa;AADmG,KAA1G,EAELa,KAFI,KAEM,qCAAuBC,KAAvB,CAFb;AAGD;;AAED,MAAIW,SAASd,OAAOe,SAApB;;AAEAD,SAAOE,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,QAAIC,SAAS,KAAKhC,KAAlB;AAAA,QACIU,oBAAoBsB,OAAOtB,iBAD/B;AAAA,QAEIE,SAASoB,OAAOpB,MAFpB;AAAA,QAGIZ,QAAQ,uCAAyBgC,MAAzB,EAAiC,CAAC,mBAAD,EAAsB,QAAtB,CAAjC,CAHZ;AAKA,QAAI5B,cAAc,KAAKwB,KAAL,CAAWxB,WAA7B;AACA,QAAI6B,gBAAgBpB,IAApB;AACA,WAAOH,kBAAkB,mBAAK,KAAL,EAAY,EAAZ,EAAgB,KAAK,CAArB,EAAwBE,UAAUR,WAAV,IAAyB6B,aAAjD,EAAgEC,eAAMC,aAAN,CAAoBC,mBAApB,EAAgCpC,KAAhC,CAAhE,EAAwGY,UAAU,CAACR,WAAX,IAA0B6B,aAAlI,CAAlB,CAAP;AACD,GATD;;AAWA,SAAOlB,MAAP;AACD,CA7BD,CA6BEmB,eAAMG,SA7BR,CAFA;;AAiCAtB,OAAOuB,SAAP,GAAmBC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC;AACzD/B,qBAAmBgC,mBAAUC,IAAV,CAAeC,UADuB;AAEzDhC,UAAQ8B,mBAAUG,IAAV,CAAeD;AAFkC,CAAxC,GAGf,EAHJ;;eAIe,0BAAWE,0BAAX,EAA0BhD,UAA1B,EAAsCU,OAAtC,EAA+CO,MAA/C,C,EACf","file":"ModRow.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { DropTarget } from 'react-dnd';\nimport { WAITLIST_USER } from '../../constants/DDItemTypes';\nimport isDraggingNearTopOfRow from '../../utils/isDraggingNearTopOfRow';\n\nimport ModRowBase from './ModRowBase';\n\nconst userTarget = {\n  hover(props, monitor, component) {\n    component.setState({\n      insertAbove: isDraggingNearTopOfRow(monitor, component),\n    });\n  },\n  drop(props, monitor, component) {\n    const insertAfter = !isDraggingNearTopOfRow(monitor, component);\n    const { position } = component.props;\n    return { position: insertAfter ? position + 1 : position };\n  },\n};\n\nconst collect = (connect, monitor) => ({\n  connectDropTarget: connect.dropTarget(),\n  isOver: monitor.isOver(),\n});\n\n/**\n * A Waitlist user row with drag/drop reordering support. This draws a drop\n * indicator around the main row.\n */\nclass ModRow extends React.Component {\n  static propTypes = {\n    connectDropTarget: PropTypes.func.isRequired,\n    isOver: PropTypes.bool.isRequired,\n  };\n\n  state = {\n    insertAbove: false,\n  };\n\n  render() {\n    const {\n      connectDropTarget,\n      isOver,\n      ...props\n    } = this.props;\n    const { insertAbove } = this.state;\n\n    const dropIndicator = <div className=\"WaitlistRow-drop-indicator\" />;\n\n    return connectDropTarget((\n      <div>\n        {isOver && insertAbove && dropIndicator}\n        <ModRowBase {...props} />\n        {isOver && !insertAbove && dropIndicator}\n      </div>\n    ));\n  }\n}\n\nexport default DropTarget(WAITLIST_USER, userTarget, collect)(ModRow);\n"]}