{"version":3,"sources":["components/WaitList/ModRowBase.js"],"names":["userSource","beginDrag","props","user","endDrag","monitor","result","getDropResult","item","getItem","onMoveUser","position","collect","connect","isDragging","connectDragSource","dragSource","connectDragPreview","dragPreview","_ref2","className","DragIcon","_ref3","RemoveIcon","ModRowBase","_ref","onOpenCard","onRemoveUser","Position","onClick","Avatar","Username","propTypes","process","env","NODE_ENV","PropTypes","string","number","isRequired","object","func","WAITLIST_USER","event","preventDefault","openUserCard"],"mappings":"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","file":"ModRowBase.js","sourcesContent":["import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'recompose/compose';\nimport withProps from 'recompose/withProps';\nimport { DragSource } from 'react-dnd';\nimport DragIcon from '@material-ui/icons/DragHandle';\nimport RemoveIcon from '@material-ui/icons/Close';\nimport { WAITLIST_USER } from '../../constants/DDItemTypes';\nimport userCardable from '../../utils/userCardable';\nimport Avatar from '../Avatar';\nimport Username from '../Username';\nimport Position from './Position';\n\nconst userSource = {\n  beginDrag(props) {\n    return { user: props.user };\n  },\n  endDrag(props, monitor) {\n    const result = monitor.getDropResult();\n    const item = monitor.getItem();\n    if (item.user && result) {\n      props.onMoveUser(result.position);\n    }\n  },\n};\n\nconst collect = (connect, monitor) => ({\n  isDragging: monitor.isDragging(),\n  connectDragSource: connect.dragSource(),\n  connectDragPreview: connect.dragPreview(),\n});\n\n/**\n * A Draggable waitlist user row with moderation tools.\n */\nconst ModRowBase = ({\n  className,\n  position,\n  user,\n  isDragging,\n  connectDragPreview,\n  connectDragSource,\n  onOpenCard,\n  onRemoveUser,\n}) => connectDragPreview((\n  <div\n    className={cx(\n      'UserRow',\n      'WaitlistRow',\n      'WaitlistRow--moderate',\n      isDragging && 'is-dragging',\n      className,\n    )}\n  >\n    <Position position={position + 1} />\n    <button\n      className=\"WaitlistRow-card\"\n      onClick={onOpenCard}\n    >\n      <Avatar\n        className=\"UserRow-avatar\"\n        user={user}\n      />\n      <Username className=\"UserRow-username\" user={user} />\n    </button>\n    <div className=\"WaitlistRow-tools\">\n      {connectDragSource((\n        <div className=\"WaitlistRow-tool WaitlistRow-handle\">\n          <DragIcon />\n        </div>\n      ))}\n      <button\n        className=\"WaitlistRow-tool WaitlistRow-remove\"\n        onClick={onRemoveUser}\n      >\n        <RemoveIcon />\n      </button>\n    </div>\n  </div>\n));\n\nModRowBase.propTypes = {\n  className: PropTypes.string,\n  position: PropTypes.number.isRequired,\n  user: PropTypes.object.isRequired,\n  connectDragPreview: PropTypes.func.isRequired,\n  connectDragSource: PropTypes.func.isRequired,\n  onMoveUser: PropTypes.func.isRequired,\n  onRemoveUser: PropTypes.func.isRequired,\n};\n\nexport default compose(\n  DragSource(WAITLIST_USER, userSource, collect),\n  userCardable(),\n  withProps(props => ({\n    onOpenCard(event) {\n      event.preventDefault();\n      props.openUserCard(props.user);\n    },\n  })),\n)(ModRowBase);\n"]}