{"version":3,"sources":["components/SettingsManager/ChangeUsernameButton.js"],"names":["enhance","_ref","EditIcon","className","_ref2","nativeColor","ChangeUsernameButton","_React$Component","_temp","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","changingUsername","handleOpen","setState","handleClose","closeDialog","handleSubmit","name","props","initialUsername","onChangeUsername","then","bind","_proto","prototype","render","_props","t","React","Fragment","IconButton","onClick","DialogCloseAnimation","delay","PromptDialog","title","submitLabel","icon","value","onSubmit","onCancel","Component","propTypes","process","env","NODE_ENV","PropTypes","func","isRequired","string"],"mappings":"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","file":"ChangeUsernameButton.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport IconButton from 'material-ui/IconButton';\nimport EditIcon from '@material-ui/icons/ModeEdit';\nimport PromptDialog from '../Dialogs/PromptDialog';\nimport DialogCloseAnimation from '../DialogCloseAnimation';\n\nconst enhance = translate();\n\nclass ChangeUsernameButton extends React.Component {\n  static propTypes = {\n    t: PropTypes.func.isRequired,\n    onChangeUsername: PropTypes.func.isRequired,\n    initialUsername: PropTypes.string,\n  };\n\n  state = {\n    changingUsername: false,\n  };\n\n  closeDialog() {\n    this.setState({ changingUsername: false });\n  }\n\n  handleOpen = () => {\n    this.setState({ changingUsername: true });\n  };\n\n  handleClose = () => {\n    this.closeDialog();\n  };\n\n  handleSubmit = (name) => {\n    if (name === this.props.initialUsername) {\n      this.closeDialog();\n      return null;\n    }\n    return this.props.onChangeUsername(name)\n      .then(this.closeDialog.bind(this));\n  };\n\n  render() {\n    const { t, initialUsername } = this.props;\n    return (\n      <React.Fragment>\n        <IconButton className=\"ChangeUsernameButton\" onClick={this.handleOpen}>\n          <EditIcon className=\"ChangeUsernameButton-icon\" />\n        </IconButton>\n        <DialogCloseAnimation delay={450}>\n          {this.state.changingUsername ? (\n            <PromptDialog\n              title={t('settings.profile.username.change')}\n              submitLabel={t('settings.profile.username.save')}\n              icon={<EditIcon nativeColor=\"#777\" />}\n              value={initialUsername}\n              onSubmit={this.handleSubmit}\n              onCancel={this.handleClose}\n            />\n          ) : null}\n        </DialogCloseAnimation>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default enhance(ChangeUsernameButton);\n"]}