{"version":3,"sources":["components/SettingsManager/ChangeUsernameButton.js"],"names":["changeNameButtonStyle","padding","height","width","marginLeft","verticalAlign","changeNameIconStyle","_ref","color","hoverColor","_ref2","ChangeUsernameButton","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","state","changingUsername","handleOpen","setState","handleClose","closeDialog","handleSubmit","name","props","initialUsername","onChangeUsername","then","bind","prototype","render","_props","t","style","iconStyle","onClick","delay","title","submitLabel","icon","value","onSubmit","onCancel","Component","propTypes","process","env","NODE_ENV","func","isRequired","string"],"mappings":"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","file":"ChangeUsernameButton.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport IconButton from 'material-ui/IconButton';\nimport EditIcon from 'material-ui/svg-icons/editor/mode-edit';\nimport PromptDialog from '../Dialogs/PromptDialog';\nimport DialogCloseAnimation from '../DialogCloseAnimation';\n\nconst changeNameButtonStyle = {\n  padding: 2,\n  height: 28,\n  width: 28,\n  marginLeft: 5,\n  verticalAlign: 'bottom'\n};\n\nconst changeNameIconStyle = {\n  width: 24,\n  height: 24,\n  padding: 2\n};\n\nclass ChangeUsernameButton extends React.Component {\n  static propTypes = {\n    t: PropTypes.func.isRequired,\n    onChangeUsername: PropTypes.func.isRequired,\n    initialUsername: PropTypes.string\n  };\n\n  state = {\n    changingUsername: false\n  };\n\n  closeDialog() {\n    this.setState({ changingUsername: false });\n  }\n\n  handleOpen = () => {\n    this.setState({ changingUsername: true });\n  };\n\n  handleClose = () => {\n    this.closeDialog();\n  };\n\n  handleSubmit = (name) => {\n    if (name === this.props.initialUsername) {\n      this.closeDialog();\n      return null;\n    }\n    return this.props.onChangeUsername(name)\n      .then(this.closeDialog.bind(this));\n  };\n\n  render() {\n    const { t, initialUsername } = this.props;\n    return (\n      <span>\n        <IconButton\n          style={changeNameButtonStyle}\n          iconStyle={changeNameIconStyle}\n          onClick={this.handleOpen}\n        >\n          <EditIcon\n            color=\"#777\"\n            hoverColor=\"#fff\"\n          />\n        </IconButton>\n        <DialogCloseAnimation delay={450}>\n          {this.state.changingUsername && (\n            <PromptDialog\n              title={t('settings.profile.username.change')}\n              submitLabel={t('settings.profile.username.save')}\n              icon={<EditIcon color=\"#777\" />}\n              value={initialUsername}\n              onSubmit={this.handleSubmit}\n              onCancel={this.handleClose}\n            />\n          )}\n        </DialogCloseAnimation>\n      </span>\n    );\n  }\n}\n\nexport default translate()(ChangeUsernameButton);\n"]}