{"version":3,"sources":["components/SettingsManager/ChangeUsernameButton.js"],"names":["enhance","_ref","className","_ref2","nativeColor","ChangeUsernameButton","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","state","changingUsername","handleOpen","setState","handleClose","closeDialog","handleSubmit","name","props","initialUsername","onChangeUsername","then","bind","prototype","render","_props","t","Fragment","onClick","delay","title","submitLabel","icon","value","onSubmit","onCancel","Component","propTypes","process","env","NODE_ENV","func","isRequired","string"],"mappings":"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","file":"ChangeUsernameButton.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport IconButton from 'material-ui/IconButton';\nimport EditIcon from 'material-ui-icons/ModeEdit';\nimport PromptDialog from '../Dialogs/PromptDialog';\nimport DialogCloseAnimation from '../DialogCloseAnimation';\n\nconst enhance = translate();\n\nclass ChangeUsernameButton extends React.Component {\n  static propTypes = {\n    t: PropTypes.func.isRequired,\n    onChangeUsername: PropTypes.func.isRequired,\n    initialUsername: PropTypes.string,\n  };\n\n  state = {\n    changingUsername: false,\n  };\n\n  closeDialog() {\n    this.setState({ changingUsername: false });\n  }\n\n  handleOpen = () => {\n    this.setState({ changingUsername: true });\n  };\n\n  handleClose = () => {\n    this.closeDialog();\n  };\n\n  handleSubmit = (name) => {\n    if (name === this.props.initialUsername) {\n      this.closeDialog();\n      return null;\n    }\n    return this.props.onChangeUsername(name)\n      .then(this.closeDialog.bind(this));\n  };\n\n  render() {\n    const { t, initialUsername } = this.props;\n    return (\n      <React.Fragment>\n        <IconButton className=\"ChangeUsernameButton\" onClick={this.handleOpen}>\n          <EditIcon className=\"ChangeUsernameButton-icon\" />\n        </IconButton>\n        <DialogCloseAnimation delay={450}>\n          {this.state.changingUsername ? (\n            <PromptDialog\n              title={t('settings.profile.username.change')}\n              submitLabel={t('settings.profile.username.save')}\n              icon={<EditIcon nativeColor=\"#777\" />}\n              value={initialUsername}\n              onSubmit={this.handleSubmit}\n              onCancel={this.handleClose}\n            />\n          ) : null}\n        </DialogCloseAnimation>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default enhance(ChangeUsernameButton);\n"]}