{"version":3,"sources":["components/UserCard/index.js"],"names":["UserCardWrapper","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","state","positionDiffX","positionDiffY","refContainer","container","shouldFit","fitInsideWindow","prototype","componentDidMount","componentDidUpdate","card","firstChild","rect","getBoundingClientRect","offsetBottom","window","innerHeight","bottom","setState","render","_props","props","onClose","position","_state","open","BackdropProps","invisible","createElement","style","left","x","top","y","ref","className","Component","propTypes","process","env","NODE_ENV","func","isRequired","shape","number"],"mappings":"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","file":"index.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from 'material-ui/Modal';\nimport UserCard from './UserCard';\n\nclass UserCardWrapper extends React.Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    position: PropTypes.shape({\n      x: PropTypes.number.isRequired,\n      y: PropTypes.number.isRequired,\n    }).isRequired,\n  };\n\n  state = {\n    positionDiffX: 0,\n    positionDiffY: 0,\n  };\n\n  componentDidMount() {\n    this.shouldFit = true;\n  }\n\n  componentDidUpdate() {\n    this.shouldFit = true;\n  }\n\n  fitInsideWindow() {\n    if (!this.container) {\n      return;\n    }\n\n    const card = this.container.firstChild;\n    const rect = card.getBoundingClientRect();\n    const offsetBottom = window.innerHeight - rect.bottom;\n    if (offsetBottom < 0) {\n      this.setState({\n        positionDiffY: offsetBottom - 1,\n      });\n    }\n  }\n\n  refContainer = (container) => {\n    this.container = container;\n    if (this.shouldFit && container) {\n      this.fitInsideWindow();\n    }\n  };\n\n  render() {\n    const {\n      onClose,\n      position,\n      ...props\n    } = this.props;\n    const { positionDiffX, positionDiffY } = this.state;\n\n    return (\n      <Modal\n        open\n        BackdropProps={{ invisible: true }}\n        onClose={onClose}\n      >\n        <div\n          style={{\n            position: 'absolute',\n            left: position.x + positionDiffX,\n            top: position.y + positionDiffY,\n          }}\n          ref={this.refContainer}\n        >\n          <div className=\"UserCardWrapper\">\n            <UserCard {...props} />\n          </div>\n        </div>\n      </Modal>\n    );\n  }\n}\n\nexport default UserCardWrapper;\n"]}