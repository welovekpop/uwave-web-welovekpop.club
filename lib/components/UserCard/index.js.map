{"version":3,"sources":["components/UserCard/index.js"],"names":["UserCardWrapper","_React$Component","_temp","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","positionDiffX","positionDiffY","refContainer","container","shouldFit","fitInsideWindow","_proto","prototype","componentDidMount","componentDidUpdate","card","firstChild","rect","getBoundingClientRect","offsetBottom","window","innerHeight","bottom","setState","render","_props","props","onClose","position","_state","Modal","open","BackdropProps","invisible","React","createElement","style","left","x","top","y","ref","className","UserCard","Component","propTypes","process","env","NODE_ENV","PropTypes","func","isRequired","shape","number"],"mappings":"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","file":"index.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from 'material-ui/Modal';\nimport UserCard from './UserCard';\n\nclass UserCardWrapper extends React.Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    position: PropTypes.shape({\n      x: PropTypes.number.isRequired,\n      y: PropTypes.number.isRequired,\n    }).isRequired,\n  };\n\n  state = {\n    positionDiffX: 0,\n    positionDiffY: 0,\n  };\n\n  componentDidMount() {\n    this.shouldFit = true;\n  }\n\n  componentDidUpdate() {\n    this.shouldFit = true;\n  }\n\n  fitInsideWindow() {\n    if (!this.container) {\n      return;\n    }\n\n    const card = this.container.firstChild;\n    const rect = card.getBoundingClientRect();\n    const offsetBottom = window.innerHeight - rect.bottom;\n    if (offsetBottom < 0) {\n      this.setState({\n        positionDiffY: offsetBottom - 1,\n      });\n    }\n  }\n\n  refContainer = (container) => {\n    this.container = container;\n    if (this.shouldFit && container) {\n      this.fitInsideWindow();\n    }\n  };\n\n  render() {\n    const {\n      onClose,\n      position,\n      ...props\n    } = this.props;\n    const { positionDiffX, positionDiffY } = this.state;\n\n    return (\n      <Modal\n        open\n        BackdropProps={{ invisible: true }}\n        onClose={onClose}\n      >\n        <div\n          style={{\n            position: 'absolute',\n            left: position.x + positionDiffX,\n            top: position.y + positionDiffY,\n          }}\n          ref={this.refContainer}\n        >\n          <div className=\"UserCardWrapper\">\n            <UserCard {...props} />\n          </div>\n        </div>\n      </Modal>\n    );\n  }\n}\n\nexport default UserCardWrapper;\n"]}