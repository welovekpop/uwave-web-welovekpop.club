{"version":3,"sources":["components/Video/VideoBackdrop.js"],"names":["supportsBlur","window","CSS","supports","CSSVideoBackdrop","_ref","url","className","src","alt","propTypes","process","env","NODE_ENV","PropTypes","string","isRequired","svgWidth","svgHeight","svgBlur","_ref3","id","stdDeviation","result","SVGVideoBackdrop","_ref2","viewBox","xlinkHref","x","y","filter","width","height","VideoBackdrop"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA;;;AAIA,SAASA,YAAT,GAAwB;AACtB;AACA,MAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiC,CAACA,OAAOC,GAA7C,EAAkD;AAChD,WAAO,KAAP;AACD;;AAED,SAAOA,IAAIC,QAAJ,CAAa,QAAb,EAAuB,WAAvB,KAAuCD,IAAIC,QAAJ,CAAa,gBAAb,EAA+B,WAA/B,CAA9C;AACD;AACD;;;;;AAKA,IAAIC,mBAAmB,SAASA,gBAAT,CAA0BC,IAA1B,EAAgC;AACrD,MAAIC,MAAMD,KAAKC,GAAf;AACA,SAAO,mBAAK,KAAL,EAAY;AACjBC,eAAW,qCADM;AAEjBC,SAAKF,GAFY;AAGjBG,SAAK;AAHY,GAAZ,CAAP;AAKD,CAPD;;AASAL,iBAAiBM,SAAjB,GAA6BC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC;AACnEP,OAAKQ,mBAAUC,MAAV,CAAiBC;AAD6C,CAAxC,GAEzB,EAFJ;AAGA,IAAIC,WAAW,GAAf;AACA,IAAIC,YAAY,GAAhB;AACA,IAAIC,UAAU,EAAd;AACA;;;;AAIA,IAAIC;AACJ;AACA,mBAAK,MAAL,EAAa,EAAb,EAAiB,KAAK,CAAtB,EAAyB,mBAAK,QAAL,EAAe;AACtCC,MAAI;AADkC,CAAf,EAEtB,KAAK,CAFiB,EAEd,mBAAK,gBAAL,EAAuB;AAChCC,gBAAcH,UAAU,GAAV,GAAgBA,OADE;AAEhCI,UAAQ;AAFwB,CAAvB,CAFc,CAAzB,CAFA;;AASA,IAAIC,mBAAmB,SAASA,gBAAT,CAA0BC,KAA1B,EAAiC;AACtD,MAAInB,MAAMmB,MAAMnB,GAAhB;AACA,SAAO,mBAAK,KAAL,EAAY;AACjBC,eAAW;AADM,GAAZ,EAEJ,KAAK,CAFD,EAEI,mBAAK,KAAL,EAAY;AACrBmB,aAAS,SAAST,QAAT,GAAoB,GAApB,GAA0BC;AADd,GAAZ,EAER,KAAK,CAFG,EAEAE,KAFA,EAEO,mBAAK,OAAL,EAAc;AAC9BO,eAAWrB,GADmB;AAE9BsB,OAAGT,UAAU,CAAC,CAFgB;AAG9BU,OAAGV,UAAU,CAAC,CAHgB;AAI9BW,YAAQ,YAJsB;AAK9BC,WAAOd,WAAWE,UAAU,CALE;AAM9Ba,YAAQd,YAAYC,UAAU;AANA,GAAd,CAFP,CAFJ,CAAP;AAYD,CAdD;;AAgBAK,iBAAiBd,SAAjB,GAA6BC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC;AACnEP,OAAKQ,mBAAUC,MAAV,CAAiBC;AAD6C,CAAxC,GAEzB,EAFJ,C,CAEQ;AACR;;AAEA,IAAIiB,gBAAgBjC,iBAAiBI,gBAAjB,GAAoCoB,gBAAxD;eACeS,a","file":"VideoBackdrop.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * Check if the browser supports the CSS `blur()` filter.\n */\nfunction supportsBlur() {\n  // Be conservative if we're not in the browser.\n  if (typeof window === 'undefined' || !window.CSS) {\n    return false;\n  }\n\n  return (\n    CSS.supports('filter', 'blur(1em)') ||\n    CSS.supports('-webkit-filter', 'blur(1em)')\n  );\n}\n\n/**\n * A Video backdrop, blurred using the CSS `blur()` filter.\n */\nconst CSSVideoBackdrop = ({ url }) => (\n  <img\n    className=\"VideoBackdrop VideoBackdrop--blurry\"\n    src={url}\n    alt=\"\"\n  />\n);\n\nCSSVideoBackdrop.propTypes = {\n  url: PropTypes.string.isRequired,\n};\n\nconst svgWidth = 800;\nconst svgHeight = 480;\nconst svgBlur = 20;\n\n/**\n * A Video backdrop, blurred using an SVG filter.\n */\nconst SVGVideoBackdrop = ({ url }) => (\n  <div className=\"VideoBackdrop VideoBackdrop--svg\">\n    <svg viewBox={`0 0 ${svgWidth} ${svgHeight}`}>\n      <defs>\n        <filter id=\"blur\">\n          <feGaussianBlur stdDeviation={`${svgBlur} ${svgBlur}`} result=\"blur\" />\n        </filter>\n      </defs>\n      <image\n        xlinkHref={url}\n        x={svgBlur * -3}\n        y={svgBlur * -3}\n        filter=\"url(#blur)\"\n        width={svgWidth + (svgBlur * 6)}\n        height={svgHeight + (svgBlur * 6)}\n      />\n    </svg>\n  </div>\n);\n\nSVGVideoBackdrop.propTypes = {\n  url: PropTypes.string.isRequired,\n};\n\n// If the browser supports the CSS `blur()` filter, we can use the <img>-style\n// backdrop. Otherwise, fall back to the SVG backdrop.\nconst VideoBackdrop = supportsBlur() ? CSSVideoBackdrop : SVGVideoBackdrop;\n\nexport default VideoBackdrop;\n"]}