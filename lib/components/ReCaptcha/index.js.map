{"version":3,"sources":["components/ReCaptcha/index.js"],"names":["GRECAPTCHA_API","onloadCallbackName","onloadCallbacks","window","forEach","fn","grecaptcha","loadReCaptcha","cb","push","_ref","className","size","ReCaptcha","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","state","prototype","componentDidMount","_this2","setState","render","createElement","props","Component","default"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AAEA;;;;;;AAEA,IAAIA,iBAAiB,yCAArB;AACA,IAAIC,qBAAqB,qBAAzB;AACA,IAAIC,kBAAkB,EAAtB;;AAEA,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACjCA,SAAOF,kBAAP,IAA6B,YAAY;AACvCC,oBAAgBE,OAAhB,CAAwB,UAAUC,EAAV,EAAc;AACpC,aAAOA,GAAGF,OAAOG,UAAV,CAAP;AACD,KAFD;AAGD,GAJD;AAKD;;AAED,SAASC,aAAT,CAAuBC,EAAvB,EAA2B;AACzB,4BAAWR,iBAAiB,UAAjB,GAA8BC,kBAA9B,GAAmD,kBAA9D;AACAC,kBAAgBO,IAAhB,CAAqBD,EAArB;AACD;;AAED,IAAIE,OAAO,qCAAa;AACtBC,aAAW,mBADW;AAEtBC,QAAM;AAFgB,CAAb,CAAX;;AAKA,IAAIC,YAAY,UAAUC,gBAAV,EAA4B;AAC1C,0BAAUD,SAAV,EAAqBC,gBAArB;;AAEA,WAASD,SAAT,GAAqB;AACnB,QAAIE,KAAJ,EAAWC,KAAX,EAAkBC,IAAlB;;AAEA,kCAAgB,IAAhB,EAAsBJ,SAAtB;;AAEA,SAAK,IAAIK,OAAOC,UAAUC,MAArB,EAA6BC,OAAOC,MAAMJ,IAAN,CAApC,EAAiDK,OAAO,CAA7D,EAAgEA,OAAOL,IAAvE,EAA6EK,MAA7E,EAAqF;AACnFF,WAAKE,IAAL,IAAaJ,UAAUI,IAAV,CAAb;AACD;;AAED,WAAON,QAAQF,SAASC,QAAQ,yCAA2B,IAA3B,EAAiCF,iBAAiBU,IAAjB,CAAsBC,KAAtB,CAA4BX,gBAA5B,EAA8C,CAAC,IAAD,EAAOY,MAAP,CAAcL,IAAd,CAA9C,CAAjC,CAAR,EAA8GL,KAAvH,GAA+HA,MAAMW,KAAN,GAAc;AAC1JrB,kBAAYH,OAAOG;AADuI,KAA7I,EAEZS,KAFI,GAEI,yCAA2BC,KAA3B,EAAkCC,IAAlC,CAFX;AAGD;;AAEDJ,YAAUe,SAAV,CAAoBC,iBAApB,GAAwC,SAASA,iBAAT,GAA6B;AACnE,QAAIC,SAAS,IAAb;;AAEA,QAAI,CAAC,KAAKH,KAAL,CAAWrB,UAAhB,EAA4B;AAC1BC,oBAAc,UAAUD,UAAV,EAAsB;AAClCwB,eAAOC,QAAP,CAAgB,EAAEzB,YAAYA,UAAd,EAAhB;AACD,OAFD;AAGD;AACF,GARD;;AAUAO,YAAUe,SAAV,CAAoBI,MAApB,GAA6B,SAASA,MAAT,GAAkB;AAC7C,QAAI,CAAC,KAAKL,KAAL,CAAWrB,UAAhB,EAA4B;AAC1B,aAAOI,IAAP;AACD;AACD,WAAO,gBAAMuB,aAAN,sBAAqC,uBAAS,EAAT,EAAa,KAAKC,KAAlB,EAAyB;AACnE5B,kBAAY,KAAKqB,KAAL,CAAWrB;AAD4C,KAAzB,CAArC,CAAP;AAGD,GAPD;;AASA,SAAOO,SAAP;AACD,CArCe,CAqCd,gBAAMsB,SArCQ,CAAhB;;QAuCsBC,O,GAAbvB,S;AACT","file":"index.js","sourcesContent":["import React from 'react';\nimport loadScript from 'load-script2';\n\nimport Loader from '../Loader';\n\nimport InternalCaptcha from './ReCaptcha';\n\nconst GRECAPTCHA_API = 'https://www.google.com/recaptcha/api.js';\nconst onloadCallbackName = 'grecaptchaOnload__$';\nconst onloadCallbacks = [];\n\nif (typeof window !== 'undefined') {\n  window[onloadCallbackName] = () => {\n    onloadCallbacks.forEach(fn => fn(window.grecaptcha));\n  };\n}\n\nfunction loadReCaptcha(cb) {\n  loadScript(`${GRECAPTCHA_API}?onload=${onloadCallbackName}&render=explicit`);\n  onloadCallbacks.push(cb);\n}\n\nexport default class ReCaptcha extends React.Component {\n  state = {\n    grecaptcha: window.grecaptcha\n  };\n\n  componentDidMount() {\n    if (!this.state.grecaptcha) {\n      loadReCaptcha((grecaptcha) => {\n        this.setState({ grecaptcha });\n      });\n    }\n  }\n\n  render() {\n    if (!this.state.grecaptcha) {\n      return <Loader className=\"ReCaptcha-spinner\" size=\"tiny\" />;\n    }\n    return (\n      <InternalCaptcha\n        {...this.props}\n        grecaptcha={this.state.grecaptcha}\n      />\n    );\n  }\n}\n"]}