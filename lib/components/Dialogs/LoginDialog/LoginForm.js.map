{"version":3,"sources":["components/Dialogs/LoginDialog/LoginForm.js"],"names":["enhance","_ref","Fragment","_ref2","color","_ref3","_ref4","className","size","LoginForm","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","state","busy","handleSubmit","event","preventDefault","setState","props","onLogin","email","value","password","handleResetPassword","onOpenResetPasswordDialog","refEmail","refPassword","prototype","componentWillReceiveProps","render","_props","t","error","supportsSocialAuth","onSubmit","message","createElement","ref","type","placeholder","icon","autoFocus","disabled","onClick","Component","propTypes","process","env","NODE_ENV","func","isRequired","object","bool"],"mappings":"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","file":"LoginForm.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport EmailIcon from 'material-ui/svg-icons/communication/email';\nimport PasswordIcon from 'material-ui/svg-icons/action/lock';\nimport Loader from '../../Loader';\nimport Form from '../../Form';\nimport FormGroup from '../../Form/Group';\nimport TextField from '../../Form/TextField';\nimport Button from '../../Form/Button';\nimport SocialLogin from './SocialLogin';\nimport Separator from './Separator';\n\nconst enhance = translate();\n\nclass LoginForm extends React.Component {\n  static propTypes = {\n    t: PropTypes.func.isRequired,\n    error: PropTypes.object,\n    supportsSocialAuth: PropTypes.bool,\n    onLogin: PropTypes.func,\n    onOpenResetPasswordDialog: PropTypes.func,\n  };\n\n  state = { busy: false };\n\n  componentWillReceiveProps() {\n    this.setState({ busy: false });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.setState({ busy: true });\n    this.props.onLogin({\n      email: this.email.value,\n      password: this.password.value,\n    });\n  };\n\n  handleResetPassword = (event) => {\n    event.preventDefault();\n    this.props.onOpenResetPasswordDialog();\n  };\n\n  refEmail = (email) => {\n    this.email = email;\n  };\n\n  refPassword = (password) => {\n    this.password = password;\n  };\n\n  render() {\n    const { t, error, supportsSocialAuth } = this.props;\n    const { busy } = this.state;\n\n    return (\n      <Form className=\"LoginForm\" onSubmit={this.handleSubmit}>\n        {error && <FormGroup>{error.message}</FormGroup>}\n        {supportsSocialAuth && (\n          <React.Fragment>\n            <SocialLogin />\n            <Separator />\n          </React.Fragment>\n        )}\n        <FormGroup>\n          <TextField\n            ref={this.refEmail}\n            className=\"LoginForm-field\"\n            type=\"email\"\n            placeholder={t('login.email')}\n            icon={<EmailIcon color=\"#9f9d9e\" />}\n            autoFocus\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <TextField\n            ref={this.refPassword}\n            className=\"LoginForm-field\"\n            type=\"password\"\n            placeholder={t('login.password')}\n            icon={<PasswordIcon color=\"#9f9d9e\" />}\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <Button\n            className=\"LoginForm-submit\"\n            disabled={busy}\n          >\n            {busy ? <div className=\"Button-loading\"><Loader size=\"tiny\" /></div> : t('login.login')}\n          </Button>\n        </FormGroup>\n\n        <FormGroup className=\"LoginForm-forgot\">\n          <button onClick={this.handleResetPassword} className=\"LoginForm-forgotLink\">\n            Forgot Password?\n          </button>\n        </FormGroup>\n      </Form>\n    );\n  }\n}\n\nexport default enhance(LoginForm);\n"]}