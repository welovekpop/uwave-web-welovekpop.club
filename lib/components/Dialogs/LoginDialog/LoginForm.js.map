{"version":3,"sources":["components/Dialogs/LoginDialog/LoginForm.js"],"names":["enhance","_ref","React","Fragment","SocialLogin","Separator","_ref2","EmailIcon","nativeColor","_ref3","PasswordIcon","_ref4","className","CircularProgress","size","LoginForm","_React$Component","_temp","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","busy","handleSubmit","event","preventDefault","setState","props","onLogin","email","value","password","finally","handleResetPassword","onOpenResetPasswordDialog","refEmail","refPassword","_proto","prototype","render","_this$props","t","error","supportsSocialAuth","Form","onSubmit","FormGroup","message","createElement","TextField","ref","type","autocomplete","placeholder","icon","autoFocus","Button","disabled","onClick","Component","propTypes","process","env","NODE_ENV","PropTypes","func","isRequired","object","bool"],"mappings":"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","file":"LoginForm.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport EmailIcon from '@material-ui/icons/Email';\nimport PasswordIcon from '@material-ui/icons/Lock';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Form from '../../Form';\nimport FormGroup from '../../Form/Group';\nimport TextField from '../../Form/TextField';\nimport Button from '../../Form/Button';\nimport SocialLogin from './SocialLogin';\nimport Separator from './Separator';\n\nconst enhance = translate();\n\nclass LoginForm extends React.Component {\n  static propTypes = {\n    t: PropTypes.func.isRequired,\n    error: PropTypes.object,\n    supportsSocialAuth: PropTypes.bool,\n    onLogin: PropTypes.func,\n    onOpenResetPasswordDialog: PropTypes.func,\n  };\n\n  state = { busy: false };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.setState({ busy: true });\n    this.props.onLogin({\n      email: this.email.value,\n      password: this.password.value,\n    }).finally(() => {\n      this.setState({ busy: false });\n    });\n  };\n\n  handleResetPassword = (event) => {\n    event.preventDefault();\n    this.props.onOpenResetPasswordDialog();\n  };\n\n  refEmail = (email) => {\n    this.email = email;\n  };\n\n  refPassword = (password) => {\n    this.password = password;\n  };\n\n  render() {\n    const { t, error, supportsSocialAuth } = this.props;\n    const { busy } = this.state;\n\n    return (\n      <Form className=\"LoginForm\" onSubmit={this.handleSubmit}>\n        {error && <FormGroup>{error.message}</FormGroup>}\n        {supportsSocialAuth && (\n          <React.Fragment>\n            <SocialLogin />\n            <Separator />\n          </React.Fragment>\n        )}\n        <FormGroup>\n          <TextField\n            ref={this.refEmail}\n            className=\"LoginForm-field\"\n            type=\"email\"\n            autocomplete=\"email\"\n            placeholder={t('login.email')}\n            icon={<EmailIcon nativeColor=\"#9f9d9e\" />}\n            autoFocus\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <TextField\n            ref={this.refPassword}\n            className=\"LoginForm-field\"\n            type=\"password\"\n            autocomplete=\"current-password\"\n            placeholder={t('login.password')}\n            icon={<PasswordIcon nativeColor=\"#9f9d9e\" />}\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <Button\n            className=\"LoginForm-submit\"\n            disabled={busy}\n          >\n            {busy ? (\n              <div className=\"Button-loading\">\n                <CircularProgress size=\"100%\" />\n              </div>\n            ) : t('login.login')}\n          </Button>\n        </FormGroup>\n\n        <FormGroup className=\"LoginForm-forgot\">\n          <button onClick={this.handleResetPassword} className=\"LoginForm-forgotLink\">\n            Forgot Password?\n          </button>\n        </FormGroup>\n      </Form>\n    );\n  }\n}\n\nexport default enhance(LoginForm);\n"]}