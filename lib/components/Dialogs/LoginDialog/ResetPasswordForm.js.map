{"version":3,"sources":["components/Dialogs/LoginDialog/ResetPasswordForm.js"],"names":["enhance","_ref","color","_ref2","className","size","ResetPasswordForm","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","state","busy","done","handleSubmit","event","preventDefault","setState","Promise","resolve","props","onResetPassword","email","value","then","refEmail","prototype","componentWillReceiveProps","render","_props","t","error","onCloseDialog","_state","onClick","onSubmit","message","createElement","ref","type","placeholder","icon","disabled","Component","propTypes","process","env","NODE_ENV","func","isRequired","object"],"mappings":"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","file":"ResetPasswordForm.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport EmailIcon from 'material-ui/svg-icons/communication/email';\nimport Loader from '../../Loader';\nimport Form from '../../Form';\nimport FormGroup from '../../Form/Group';\nimport TextField from '../../Form/TextField';\nimport Button from '../../Form/Button';\n\nconst enhance = translate();\n\nclass ResetPasswordForm extends React.Component {\n  static propTypes = {\n    t: PropTypes.func.isRequired,\n    error: PropTypes.object,\n    onResetPassword: PropTypes.func.isRequired,\n    onCloseDialog: PropTypes.func.isRequired\n  };\n\n  state = {\n    busy: false,\n    done: false\n  };\n\n  componentWillReceiveProps() {\n    this.setState({ busy: false });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.setState({ busy: true });\n    Promise.resolve(this.props.onResetPassword({\n      email: this.email.value\n    })).then(() => {\n      this.setState({\n        busy: false,\n        done: true\n      });\n    });\n  };\n\n  refEmail = (email) => {\n    this.email = email;\n  };\n\n  render() {\n    const { t, error, onCloseDialog } = this.props;\n    const { busy, done } = this.state;\n\n    if (done) {\n      return (\n        <div>\n          <p>{t('login.passwordResetSent')}</p>\n          <p>\n            <Button className=\"ResetPasswordForm-submit\" onClick={onCloseDialog}>\n              {t('close')}\n            </Button>\n          </p>\n        </div>\n      );\n    }\n\n    return (\n      <Form className=\"ResetPasswordForm\" onSubmit={this.handleSubmit}>\n        {error && <FormGroup>{error.message}</FormGroup>}\n        <FormGroup>\n          <TextField\n            ref={this.refEmail}\n            className=\"ResetPasswordForm-field\"\n            type=\"email\"\n            placeholder=\"E-Mail\"\n            icon={<EmailIcon color=\"#9f9d9e\" />}\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <Button\n            className=\"ResetPasswordForm-submit\"\n            disabled={busy}\n          >\n            {busy ? (\n              <div className=\"Button-loading\"><Loader size=\"tiny\" /></div>\n            ) : t('login.requestPasswordReset')}\n          </Button>\n        </FormGroup>\n      </Form>\n    );\n  }\n}\n\nexport default enhance(ResetPasswordForm);\n"]}