{"version":3,"sources":["components/Dialogs/LoginDialog/ResetPasswordForm.js"],"names":["enhance","_ref","EmailIcon","nativeColor","_ref2","className","CircularProgress","size","ResetPasswordForm","_React$Component","_temp","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","busy","done","handleSubmit","event","preventDefault","setState","Promise","resolve","props","onResetPassword","email","value","then","refEmail","_proto","prototype","render","_this$props","t","error","onCloseDialog","_this$state","Button","onClick","Form","onSubmit","FormGroup","message","React","createElement","TextField","ref","type","autocomplete","placeholder","icon","disabled","Component","propTypes","process","env","NODE_ENV","PropTypes","func","isRequired","object"],"mappings":"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","file":"ResetPasswordForm.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport EmailIcon from '@material-ui/icons/Email';\nimport Form from '../../Form';\nimport FormGroup from '../../Form/Group';\nimport TextField from '../../Form/TextField';\nimport Button from '../../Form/Button';\n\nconst enhance = translate();\n\nclass ResetPasswordForm extends React.Component {\n  static propTypes = {\n    t: PropTypes.func.isRequired,\n    error: PropTypes.object,\n    onResetPassword: PropTypes.func.isRequired,\n    onCloseDialog: PropTypes.func.isRequired,\n  };\n\n  state = {\n    busy: false,\n    done: false,\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.setState({ busy: true });\n    Promise.resolve(this.props.onResetPassword({\n      email: this.email.value,\n    })).then(() => {\n      this.setState({\n        busy: false,\n        done: true,\n      });\n    }, () => {\n      this.setState({ busy: false });\n    });\n  };\n\n  refEmail = (email) => {\n    this.email = email;\n  };\n\n  render() {\n    const { t, error, onCloseDialog } = this.props;\n    const { busy, done } = this.state;\n\n    if (done) {\n      return (\n        <div>\n          <p>{t('login.passwordResetSent')}</p>\n          <p>\n            <Button className=\"ResetPasswordForm-submit\" onClick={onCloseDialog}>\n              {t('close')}\n            </Button>\n          </p>\n        </div>\n      );\n    }\n\n    return (\n      <Form className=\"ResetPasswordForm\" onSubmit={this.handleSubmit}>\n        {error && <FormGroup>{error.message}</FormGroup>}\n        <FormGroup>\n          <TextField\n            ref={this.refEmail}\n            className=\"ResetPasswordForm-field\"\n            type=\"email\"\n            autocomplete=\"email\"\n            placeholder={t('login.email')}\n            icon={<EmailIcon nativeColor=\"#9f9d9e\" />}\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <Button\n            className=\"ResetPasswordForm-submit\"\n            disabled={busy}\n          >\n            {busy ? (\n              <div className=\"Button-loading\"><CircularProgress size=\"100%\" /></div>\n            ) : t('login.requestPasswordReset')}\n          </Button>\n        </FormGroup>\n      </Form>\n    );\n  }\n}\n\nexport default enhance(ResetPasswordForm);\n"]}