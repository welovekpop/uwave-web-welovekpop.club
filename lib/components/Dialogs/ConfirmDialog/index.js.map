{"version":3,"sources":["components/Dialogs/ConfirmDialog/index.js"],"names":["_ref","className","_ref2","CircularProgress","size","ConfirmDialog","_React$Component","_temp","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","busy","handleSubmit","event","preventDefault","handleConfirm","promise","props","onConfirm","then","setState","onDone","handleClose","onCancel","_proto","prototype","render","_this$props","children","cancelLabel","confirmLabel","Dialog","onClose","open","DialogContent","Form","onSubmit","FormGroup","Button","disabled","onClick","React","Component","defaultProps","propTypes","process","env","NODE_ENV","PropTypes","node","string","func","isRequired"],"mappings":"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","file":"index.js","sourcesContent":["import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Form from '../../Form';\nimport FormGroup from '../../Form/Group';\nimport Button from '../../Form/Button';\n\nexport default class ConfirmDialog extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n    confirmLabel: PropTypes.string,\n    cancelLabel: PropTypes.string,\n\n    onConfirm: PropTypes.func.isRequired,\n    onCancel: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    cancelLabel: 'Cancel',\n    confirmLabel: 'OK',\n  };\n\n  state = {\n    busy: false,\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n  };\n\n  handleConfirm = (event) => {\n    event.preventDefault();\n    const promise = this.props.onConfirm();\n    if (promise && promise.then) {\n      this.setState({ busy: true });\n      const onDone = () => {\n        this.setState({ busy: false });\n      };\n      promise.then(onDone, onDone);\n    }\n  };\n\n  handleClose = (event) => {\n    if (event && event.preventDefault) {\n      event.preventDefault();\n    }\n    this.props.onCancel();\n  };\n\n  render() {\n    const {\n      children,\n      cancelLabel,\n      confirmLabel,\n      className,\n    } = this.props;\n    const { busy } = this.state;\n\n    return (\n      <Dialog\n        className={cx('Dialog', className)}\n        onClose={this.handleClose}\n        open\n      >\n        <DialogContent className=\"Dialog-body\">\n          <Form onSubmit={this.handleSubmit}>\n            {children}\n            <FormGroup className=\"ConfirmDialog-buttons FormGroup--noSpacing\">\n              <div className=\"ConfirmDialog-button\">\n                <Button disabled={busy} onClick={this.handleClose}>\n                  {cancelLabel}\n                </Button>\n              </div>\n              <div className=\"ConfirmDialog-spacer\" />\n              <div className=\"ConfirmDialog-button\">\n                <Button disabled={busy} onClick={this.handleConfirm}>\n                  {busy ? <div className=\"Button-loading\"><CircularProgress size=\"100%\" /></div> : confirmLabel}\n                </Button>\n              </div>\n            </FormGroup>\n          </Form>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n}\n"]}