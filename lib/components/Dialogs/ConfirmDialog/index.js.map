{"version":3,"sources":["components/Dialogs/ConfirmDialog/index.js"],"names":["_class","_temp2","_ref","className","_ref2","size","ConfirmDialog","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","state","busy","handleSubmit","event","preventDefault","handleConfirm","promise","props","onConfirm","then","setState","onDone","handleClose","onCancel","prototype","render","_props","children","cancelLabel","confirmLabel","createElement","onRequestClose","open","onSubmit","disabled","onClick","Component","defaultProps","default","propTypes","process","env","NODE_ENV","node","string","func","isRequired"],"mappings":"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","file":"index.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from 'material-ui/Dialog';\n\nimport Form from '../../Form';\nimport FormGroup from '../../Form/Group';\nimport Button from '../../Form/Button';\nimport Loader from '../../Loader';\n\nexport default class ConfirmDialog extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n    confirmLabel: PropTypes.string,\n    cancelLabel: PropTypes.string,\n\n    onConfirm: PropTypes.func.isRequired,\n    onCancel: PropTypes.func.isRequired\n  };\n\n  static defaultProps = {\n    cancelLabel: 'Cancel',\n    confirmLabel: 'OK'\n  };\n\n  state = {\n    busy: false\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n  };\n\n  handleConfirm = (event) => {\n    event.preventDefault();\n    const promise = this.props.onConfirm();\n    if (promise && promise.then) {\n      this.setState({ busy: true });\n      const onDone = () => {\n        this.setState({ busy: false });\n      };\n      promise.then(onDone, onDone);\n    }\n  };\n\n  handleClose = (event) => {\n    if (event && event.preventDefault) {\n      event.preventDefault();\n    }\n    this.props.onCancel();\n  };\n\n  render() {\n    const {\n      children,\n      cancelLabel,\n      confirmLabel,\n      ...props\n    } = this.props;\n    const { busy } = this.state;\n\n    return (\n      <Dialog\n        {...props}\n        onRequestClose={this.handleClose}\n        open\n      >\n        <Form onSubmit={this.handleSubmit}>\n          {children}\n          <FormGroup className=\"ConfirmDialog-buttons\">\n            <div className=\"ConfirmDialog-button\">\n              <Button disabled={busy} onClick={this.handleClose}>\n                {cancelLabel}\n              </Button>\n            </div>\n            <div className=\"ConfirmDialog-spacer\" />\n            <div className=\"ConfirmDialog-button\">\n              <Button disabled={busy} onClick={this.handleConfirm}>\n                {busy ? <div className=\"Button-loading\"><Loader size=\"tiny\" /></div> : confirmLabel}\n              </Button>\n            </div>\n          </FormGroup>\n        </Form>\n      </Dialog>\n    );\n  }\n}\n"]}