{"version":3,"sources":["components/Dialogs/PromptDialog/index.js"],"names":["_ref","className","size","PromptDialog","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","state","busy","value","props","handleSubmit","event","preventDefault","promise","onSubmit","input","then","setState","onDone","handleClose","onCancel","handleInputChange","target","refInput","prototype","render","_props","children","icon","inputType","placeholder","submitLabel","bodyClassName","contentClassName","titleClassName","_state","createElement","onRequestClose","open","ref","autoFocus","type","onChange","disabled","Component","defaultProps","propTypes","process","env","NODE_ENV","node","string","func","isRequired"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAIA,OAAO,mBAAK,KAAL,EAAY;AACrBC,aAAW;AADU,CAAZ,EAER,KAAK,CAFG,EAEA,qCAAa;AACtBC,QAAM;AADgB,CAAb,CAFA,CAAX;;AAMA,IAAIC,eAAe,UAAUC,gBAAV,EAA4B;AAC7C,0BAAUD,YAAV,EAAwBC,gBAAxB;;AAEA,WAASD,YAAT,GAAwB;AACtB,QAAIE,KAAJ,EAAWC,KAAX,EAAkBC,IAAlB;;AAEA,kCAAgB,IAAhB,EAAsBJ,YAAtB;;AAEA,SAAK,IAAIK,OAAOC,UAAUC,MAArB,EAA6BC,OAAOC,MAAMJ,IAAN,CAApC,EAAiDK,OAAO,CAA7D,EAAgEA,OAAOL,IAAvE,EAA6EK,MAA7E,EAAqF;AACnFF,WAAKE,IAAL,IAAaJ,UAAUI,IAAV,CAAb;AACD;;AAED,WAAON,QAAQF,SAASC,QAAQ,yCAA2B,IAA3B,EAAiCF,iBAAiBU,IAAjB,CAAsBC,KAAtB,CAA4BX,gBAA5B,EAA8C,CAAC,IAAD,EAAOY,MAAP,CAAcL,IAAd,CAA9C,CAAjC,CAAR,EAA8GL,KAAvH,GAA+HA,MAAMW,KAAN,GAAc;AAC1JC,YAAM,KADoJ;AAE1JC,aAAOb,MAAMc,KAAN,CAAYD,KAAZ,IAAqB;AAF8H,KAA7I,EAGZb,MAAMe,YAAN,GAAqB,UAAUC,KAAV,EAAiB;AACvCA,YAAMC,cAAN;AACA,UAAIC,UAAUlB,MAAMc,KAAN,CAAYK,QAAZ,CAAqBnB,MAAMoB,KAAN,CAAYP,KAAjC,CAAd;AACA,UAAIK,WAAWA,QAAQG,IAAvB,EAA6B;AAC3BrB,cAAMsB,QAAN,CAAe,EAAEV,MAAM,IAAR,EAAf;AACA,YAAIW,SAAS,SAASA,MAAT,GAAkB;AAC7BvB,gBAAMsB,QAAN,CAAe,EAAEV,MAAM,KAAR,EAAf;AACD,SAFD;AAGAM,gBAAQG,IAAR,CAAaE,MAAb,EAAqBA,MAArB;AACD;AACF,KAbc,EAaZvB,MAAMwB,WAAN,GAAoB,YAAY;AACjCxB,YAAMc,KAAN,CAAYW,QAAZ;AACD,KAfc,EAeZzB,MAAM0B,iBAAN,GAA0B,UAAUV,KAAV,EAAiB;AAC5ChB,YAAMsB,QAAN,CAAe,EAAET,OAAOG,MAAMW,MAAN,CAAad,KAAtB,EAAf;AACD,KAjBc,EAiBZb,MAAM4B,QAAN,GAAiB,UAAUR,KAAV,EAAiB;AACnCpB,YAAMoB,KAAN,GAAcA,KAAd;AACD,KAnBc,EAmBZrB,KAnBI,GAmBI,yCAA2BC,KAA3B,EAAkCC,IAAlC,CAnBX;AAoBD;;AAEDJ,eAAagC,SAAb,CAAuBC,MAAvB,GAAgC,SAASA,MAAT,GAAkB;AAChD,QAAIC,SAAS,KAAKjB,KAAlB;AAAA,QACIkB,WAAWD,OAAOC,QADtB;AAAA,QAEIC,OAAOF,OAAOE,IAFlB;AAAA,QAGIC,YAAYH,OAAOG,SAHvB;AAAA,QAIIC,cAAcJ,OAAOI,WAJzB;AAAA,QAKIC,cAAcL,OAAOK,WALzB;AAAA,QAMIC,gBAAgBN,OAAOM,aAN3B;AAAA,QAOIC,mBAAmBP,OAAOO,gBAP9B;AAAA,QAQIC,iBAAiBR,OAAOQ,cAR5B;AAAA,QASIzB,QAAQ,uCAAyBiB,MAAzB,EAAiC,CAAC,UAAD,EAAa,MAAb,EAAqB,WAArB,EAAkC,aAAlC,EAAiD,aAAjD,EAAgE,eAAhE,EAAiF,kBAAjF,EAAqG,gBAArG,CAAjC,CATZ;;AAWA,QAAIS,SAAS,KAAK7B,KAAlB;AAAA,QACIC,OAAO4B,OAAO5B,IADlB;AAAA,QAEIC,QAAQ2B,OAAO3B,KAFnB;;AAKA,WAAO,gBAAM4B,aAAN,mBAEL,uBAAS,EAAT,EAAa3B,KAAb,EAAoB;AAClBwB,wBAAkB,0BAAG,QAAH,EAAaA,gBAAb,CADA;AAElBD,qBAAe,0BAAG,aAAH,EAAkBA,aAAlB,CAFG;AAGlBE,sBAAgB,0BAAG,cAAH,EAAmBA,cAAnB,CAHE;AAIlBG,sBAAgB,KAAKlB,WAJH;AAKlBmB,YAAM;AALY,KAApB,CAFK,EASL,mCAAW;AACTxB,gBAAU,KAAKJ;AADN,KAAX,EAEG,KAAK,CAFR,EAEWiB,QAFX,EAEqB,oCAAgB,EAAhB,EAAoB,KAAK,CAAzB,EAA4B,gBAAMS,aAAN,sBAA+B;AAC9EG,WAAK,KAAKhB,QADoE;AAE9EiB,iBAAW,IAFmE;AAG9EC,YAAMZ,SAHwE;AAI9EC,mBAAaA,WAJiE;AAK9EF,YAAMA,IALwE;AAM9EpB,aAAOA,KANuE;AAO9EkC,gBAAU,KAAKrB;AAP+D,KAA/B,CAA5B,CAFrB,EAUK,oCAAgB,EAAhB,EAAoB,KAAK,CAAzB,EAA4B,qCAAa;AAC5CsB,gBAAUpC;AADkC,KAAb,EAE9B,KAAK,CAFyB,EAEtBA,OAAOlB,IAAP,GAAc0C,WAFQ,CAA5B,CAVL,CATK,CAAP;AAuBD,GAxCD;;AA0CA,SAAOvC,YAAP;AACD,CA7EkB,CA6EjB,gBAAMoD,SA7EW,CAAnB;;AA+EApD,aAAaqD,YAAb,GAA4B;AAC1Bd,eAAa,IADa;AAE1BF,aAAW;AAFe,CAA5B;kBAIerC,Y;;AACfA,aAAasD,SAAb,GAAyBC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC;AAC/DtB,YAAU,oBAAUuB,IAD2C;AAE/DpB,eAAa,oBAAUqB,MAFwC;AAG/DpB,eAAa,oBAAUoB,MAHwC;AAI/DtB,aAAW,oBAAUsB,MAJ0C;AAK/DvB,QAAM,oBAAUsB,IAL+C;AAM/D1C,SAAO,oBAAU2C,MAN8C;;AAQ/DnB,iBAAe,oBAAUmB,MARsC;AAS/DlB,oBAAkB,oBAAUkB,MATmC;AAU/DjB,kBAAgB,oBAAUiB,MAVqC;;AAY/DrC,YAAU,oBAAUsC,IAAV,CAAeC,UAZsC;AAa/DjC,YAAU,oBAAUgC,IAAV,CAAeC;AAbsC,CAAxC,GAcrB,EAdJ;AAeA","file":"index.js","sourcesContent":["import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from 'material-ui/Dialog';\n\nimport Form from '../../Form';\nimport FormGroup from '../../Form/Group';\nimport TextField from '../../Form/TextField';\nimport Button from '../../Form/Button';\nimport Loader from '../../Loader';\n\nexport default class PromptDialog extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n    placeholder: PropTypes.string,\n    submitLabel: PropTypes.string,\n    inputType: PropTypes.string,\n    icon: PropTypes.node,\n    value: PropTypes.string,\n\n    bodyClassName: PropTypes.string,\n    contentClassName: PropTypes.string,\n    titleClassName: PropTypes.string,\n\n    onSubmit: PropTypes.func.isRequired,\n    onCancel: PropTypes.func.isRequired\n  };\n\n  static defaultProps = {\n    submitLabel: 'OK',\n    inputType: 'text'\n  };\n\n  state = {\n    busy: false,\n    value: this.props.value || ''\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const promise = this.props.onSubmit(this.input.value);\n    if (promise && promise.then) {\n      this.setState({ busy: true });\n      const onDone = () => {\n        this.setState({ busy: false });\n      };\n      promise.then(onDone, onDone);\n    }\n  };\n\n  handleClose = () => {\n    this.props.onCancel();\n  };\n\n  handleInputChange = (event) => {\n    this.setState({ value: event.target.value });\n  };\n\n  refInput = (input) => {\n    this.input = input;\n  };\n\n  render() {\n    const {\n      children,\n      icon,\n      inputType,\n      placeholder,\n      submitLabel,\n\n      bodyClassName,\n      contentClassName,\n      titleClassName,\n\n      ...props\n    } = this.props;\n    const {\n      busy,\n      value\n    } = this.state;\n\n    return (\n      <Dialog\n        {...props}\n        contentClassName={cx('Dialog', contentClassName)}\n        bodyClassName={cx('Dialog-body', bodyClassName)}\n        titleClassName={cx('Dialog-title', titleClassName)}\n        onRequestClose={this.handleClose}\n        open\n      >\n        <Form onSubmit={this.handleSubmit}>\n          {children}\n          <FormGroup>\n            <TextField\n              ref={this.refInput}\n              autoFocus\n              type={inputType}\n              placeholder={placeholder}\n              icon={icon}\n              value={value}\n              onChange={this.handleInputChange}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Button disabled={busy}>\n              {busy ? <div className=\"Button-loading\"><Loader size=\"tiny\" /></div> : submitLabel}\n            </Button>\n          </FormGroup>\n        </Form>\n      </Dialog>\n    );\n  }\n}\n"]}