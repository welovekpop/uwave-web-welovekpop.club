{"version":3,"sources":["components/Dialogs/PromptDialog/index.js"],"names":["_ref","className","size","PromptDialog","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","state","busy","value","props","title","handleSubmit","event","preventDefault","promise","onSubmit","input","then","setState","onDone","handleClose","onCancel","handleInputChange","target","refInput","prototype","render","_props","children","icon","inputType","placeholder","submitLabel","bodyClassName","contentClassName","titleClassName","_state","createElement","fullWidth","classes","paper","onClose","id","ref","autoFocus","type","onChange","disabled","Component","defaultProps","open","propTypes","process","env","NODE_ENV","node","string","bool","func","isRequired"],"mappings":"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","file":"index.js","sourcesContent":["import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog, { DialogTitle, DialogContent } from 'material-ui/Dialog';\nimport { CircularProgress } from 'material-ui/Progress';\nimport uniqueId from 'lodash/uniqueId';\nimport Form from '../../Form';\nimport FormGroup from '../../Form/Group';\nimport TextField from '../../Form/TextField';\nimport Button from '../../Form/Button';\n\nexport default class PromptDialog extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n    placeholder: PropTypes.string,\n    submitLabel: PropTypes.string,\n    inputType: PropTypes.string,\n    icon: PropTypes.node,\n    value: PropTypes.string,\n    title: PropTypes.string,\n    open: PropTypes.bool,\n\n    bodyClassName: PropTypes.string,\n    contentClassName: PropTypes.string,\n    titleClassName: PropTypes.string,\n\n    onSubmit: PropTypes.func.isRequired,\n    onCancel: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    submitLabel: 'OK',\n    inputType: 'text',\n    open: true,\n  };\n\n  state = {\n    busy: false,\n    value: this.props.value || '',\n  };\n\n  title = uniqueId('title');\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const promise = this.props.onSubmit(this.input.value);\n    if (promise && promise.then) {\n      this.setState({ busy: true });\n      const onDone = () => {\n        this.setState({ busy: false });\n      };\n      promise.then(onDone, onDone);\n    }\n  };\n\n  handleClose = () => {\n    this.props.onCancel();\n  };\n\n  handleInputChange = (event) => {\n    this.setState({ value: event.target.value });\n  };\n\n  refInput = (input) => {\n    this.input = input;\n  };\n\n  render() {\n    const {\n      children,\n      icon,\n      inputType,\n      placeholder,\n      submitLabel,\n      title,\n\n      bodyClassName,\n      contentClassName,\n      titleClassName,\n\n      ...props\n    } = this.props;\n    const {\n      busy,\n      value,\n    } = this.state;\n\n    return (\n      <Dialog\n        fullWidth\n        {...props}\n        classes={{\n          paper: cx('Dialog', contentClassName),\n        }}\n        onClose={this.handleClose}\n        aria-labelledby={this.title}\n      >\n        <DialogTitle className={cx('Dialog-title', titleClassName)} id={this.title}>\n          {title}\n        </DialogTitle>\n        <DialogContent className={cx('Dialog-body', bodyClassName)}>\n          <Form onSubmit={this.handleSubmit}>\n            {children}\n            <FormGroup>\n              <TextField\n                ref={this.refInput}\n                autoFocus\n                type={inputType}\n                placeholder={placeholder}\n                icon={icon}\n                value={value}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Button disabled={busy}>\n                {busy ? <div className=\"Button-loading\"><CircularProgress size=\"100%\" /></div> : submitLabel}\n              </Button>\n            </FormGroup>\n          </Form>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n}\n"]}