{"version":3,"sources":["components/Dialogs/PromptDialog/index.js"],"names":["_ref","className","CircularProgress","size","PromptDialog","_React$Component","_temp","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","busy","value","props","title","handleSubmit","event","preventDefault","promise","onSubmit","input","then","setState","onDone","handleClose","onCancel","handleInputChange","target","refInput","_proto","prototype","render","_this$props","children","icon","inputType","placeholder","submitLabel","bodyClassName","contentClassName","titleClassName","_this$state","React","createElement","Dialog","fullWidth","classes","paper","onClose","DialogTitle","id","DialogContent","Form","FormGroup","TextField","ref","autoFocus","type","onChange","Button","disabled","Component","defaultProps","open","propTypes","process","env","NODE_ENV","PropTypes","node","string","bool","func","isRequired"],"mappings":"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","file":"index.js","sourcesContent":["import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport uniqueId from 'lodash/uniqueId';\nimport Form from '../../Form';\nimport FormGroup from '../../Form/Group';\nimport TextField from '../../Form/TextField';\nimport Button from '../../Form/Button';\n\nexport default class PromptDialog extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n    placeholder: PropTypes.string,\n    submitLabel: PropTypes.string,\n    inputType: PropTypes.string,\n    icon: PropTypes.node,\n    value: PropTypes.string,\n    title: PropTypes.string,\n    open: PropTypes.bool,\n\n    bodyClassName: PropTypes.string,\n    contentClassName: PropTypes.string,\n    titleClassName: PropTypes.string,\n\n    onSubmit: PropTypes.func.isRequired,\n    onCancel: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    submitLabel: 'OK',\n    inputType: 'text',\n    open: true,\n  };\n\n  state = {\n    busy: false,\n    value: this.props.value || '',\n  };\n\n  title = uniqueId('title');\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const promise = this.props.onSubmit(this.input.value);\n    if (promise && promise.then) {\n      this.setState({ busy: true });\n      const onDone = () => {\n        this.setState({ busy: false });\n      };\n      promise.then(onDone, onDone);\n    }\n  };\n\n  handleClose = () => {\n    this.props.onCancel();\n  };\n\n  handleInputChange = (event) => {\n    this.setState({ value: event.target.value });\n  };\n\n  refInput = (input) => {\n    this.input = input;\n  };\n\n  render() {\n    const {\n      children,\n      icon,\n      inputType,\n      placeholder,\n      submitLabel,\n      title,\n\n      bodyClassName,\n      contentClassName,\n      titleClassName,\n\n      ...props\n    } = this.props;\n    const {\n      busy,\n      value,\n    } = this.state;\n\n    return (\n      <Dialog\n        fullWidth\n        {...props}\n        classes={{\n          paper: cx('Dialog', contentClassName),\n        }}\n        onClose={this.handleClose}\n        aria-labelledby={this.title}\n      >\n        <DialogTitle className={cx('Dialog-title', titleClassName)} id={this.title}>\n          {title}\n        </DialogTitle>\n        <DialogContent className={cx('Dialog-body', bodyClassName)}>\n          <Form onSubmit={this.handleSubmit}>\n            {children}\n            <FormGroup>\n              <TextField\n                ref={this.refInput}\n                autoFocus\n                type={inputType}\n                placeholder={placeholder}\n                icon={icon}\n                value={value}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Button disabled={busy}>\n                {busy ? <div className=\"Button-loading\"><CircularProgress size=\"100%\" /></div> : submitLabel}\n              </Button>\n            </FormGroup>\n          </Form>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n}\n"]}