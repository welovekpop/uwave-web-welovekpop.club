{"version":3,"sources":["selectors/settingSelectors.js"],"names":["find","createSelector","createMuiTheme","availableLanguages","getAvailableLanguage","languages","indexOf","lang","getDefaultLanguage","window","navigator","browserLanguage","settingsBaseSelector","state","settings","themeSelector","theme","base","volumeSelector","volume","isMutedSelector","muted","languageSelector","defaultLanguage","language","videoSizeSelector","videoSize","videoEnabledSelector","videoEnabled","settingsSelector","notificationSettingsSelector","notifications"],"mappings":";;AAAA;AACA,OAAOA,IAAP,MAAiB,YAAjB;AACA,SAASC,cAAT,QAA+B,UAA/B;AACA,SAASC,cAAT,QAA+B,uBAA/B;AACA,SAASC,kBAAT,QAAmC,WAAnC;;AAEA,SAASC,oBAAT,CAA8BC,SAA9B,EAAyC;AACvC,SAAOL,KAAKK,SAAL,EAAgB;AAAA,WACrBF,mBAAmBG,OAAnB,CAA2BC,IAA3B,MAAqC,CAAC,CADjB;AAAA,GAAhB,CAAP;AAGD;;AAED,SAASC,kBAAT,GAA8B;AAC5B,MAAI,OAAOC,MAAP,KAAkB,QAAlB,IAA8BA,OAAOC,SAArC,IAAkDD,OAAOC,SAAP,CAAiBL,SAAvE,EAAkF;AAChF,QAAMM,kBAAkBP,qBAAqBK,OAAOC,SAAP,CAAiBL,SAAtC,CAAxB;;AACA,QAAIM,eAAJ,EAAqB;AACnB,aAAOA,eAAP;AACD;AACF;;AACD,SAAO,IAAP;AACD;;AAED,IAAMC,uBAAuB,SAAvBA,oBAAuB;AAAA,SAASC,MAAMC,QAAf;AAAA,CAA7B;;AAEA,OAAO,IAAMC,gBAAgBd,eAC3B;AAAA,SAASY,MAAMG,KAAf;AAAA,CAD2B,EAE3B;AAAA,SAAQd,eAAee,IAAf,CAAR;AAAA,CAF2B,CAAtB;AAKP,OAAO,IAAMC,iBAAiBjB,eAC5BW,oBAD4B,EAE5B;AAAA,SAAYE,SAASK,MAArB;AAAA,CAF4B,CAAvB;AAKP,OAAO,IAAMC,kBAAkBnB,eAC7BW,oBAD6B,EAE7B;AAAA,SAAYE,SAASO,KAArB;AAAA,CAF6B,CAAxB;AAKP,OAAO,IAAMC,mBAAmBrB,eAC9BW,oBAD8B,EAE9BJ,kBAF8B,EAG9B,UAACM,QAAD,EAAWS,eAAX;AAAA,SAA+BT,SAASU,QAAT,IAAqBD,eAApD;AAAA,CAH8B,CAAzB;AAMP,OAAO,IAAME,oBAAoBxB,eAC/BW,oBAD+B,EAE/B;AAAA,SAAYE,SAASY,SAArB;AAAA,CAF+B,CAA1B;AAKP,OAAO,IAAMC,uBAAuB1B,eAClCW,oBADkC,EAElC;AAAA,SAAYE,SAASc,YAArB;AAAA,CAFkC,CAA7B,C,CAKP;AACA;;AACA,OAAO,IAAMC,mBAAmB5B,eAC9BW,oBAD8B,EAE9BM,cAF8B,EAG9BE,eAH8B,EAI9BK,iBAJ8B,EAK9BH,gBAL8B,EAM9B,UAACL,IAAD,EAAOE,MAAP,EAAeE,KAAf,EAAsBK,SAAtB,EAAiCF,QAAjC;AAAA,2BACKP,IADL;AAEEE,kBAFF;AAGEE,gBAHF;AAIEK,wBAJF;AAKEF;AALF;AAAA,CAN8B,CAAzB;AAeP,OAAO,IAAMM,+BAA+B7B,eAC1C4B,gBAD0C,EAE1C;AAAA,SAAYf,SAASiB,aAArB;AAAA,CAF0C,CAArC","sourcesContent":["/* global window */\nimport find from 'array-find';\nimport { createSelector } from 'reselect';\nimport { createMuiTheme } from 'material-ui/styles';\nimport { availableLanguages } from '../locale';\n\nfunction getAvailableLanguage(languages) {\n  return find(languages, lang => (\n    availableLanguages.indexOf(lang) !== -1\n  ));\n}\n\nfunction getDefaultLanguage() {\n  if (typeof window === 'object' && window.navigator && window.navigator.languages) {\n    const browserLanguage = getAvailableLanguage(window.navigator.languages);\n    if (browserLanguage) {\n      return browserLanguage;\n    }\n  }\n  return 'en';\n}\n\nconst settingsBaseSelector = state => state.settings;\n\nexport const themeSelector = createSelector(\n  state => state.theme,\n  base => createMuiTheme(base),\n);\n\nexport const volumeSelector = createSelector(\n  settingsBaseSelector,\n  settings => settings.volume,\n);\n\nexport const isMutedSelector = createSelector(\n  settingsBaseSelector,\n  settings => settings.muted,\n);\n\nexport const languageSelector = createSelector(\n  settingsBaseSelector,\n  getDefaultLanguage,\n  (settings, defaultLanguage) => settings.language || defaultLanguage,\n);\n\nexport const videoSizeSelector = createSelector(\n  settingsBaseSelector,\n  settings => settings.videoSize,\n);\n\nexport const videoEnabledSelector = createSelector(\n  settingsBaseSelector,\n  settings => settings.videoEnabled,\n);\n\n// Settings with selected values (from selectors above) rather than \"saved\"\n// values (from localStorage).\nexport const settingsSelector = createSelector(\n  settingsBaseSelector,\n  volumeSelector,\n  isMutedSelector,\n  videoSizeSelector,\n  languageSelector,\n  (base, volume, muted, videoSize, language) => ({\n    ...base,\n    volume,\n    muted,\n    videoSize,\n    language,\n  }),\n);\n\nexport const notificationSettingsSelector = createSelector(\n  settingsSelector,\n  settings => settings.notifications,\n);\n"],"file":"settingSelectors.js"}