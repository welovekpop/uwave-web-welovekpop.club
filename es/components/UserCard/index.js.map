{"version":3,"sources":["components/UserCard/index.js"],"names":["React","PropTypes","Modal","UserCard","UserCardWrapper","state","positionDiffX","positionDiffY","refContainer","container","shouldFit","fitInsideWindow","componentDidMount","componentDidUpdate","card","firstChild","rect","getBoundingClientRect","offsetBottom","window","innerHeight","bottom","setState","render","props","onClose","position","invisible","left","x","top","y","Component","propTypes","func","isRequired","shape","number"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;;IAEMC,e;;;;;;;;;;;;8GASJC,K,GAAQ;AACNC,qBAAe,CADT;AAENC,qBAAe;AAFT,K,QA4BRC,Y,GAAe,UAACC,SAAD,EAAe;AAC5B,YAAKA,SAAL,GAAiBA,SAAjB;;AACA,UAAI,MAAKC,SAAL,IAAkBD,SAAtB,EAAiC;AAC/B,cAAKE,eAAL;AACD;AACF,K;;;;;SA5BDC,iB,gCAAoB;AAClB,SAAKF,SAAL,GAAiB,IAAjB;AACD,G;;SAEDG,kB,iCAAqB;AACnB,SAAKH,SAAL,GAAiB,IAAjB;AACD,G;;SAEDC,e,8BAAkB;AAChB,QAAI,CAAC,KAAKF,SAAV,EAAqB;AACnB;AACD;;AAED,QAAMK,OAAO,KAAKL,SAAL,CAAeM,UAA5B;AACA,QAAMC,OAAOF,KAAKG,qBAAL,EAAb;AACA,QAAMC,eAAeC,OAAOC,WAAP,GAAqBJ,KAAKK,MAA/C;;AACA,QAAIH,eAAe,CAAnB,EAAsB;AACpB,WAAKI,QAAL,CAAc;AACZf,uBAAeW,eAAe;AADlB,OAAd;AAGD;AACF,G;;SASDK,M,qBAAS;AAAA,iBAKH,KAAKC,KALF;AAAA,QAELC,OAFK,UAELA,OAFK;AAAA,QAGLC,QAHK,UAGLA,QAHK;AAAA,QAIFF,KAJE;;AAAA,iBAMkC,KAAKnB,KANvC;AAAA,QAMCC,aAND,UAMCA,aAND;AAAA,QAMgBC,aANhB,UAMgBA,aANhB;AAQP,WACE,KAAC,KAAD;AACE,gBADF;AAEE,qBAAe;AAAEoB,mBAAW;AAAb,OAFjB;AAGE,eAASF;AAHX,eAKE;AACE,aAAO;AACLC,kBAAU,UADL;AAELE,cAAMF,SAASG,CAAT,GAAavB,aAFd;AAGLwB,aAAKJ,SAASK,CAAT,GAAaxB;AAHb,OADT;AAME,WAAK,KAAKC;AANZ,OAQE;AAAK,iBAAU;AAAf,eACE,oBAAC,QAAD,EAAcgB,KAAd,CADF,CARF,CALF,CADF;AAoBD,G;;;EAxE2BxB,MAAMgC,S;;AAA9B5B,e,CACG6B,S,2CAAY;AACjBR,WAASxB,UAAUiC,IAAV,CAAeC,UADP;AAEjBT,YAAUzB,UAAUmC,KAAV,CAAgB;AACxBP,OAAG5B,UAAUoC,MAAV,CAAiBF,UADI;AAExBJ,OAAG9B,UAAUoC,MAAV,CAAiBF;AAFI,GAAhB,EAGPA;AALc,C;AA0ErB,eAAe/B,eAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from 'material-ui/Modal';\nimport UserCard from './UserCard';\n\nclass UserCardWrapper extends React.Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    position: PropTypes.shape({\n      x: PropTypes.number.isRequired,\n      y: PropTypes.number.isRequired,\n    }).isRequired,\n  };\n\n  state = {\n    positionDiffX: 0,\n    positionDiffY: 0,\n  };\n\n  componentDidMount() {\n    this.shouldFit = true;\n  }\n\n  componentDidUpdate() {\n    this.shouldFit = true;\n  }\n\n  fitInsideWindow() {\n    if (!this.container) {\n      return;\n    }\n\n    const card = this.container.firstChild;\n    const rect = card.getBoundingClientRect();\n    const offsetBottom = window.innerHeight - rect.bottom;\n    if (offsetBottom < 0) {\n      this.setState({\n        positionDiffY: offsetBottom - 1,\n      });\n    }\n  }\n\n  refContainer = (container) => {\n    this.container = container;\n    if (this.shouldFit && container) {\n      this.fitInsideWindow();\n    }\n  };\n\n  render() {\n    const {\n      onClose,\n      position,\n      ...props\n    } = this.props;\n    const { positionDiffX, positionDiffY } = this.state;\n\n    return (\n      <Modal\n        open\n        BackdropProps={{ invisible: true }}\n        onClose={onClose}\n      >\n        <div\n          style={{\n            position: 'absolute',\n            left: position.x + positionDiffX,\n            top: position.y + positionDiffY,\n          }}\n          ref={this.refContainer}\n        >\n          <div className=\"UserCardWrapper\">\n            <UserCard {...props} />\n          </div>\n        </div>\n      </Modal>\n    );\n  }\n}\n\nexport default UserCardWrapper;\n"],"file":"index.js"}