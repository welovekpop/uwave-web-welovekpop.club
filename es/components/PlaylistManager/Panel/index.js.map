{"version":3,"sources":["components/PlaylistManager/Panel/index.js"],"names":["cx","React","PropTypes","MediaList","Loader","PlaylistMeta","PlainItemRow","PlaylistItemRow","AddToPlaylistAction","RemoveFromPlaylistAction","EditMediaAction","MoveToFirstAction","makeActions","onOpenAddMediaMenu","onMoveToFirst","onEditMedia","onRemoveFromPlaylist","isFiltered","media","selection","index","position","PlaylistPanel","props","className","playlist","loading","onShufflePlaylist","onActivatePlaylist","onRenamePlaylist","onDeletePlaylist","onNotDeletable","onLoadPlaylistPage","onFilterPlaylistItems","onMoveMedia","onOpenPreviewMediaDialog","list","length","_id","name","active","propTypes","string","object","isRequired","array","bool","func"],"mappings":"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","file":"index.js","sourcesContent":["import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport MediaList from '../../MediaList';\nimport Loader from '../../Loader';\n\nimport PlaylistMeta from './Meta';\nimport PlainItemRow from '../../MediaList/Row';\nimport PlaylistItemRow from './PlaylistItemRow';\n\nimport AddToPlaylistAction from '../../MediaList/Actions/AddToPlaylist';\nimport RemoveFromPlaylistAction from '../../MediaList/Actions/RemoveFromPlaylist';\nimport EditMediaAction from '../../MediaList/Actions/EditMedia';\nimport MoveToFirstAction from '../../MediaList/Actions/MoveToFirst';\n\nconst makeActions = ({\n  onOpenAddMediaMenu,\n  onMoveToFirst,\n  onEditMedia,\n  onRemoveFromPlaylist,\n  isFiltered\n}) =>\n  (media, selection, index) => [\n    <AddToPlaylistAction\n      key=\"add\"\n      onAdd={position => onOpenAddMediaMenu(position, media, selection)}\n    />,\n    // Don't show the \"move to first\" action on the first item in the playlist.\n    // If the playlist is filtered we don't know if the first item to show is\n    // also the first in the playlist, so just show it always in that case.\n    (index > 0 || isFiltered) && (\n      <MoveToFirstAction\n        key=\"first\"\n        onFirst={() => onMoveToFirst(media, selection)}\n      />\n    ),\n    <EditMediaAction\n      key=\"edit\"\n      onEdit={() => onEditMedia(media)}\n    />,\n    <RemoveFromPlaylistAction\n      key=\"remove\"\n      onRemove={() => onRemoveFromPlaylist(media, selection)}\n    />\n  ];\n\nconst PlaylistPanel = (props) => {\n  const {\n    className,\n    playlist,\n    media,\n    loading,\n    isFiltered,\n    onShufflePlaylist,\n    onActivatePlaylist,\n    onRenamePlaylist,\n    onDeletePlaylist,\n    onNotDeletable,\n    onLoadPlaylistPage,\n    onFilterPlaylistItems,\n    onMoveMedia,\n    onOpenPreviewMediaDialog\n  } = props;\n\n  let list;\n  if (loading) {\n    list = (\n      <div className=\"PlaylistPanel-loading\">\n        <Loader size=\"large\" />\n      </div>\n    );\n  } else {\n    list = (\n      <MediaList\n        className=\"PlaylistPanel-media\"\n        size={media.length}\n        media={media}\n        rowComponent={isFiltered ? PlainItemRow : PlaylistItemRow}\n        rowProps={{ onMoveMedia }}\n        onOpenPreviewMediaDialog={onOpenPreviewMediaDialog}\n        makeActions={makeActions(props)}\n        onRequestPage={onLoadPlaylistPage}\n      />\n    );\n  }\n\n  return (\n    <div className={cx('PlaylistPanel', className)}>\n      <PlaylistMeta\n        className=\"PlaylistPanel-meta\"\n        id={playlist._id}\n        name={playlist.name}\n        active={playlist.active}\n        onShufflePlaylist={onShufflePlaylist}\n        onActivatePlaylist={onActivatePlaylist}\n        onRenamePlaylist={onRenamePlaylist}\n        onDeletePlaylist={onDeletePlaylist}\n        onNotDeletable={onNotDeletable}\n        onFilter={onFilterPlaylistItems}\n      />\n      {list}\n    </div>\n  );\n};\n\nPlaylistPanel.propTypes = {\n  className: PropTypes.string,\n  playlist: PropTypes.object.isRequired,\n  media: PropTypes.array.isRequired,\n  loading: PropTypes.bool.isRequired,\n  isFiltered: PropTypes.bool.isRequired,\n  onShufflePlaylist: PropTypes.func.isRequired,\n  onActivatePlaylist: PropTypes.func.isRequired,\n  onRenamePlaylist: PropTypes.func.isRequired,\n  onDeletePlaylist: PropTypes.func.isRequired,\n  onLoadPlaylistPage: PropTypes.func.isRequired,\n  onFilterPlaylistItems: PropTypes.func.isRequired,\n  onNotDeletable: PropTypes.func.isRequired,\n  onMoveMedia: PropTypes.func.isRequired,\n  onOpenPreviewMediaDialog: PropTypes.func.isRequired\n};\n\nexport default PlaylistPanel;\n"]}