{"version":3,"sources":["components/Player/index.js"],"names":["cx","isEqual","React","PropTypes","injectMediaSources","enhance","Player","shouldComponentUpdate","nextProps","props","render","getAllMediaSources","enabled","size","volume","isMuted","media","seek","onPlay","mode","sources","players","Object","keys","map","sourceType","SourcePlayer","filter","player","Component","propTypes","func","isRequired","bool","string","number","object"],"mappings":";;;AAAA,OAAOA,EAAP,MAAe,YAAf;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,kBAAP,MAA+B,gCAA/B;AAEA,IAAMC,UAAUD,oBAAhB;;;;AA+Ba;AAAK,aAAU;AAAf,E;;IA7BPE,M;;;;;;;;;;;SAYJC,qB,kCAAsBC,S,EAAW;AAC/B,WAAO,CAACP,QAAQO,SAAR,EAAmB,KAAKC,KAAxB,CAAR;AACD,G;;SAEDC,M,qBAAS;AAAA,sBAUH,KAAKD,KAVF;AAAA,QAELE,kBAFK,eAELA,kBAFK;AAAA,QAGLC,OAHK,eAGLA,OAHK;AAAA,QAILC,IAJK,eAILA,IAJK;AAAA,QAKLC,MALK,eAKLA,MALK;AAAA,QAMLC,OANK,eAMLA,OANK;AAAA,QAOLC,KAPK,eAOLA,KAPK;AAAA,QAQLC,IARK,eAQLA,IARK;AAAA,QASLC,MATK,eASLA,MATK;;AAYP,QAAI,CAACF,KAAL,EAAY;AACV;AACD;;AAED,QAAMP,QAAQ;AACZG,sBADY;AAEZI,kBAFY;AAGZC,gBAHY;AAIZE,YAAMN,IAJM;AAKZC,cAAQC,UAAU,CAAV,GAAcD,MALV;AAMZI;AANY,KAAd;AASA,QAAME,UAAUT,oBAAhB;AACA,QAAMU,UAAUC,OAAOC,IAAP,CAAYH,OAAZ,EAAqBI,GAArB,CAAyB,UAACC,UAAD,EAAgB;AACvD,UAAMC,eAAeN,QAAQK,UAAR,EAAoBnB,MAAzC;;AACA,UAAI,CAACoB,YAAL,EAAmB;AACjB,eAAO,IAAP;AACD;;AACD,aACE,oBAAC,YAAD;AACE,aAAKD;AADP,SAEMhB,KAFN;AAGE,gBAAQO,MAAMS,UAAN,KAAqBA;AAH/B,SADF;AAOD,KAZe,EAYbE,MAZa,CAYN;AAAA,aAAUC,WAAW,IAArB;AAAA,KAZM,CAAhB;AAcA,WACE;AAAK,iBAAW5B,GAAG,QAAH,eAAwBgB,MAAMS,UAA9B,eAAuDZ,IAAvD;AAAhB,eACGQ,OADH,CADF;AAKD,G;;;EA7DkBnB,MAAM2B,S;;AAArBvB,M,CACGwB,S,2CAAY;AACjBnB,sBAAoBR,UAAU4B,IAAV,CAAeC,UADlB;AAEjBpB,WAAST,UAAU8B,IAFF;AAGjBpB,QAAMV,UAAU+B,MAHC;AAIjBpB,UAAQX,UAAUgC,MAJD;AAKjBpB,WAASZ,UAAU8B,IALF;AAMjBjB,SAAOb,UAAUiC,MANA;AAOjBnB,QAAMd,UAAUgC,MAPC;AAQjBjB,UAAQf,UAAU4B;AARD,C;AA+DrB,eAAe1B,QAAQC,MAAR,CAAf","sourcesContent":["import cx from 'classnames';\nimport isEqual from 'is-equal-shallow';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport injectMediaSources from '../../utils/injectMediaSources';\n\nconst enhance = injectMediaSources();\n\nclass Player extends React.Component {\n  static propTypes = {\n    getAllMediaSources: PropTypes.func.isRequired,\n    enabled: PropTypes.bool,\n    size: PropTypes.string,\n    volume: PropTypes.number,\n    isMuted: PropTypes.bool,\n    media: PropTypes.object,\n    seek: PropTypes.number,\n    onPlay: PropTypes.func,\n  };\n\n  shouldComponentUpdate(nextProps) {\n    return !isEqual(nextProps, this.props);\n  }\n\n  render() {\n    const {\n      getAllMediaSources,\n      enabled,\n      size,\n      volume,\n      isMuted,\n      media,\n      seek,\n      onPlay,\n    } = this.props;\n\n    if (!media) {\n      return <div className=\"Player\" />;\n    }\n\n    const props = {\n      enabled,\n      media,\n      seek,\n      mode: size,\n      volume: isMuted ? 0 : volume,\n      onPlay,\n    };\n\n    const sources = getAllMediaSources();\n    const players = Object.keys(sources).map((sourceType) => {\n      const SourcePlayer = sources[sourceType].Player;\n      if (!SourcePlayer) {\n        return null;\n      }\n      return (\n        <SourcePlayer\n          key={sourceType}\n          {...props}\n          active={media.sourceType === sourceType}\n        />\n      );\n    }).filter(player => player !== null);\n\n    return (\n      <div className={cx('Player', `Player--${media.sourceType}`, `Player--${size}`)}>\n        {players}\n      </div>\n    );\n  }\n}\n\nexport default enhance(Player);\n"],"file":"index.js"}