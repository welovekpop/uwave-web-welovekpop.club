{"version":3,"sources":["components/Dialogs/ConfirmDialog/index.js"],"names":["cx","React","PropTypes","Dialog","DialogContent","CircularProgress","Form","FormGroup","Button","ConfirmDialog","state","busy","handleSubmit","event","preventDefault","handleConfirm","promise","props","onConfirm","then","setState","onDone","handleClose","onCancel","render","children","cancelLabel","confirmLabel","className","Component","defaultProps","propTypes","node","string","func","isRequired"],"mappings":";;;AAAA,OAAOA,EAAP,MAAe,YAAf;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,IAAiBC,aAAjB,QAAsC,uBAAtC;AACA,SAASC,gBAAT,QAAiC,yBAAjC;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;;;;AAqEc;AAAK,aAAU;AAAf,E;;;;AAGY;AAAK,aAAU;AAAf,WAAgC,KAAC,gBAAD;AAAkB,QAAK;AAAvB,EAAhC,C;;IAtELC,a;;;;;;;;;;;;8GAgBnBC,K,GAAQ;AACNC,YAAM;AADA,K,QAIRC,Y,GAAe,UAACC,KAAD,EAAW;AACxBA,YAAMC,cAAN;AACD,K,QAEDC,a,GAAgB,UAACF,KAAD,EAAW;AACzBA,YAAMC,cAAN;;AACA,UAAME,UAAU,MAAKC,KAAL,CAAWC,SAAX,EAAhB;;AACA,UAAIF,WAAWA,QAAQG,IAAvB,EAA6B;AAC3B,cAAKC,QAAL,CAAc;AAAET,gBAAM;AAAR,SAAd;;AACA,YAAMU,SAAS,SAATA,MAAS,GAAM;AACnB,gBAAKD,QAAL,CAAc;AAAET,kBAAM;AAAR,WAAd;AACD,SAFD;;AAGAK,gBAAQG,IAAR,CAAaE,MAAb,EAAqBA,MAArB;AACD;AACF,K,QAEDC,W,GAAc,UAACT,KAAD,EAAW;AACvB,UAAIA,SAASA,MAAMC,cAAnB,EAAmC;AACjCD,cAAMC,cAAN;AACD;;AACD,YAAKG,KAAL,CAAWM,QAAX;AACD,K;;;;;SAEDC,M,qBAAS;AAAA,iBAMH,KAAKP,KANF;AAAA,QAELQ,QAFK,UAELA,QAFK;AAAA,QAGLC,WAHK,UAGLA,WAHK;AAAA,QAILC,YAJK,UAILA,YAJK;AAAA,QAKLC,SALK,UAKLA,SALK;AAAA,QAOCjB,IAPD,GAOU,KAAKD,KAPf,CAOCC,IAPD;AASP,WACE,KAAC,MAAD;AACE,iBAAWX,GAAG,QAAH,EAAa4B,SAAb,CADb;AAEE,eAAS,KAAKN,WAFhB;AAGE;AAHF,eAKE,KAAC,aAAD;AAAe,iBAAU;AAAzB,eACE,KAAC,IAAD;AAAM,gBAAU,KAAKV;AAArB,eACGa,QADH,EAEE,KAAC,SAAD;AAAW,iBAAU;AAArB,eACE;AAAK,iBAAU;AAAf,eACE,KAAC,MAAD;AAAQ,gBAAUd,IAAlB;AAAwB,eAAS,KAAKW;AAAtC,eACGI,WADH,CADF,CADF,QAOE;AAAK,iBAAU;AAAf,eACE,KAAC,MAAD;AAAQ,gBAAUf,IAAlB;AAAwB,eAAS,KAAKI;AAAtC,eACGJ,eAAgFgB,YADnF,CADF,CAPF,CAFF,CADF,CALF,CADF;AA0BD,G;;;EA9EwC1B,MAAM4B,S;;AAA5BpB,a,CAWZqB,Y,GAAe;AACpBJ,eAAa,QADO;AAEpBC,gBAAc;AAFM,C;SAXHlB,a;AAAAA,a,CACZsB,S,2CAAY;AACjBN,YAAUvB,UAAU8B,IADH;AAEjBJ,aAAW1B,UAAU+B,MAFJ;AAGjBN,gBAAczB,UAAU+B,MAHP;AAIjBP,eAAaxB,UAAU+B,MAJN;AAMjBf,aAAWhB,UAAUgC,IAAV,CAAeC,UANT;AAOjBZ,YAAUrB,UAAUgC,IAAV,CAAeC;AAPR,C","sourcesContent":["import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog, { DialogContent } from 'material-ui/Dialog';\nimport { CircularProgress } from 'material-ui/Progress';\nimport Form from '../../Form';\nimport FormGroup from '../../Form/Group';\nimport Button from '../../Form/Button';\n\nexport default class ConfirmDialog extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n    confirmLabel: PropTypes.string,\n    cancelLabel: PropTypes.string,\n\n    onConfirm: PropTypes.func.isRequired,\n    onCancel: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    cancelLabel: 'Cancel',\n    confirmLabel: 'OK',\n  };\n\n  state = {\n    busy: false,\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n  };\n\n  handleConfirm = (event) => {\n    event.preventDefault();\n    const promise = this.props.onConfirm();\n    if (promise && promise.then) {\n      this.setState({ busy: true });\n      const onDone = () => {\n        this.setState({ busy: false });\n      };\n      promise.then(onDone, onDone);\n    }\n  };\n\n  handleClose = (event) => {\n    if (event && event.preventDefault) {\n      event.preventDefault();\n    }\n    this.props.onCancel();\n  };\n\n  render() {\n    const {\n      children,\n      cancelLabel,\n      confirmLabel,\n      className,\n    } = this.props;\n    const { busy } = this.state;\n\n    return (\n      <Dialog\n        className={cx('Dialog', className)}\n        onClose={this.handleClose}\n        open\n      >\n        <DialogContent className=\"Dialog-body\">\n          <Form onSubmit={this.handleSubmit}>\n            {children}\n            <FormGroup className=\"ConfirmDialog-buttons FormGroup--noSpacing\">\n              <div className=\"ConfirmDialog-button\">\n                <Button disabled={busy} onClick={this.handleClose}>\n                  {cancelLabel}\n                </Button>\n              </div>\n              <div className=\"ConfirmDialog-spacer\" />\n              <div className=\"ConfirmDialog-button\">\n                <Button disabled={busy} onClick={this.handleConfirm}>\n                  {busy ? <div className=\"Button-loading\"><CircularProgress size=\"100%\" /></div> : confirmLabel}\n                </Button>\n              </div>\n            </FormGroup>\n          </Form>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n}\n"],"file":"index.js"}