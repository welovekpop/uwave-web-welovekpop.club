{"version":3,"sources":["components/Dialogs/LoginDialog/LoginForm.js"],"names":["React","PropTypes","translate","EmailIcon","PasswordIcon","CircularProgress","Form","FormGroup","TextField","Button","SocialLogin","Separator","enhance","LoginForm","state","busy","handleSubmit","event","preventDefault","setState","props","onLogin","email","value","password","finally","handleResetPassword","onOpenResetPasswordDialog","refEmail","refPassword","render","t","error","supportsSocialAuth","message","Component","propTypes","func","isRequired","object","bool"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport EmailIcon from '@material-ui/icons/Email';\nimport PasswordIcon from '@material-ui/icons/Lock';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Form from '../../Form';\nimport FormGroup from '../../Form/Group';\nimport TextField from '../../Form/TextField';\nimport Button from '../../Form/Button';\nimport SocialLogin from './SocialLogin';\nimport Separator from './Separator';\n\nconst enhance = translate();\n\nclass LoginForm extends React.Component {\n  static propTypes = {\n    t: PropTypes.func.isRequired,\n    error: PropTypes.object,\n    supportsSocialAuth: PropTypes.bool,\n    onLogin: PropTypes.func,\n    onOpenResetPasswordDialog: PropTypes.func,\n  };\n\n  state = { busy: false };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.setState({ busy: true });\n    this.props.onLogin({\n      email: this.email.value,\n      password: this.password.value,\n    }).finally(() => {\n      this.setState({ busy: false });\n    });\n  };\n\n  handleResetPassword = (event) => {\n    event.preventDefault();\n    this.props.onOpenResetPasswordDialog();\n  };\n\n  refEmail = (email) => {\n    this.email = email;\n  };\n\n  refPassword = (password) => {\n    this.password = password;\n  };\n\n  render() {\n    const { t, error, supportsSocialAuth } = this.props;\n    const { busy } = this.state;\n\n    return (\n      <Form className=\"LoginForm\" onSubmit={this.handleSubmit}>\n        {error && <FormGroup>{error.message}</FormGroup>}\n        {supportsSocialAuth && (\n          <React.Fragment>\n            <SocialLogin />\n            <Separator />\n          </React.Fragment>\n        )}\n        <FormGroup>\n          <TextField\n            ref={this.refEmail}\n            className=\"LoginForm-field\"\n            type=\"email\"\n            autocomplete=\"email\"\n            placeholder={t('login.email')}\n            icon={<EmailIcon nativeColor=\"#9f9d9e\" />}\n            autoFocus\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <TextField\n            ref={this.refPassword}\n            className=\"LoginForm-field\"\n            type=\"password\"\n            autocomplete=\"current-password\"\n            placeholder={t('login.password')}\n            icon={<PasswordIcon nativeColor=\"#9f9d9e\" />}\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <Button\n            className=\"LoginForm-submit\"\n            disabled={busy}\n          >\n            {busy ? (\n              <div className=\"Button-loading\">\n                <CircularProgress size=\"100%\" />\n              </div>\n            ) : t('login.login')}\n          </Button>\n        </FormGroup>\n\n        <FormGroup className=\"LoginForm-forgot\">\n          <button onClick={this.handleResetPassword} className=\"LoginForm-forgotLink\">\n            Forgot Password?\n          </button>\n        </FormGroup>\n      </Form>\n    );\n  }\n}\n\nexport default enhance(LoginForm);\n"],"file":"LoginForm.js"}