{"version":3,"sources":["components/Dialogs/LoginDialog/LoginForm.js"],"names":["React","PropTypes","translate","EmailIcon","PasswordIcon","CircularProgress","Form","FormGroup","TextField","Button","SocialLogin","Separator","enhance","LoginForm","state","busy","handleSubmit","event","preventDefault","setState","props","onLogin","email","value","password","handleResetPassword","onOpenResetPasswordDialog","refEmail","refPassword","componentWillReceiveProps","render","t","error","supportsSocialAuth","message","Component","propTypes","func","isRequired","object","bool"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,YAAP,MAAyB,wBAAzB;AACA,SAASC,gBAAT,QAAiC,yBAAjC;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,SAAP,MAAsB,aAAtB;;AAEA,IAAMC,UAAUV,WAAhB;;gBA+CW,MAAM,Q,mBACJ,W,YACA,S;;iBASM,S;eAAsB;;;iBAWtB,Y;eAAyB;;;;aAUf;gBACZ,gB;QAAsB;;;IA9EjCW,S;;;;;;;;;;;;wJASJC,K,GAAQ,EAAEC,MAAM,KAAR,E,QAMRC,Y,GAAe,UAACC,KAAD,EAAW;AACxBA,YAAMC,cAAN;AACA,YAAKC,QAAL,CAAc,EAAEJ,MAAM,IAAR,EAAd;AACA,YAAKK,KAAL,CAAWC,OAAX,CAAmB;AACjBC,eAAO,MAAKA,KAAL,CAAWC,KADD;AAEjBC,kBAAU,MAAKA,QAAL,CAAcD;AAFP,OAAnB;AAID,K,QAEDE,mB,GAAsB,UAACR,KAAD,EAAW;AAC/BA,YAAMC,cAAN;AACA,YAAKE,KAAL,CAAWM,yBAAX;AACD,K,QAEDC,Q,GAAW,UAACL,KAAD,EAAW;AACpB,YAAKA,KAAL,GAAaA,KAAb;AACD,K,QAEDM,W,GAAc,UAACJ,QAAD,EAAc;AAC1B,YAAKA,QAAL,GAAgBA,QAAhB;AACD,K;;;sBAxBDK,yB,wCAA4B;AAC1B,SAAKV,QAAL,CAAc,EAAEJ,MAAM,KAAR,EAAd;AACD,G;;sBAwBDe,M,qBAAS;AAAA,iBACkC,KAAKV,KADvC;AAAA,QACCW,CADD,UACCA,CADD;AAAA,QACIC,KADJ,UACIA,KADJ;AAAA,QACWC,kBADX,UACWA,kBADX;AAAA,QAEClB,IAFD,GAEU,KAAKD,KAFf,CAECC,IAFD;;;AAIP,gBACG,IADH;AAAA,iBACkB,WADlB;AAAA,gBACwC,KAAKC;AAD7C,eAEKgB,cAAU,SAAV,cAAqBA,MAAME,OAA3B,CAFL,EAGKD,0BAHL,OASK,SATL,cAUM,oBAAC,SAAD;AACE,WAAK,KAAKN,QADZ;AAEE,iBAAU,iBAFZ;AAGE,YAAK,OAHP;AAIE,mBAAaI,EAAE,aAAF,CAJf;AAKE,iBALF;AAME;AANF,MAVN,QAoBK,SApBL,cAqBM,oBAAC,SAAD;AACE,WAAK,KAAKH,WADZ;AAEE,iBAAU,iBAFZ;AAGE,YAAK,UAHP;AAIE,mBAAaG,EAAE,gBAAF,CAJf;AAKE;AALF,MArBN,QA8BK,SA9BL,mBA+BO,MA/BP;AAAA,iBAgCkB,kBAhClB;AAAA,gBAiCkBhB;AAjClB,eAmCSA,eAIGgB,EAAE,aAAF,CAvCZ,SA2CK,SA3CL;AAAA,iBA2CyB;AA3CzB;AAAA,eA4CuB,KAAKN,mBA5C5B;AAAA,iBA4C2D;AA5C3D;AAkDD,G;;;EA3FqBzB,MAAMmC,S;;AAAxBtB,S,CACGuB,S,2CAAY;AACjBL,KAAG9B,UAAUoC,IAAV,CAAeC,UADD;AAEjBN,SAAO/B,UAAUsC,MAFA;AAGjBN,sBAAoBhC,UAAUuC,IAHb;AAIjBnB,WAASpB,UAAUoC,IAJF;AAKjBX,6BAA2BzB,UAAUoC;AALpB,C;;;AA6FrB,eAAezB,QAAQC,SAAR,CAAf","file":"LoginForm.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport EmailIcon from 'material-ui-icons/Email';\nimport PasswordIcon from 'material-ui-icons/Lock';\nimport { CircularProgress } from 'material-ui/Progress';\nimport Form from '../../Form';\nimport FormGroup from '../../Form/Group';\nimport TextField from '../../Form/TextField';\nimport Button from '../../Form/Button';\nimport SocialLogin from './SocialLogin';\nimport Separator from './Separator';\n\nconst enhance = translate();\n\nclass LoginForm extends React.Component {\n  static propTypes = {\n    t: PropTypes.func.isRequired,\n    error: PropTypes.object,\n    supportsSocialAuth: PropTypes.bool,\n    onLogin: PropTypes.func,\n    onOpenResetPasswordDialog: PropTypes.func,\n  };\n\n  state = { busy: false };\n\n  componentWillReceiveProps() {\n    this.setState({ busy: false });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.setState({ busy: true });\n    this.props.onLogin({\n      email: this.email.value,\n      password: this.password.value,\n    });\n  };\n\n  handleResetPassword = (event) => {\n    event.preventDefault();\n    this.props.onOpenResetPasswordDialog();\n  };\n\n  refEmail = (email) => {\n    this.email = email;\n  };\n\n  refPassword = (password) => {\n    this.password = password;\n  };\n\n  render() {\n    const { t, error, supportsSocialAuth } = this.props;\n    const { busy } = this.state;\n\n    return (\n      <Form className=\"LoginForm\" onSubmit={this.handleSubmit}>\n        {error && <FormGroup>{error.message}</FormGroup>}\n        {supportsSocialAuth && (\n          <React.Fragment>\n            <SocialLogin />\n            <Separator />\n          </React.Fragment>\n        )}\n        <FormGroup>\n          <TextField\n            ref={this.refEmail}\n            className=\"LoginForm-field\"\n            type=\"email\"\n            placeholder={t('login.email')}\n            icon={<EmailIcon nativeColor=\"#9f9d9e\" />}\n            autoFocus\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <TextField\n            ref={this.refPassword}\n            className=\"LoginForm-field\"\n            type=\"password\"\n            placeholder={t('login.password')}\n            icon={<PasswordIcon nativeColor=\"#9f9d9e\" />}\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <Button\n            className=\"LoginForm-submit\"\n            disabled={busy}\n          >\n            {busy ? (\n              <div className=\"Button-loading\">\n                <CircularProgress size=\"100%\" />\n              </div>\n            ) : t('login.login')}\n          </Button>\n        </FormGroup>\n\n        <FormGroup className=\"LoginForm-forgot\">\n          <button onClick={this.handleResetPassword} className=\"LoginForm-forgotLink\">\n            Forgot Password?\n          </button>\n        </FormGroup>\n      </Form>\n    );\n  }\n}\n\nexport default enhance(LoginForm);\n"]}