{"version":3,"sources":["components/Dialogs/LoginDialog/ResetPasswordForm.js"],"names":["React","PropTypes","translate","CircularProgress","EmailIcon","Form","FormGroup","TextField","Button","enhance","ResetPasswordForm","state","busy","done","handleSubmit","event","preventDefault","setState","Promise","resolve","props","onResetPassword","email","value","then","refEmail","componentWillReceiveProps","render","t","error","onCloseDialog","message","Component","propTypes","func","isRequired","object"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,OAAOC,gBAAP,MAA6B,uCAA7B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,IAAMC,UAAUP,WAAhB;;;;AA8DkB,KAAC,SAAD;AAAW,eAAY;AAAvB,E;;;;AAUJ;AAAK,aAAU;AAAf,WAAgC,KAAC,gBAAD;AAAkB,QAAK;AAAvB,EAAhC,C;;IAtERQ,iB;;;;;;;;;;;;8GAQJC,K,GAAQ;AACNC,YAAM,KADA;AAENC,YAAM;AAFA,K,QASRC,Y,GAAe,UAACC,KAAD,EAAW;AACxBA,YAAMC,cAAN;;AACA,YAAKC,QAAL,CAAc;AAAEL,cAAM;AAAR,OAAd;;AACAM,cAAQC,OAAR,CAAgB,MAAKC,KAAL,CAAWC,eAAX,CAA2B;AACzCC,eAAO,MAAKA,KAAL,CAAWC;AADuB,OAA3B,CAAhB,EAEIC,IAFJ,CAES,YAAM;AACb,cAAKP,QAAL,CAAc;AACZL,gBAAM,KADM;AAEZC,gBAAM;AAFM,SAAd;AAID,OAPD;AAQD,K,QAEDY,Q,GAAW,UAACH,KAAD,EAAW;AACpB,YAAKA,KAAL,GAAaA,KAAb;AACD,K;;;;;SAnBDI,yB,wCAA4B;AAC1B,SAAKT,QAAL,CAAc;AAAEL,YAAM;AAAR,KAAd;AACD,G;;SAmBDe,M,qBAAS;AAAA,sBAC6B,KAAKP,KADlC;AAAA,QACCQ,CADD,eACCA,CADD;AAAA,QACIC,KADJ,eACIA,KADJ;AAAA,QACWC,aADX,eACWA,aADX;AAAA,sBAEgB,KAAKnB,KAFrB;AAAA,QAECC,IAFD,eAECA,IAFD;AAAA,QAEOC,IAFP,eAEOA,IAFP;;AAIP,QAAIA,IAAJ,EAAU;AACR,aACE,wBACE,sBAAIe,EAAE,yBAAF,CAAJ,CADF,EAEE,sBACE,KAAC,MAAD;AAAQ,mBAAU,0BAAlB;AAA6C,iBAASE;AAAtD,iBACGF,EAAE,OAAF,CADH,CADF,CAFF,CADF;AAUD;;AAED,WACE,KAAC,IAAD;AAAM,iBAAU,mBAAhB;AAAoC,gBAAU,KAAKd;AAAnD,eACGe,SAAS,KAAC,SAAD,cAAYA,MAAME,OAAlB,CADZ,EAEE,KAAC,SAAD,cACE,oBAAC,SAAD;AACE,WAAK,KAAKN,QADZ;AAEE,iBAAU,yBAFZ;AAGE,YAAK,OAHP;AAIE,mBAAY,QAJd;AAKE;AALF,MADF,CAFF,EAYE,KAAC,SAAD,cACE,KAAC,MAAD;AACE,iBAAU,0BADZ;AAEE,gBAAUb;AAFZ,eAIGA,eAEGgB,EAAE,4BAAF,CANN,CADF,CAZF,CADF;AAyBD,G;;;EA5E6B5B,MAAMgC,S;;AAAhCtB,iB,CACGuB,S,2CAAY;AACjBL,KAAG3B,UAAUiC,IAAV,CAAeC,UADD;AAEjBN,SAAO5B,UAAUmC,MAFA;AAGjBf,mBAAiBpB,UAAUiC,IAAV,CAAeC,UAHf;AAIjBL,iBAAe7B,UAAUiC,IAAV,CAAeC;AAJb,C;AA8ErB,eAAe1B,QAAQC,iBAAR,CAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport EmailIcon from '@material-ui/icons/Email';\nimport Form from '../../Form';\nimport FormGroup from '../../Form/Group';\nimport TextField from '../../Form/TextField';\nimport Button from '../../Form/Button';\n\nconst enhance = translate();\n\nclass ResetPasswordForm extends React.Component {\n  static propTypes = {\n    t: PropTypes.func.isRequired,\n    error: PropTypes.object,\n    onResetPassword: PropTypes.func.isRequired,\n    onCloseDialog: PropTypes.func.isRequired,\n  };\n\n  state = {\n    busy: false,\n    done: false,\n  };\n\n  componentWillReceiveProps() {\n    this.setState({ busy: false });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.setState({ busy: true });\n    Promise.resolve(this.props.onResetPassword({\n      email: this.email.value,\n    })).then(() => {\n      this.setState({\n        busy: false,\n        done: true,\n      });\n    });\n  };\n\n  refEmail = (email) => {\n    this.email = email;\n  };\n\n  render() {\n    const { t, error, onCloseDialog } = this.props;\n    const { busy, done } = this.state;\n\n    if (done) {\n      return (\n        <div>\n          <p>{t('login.passwordResetSent')}</p>\n          <p>\n            <Button className=\"ResetPasswordForm-submit\" onClick={onCloseDialog}>\n              {t('close')}\n            </Button>\n          </p>\n        </div>\n      );\n    }\n\n    return (\n      <Form className=\"ResetPasswordForm\" onSubmit={this.handleSubmit}>\n        {error && <FormGroup>{error.message}</FormGroup>}\n        <FormGroup>\n          <TextField\n            ref={this.refEmail}\n            className=\"ResetPasswordForm-field\"\n            type=\"email\"\n            placeholder=\"E-Mail\"\n            icon={<EmailIcon nativeColor=\"#9f9d9e\" />}\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <Button\n            className=\"ResetPasswordForm-submit\"\n            disabled={busy}\n          >\n            {busy ? (\n              <div className=\"Button-loading\"><CircularProgress size=\"100%\" /></div>\n            ) : t('login.requestPasswordReset')}\n          </Button>\n        </FormGroup>\n      </Form>\n    );\n  }\n}\n\nexport default enhance(ResetPasswordForm);\n"],"file":"ResetPasswordForm.js"}