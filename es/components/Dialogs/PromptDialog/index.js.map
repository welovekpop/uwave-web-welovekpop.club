{"version":3,"sources":["components/Dialogs/PromptDialog/index.js"],"names":["cx","React","PropTypes","Dialog","DialogTitle","DialogContent","CircularProgress","uniqueId","Form","FormGroup","TextField","Button","PromptDialog","state","busy","value","props","title","handleSubmit","event","preventDefault","promise","onSubmit","input","then","setState","onDone","handleClose","onCancel","handleInputChange","target","refInput","render","children","icon","inputType","placeholder","submitLabel","bodyClassName","contentClassName","titleClassName","paper","Component","defaultProps","open","propTypes","node","string","bool","func","isRequired"],"mappings":"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","file":"index.js","sourcesContent":["import cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog, { DialogTitle, DialogContent } from 'material-ui/Dialog';\nimport { CircularProgress } from 'material-ui/Progress';\nimport uniqueId from 'lodash/uniqueId';\nimport Form from '../../Form';\nimport FormGroup from '../../Form/Group';\nimport TextField from '../../Form/TextField';\nimport Button from '../../Form/Button';\n\nexport default class PromptDialog extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n    placeholder: PropTypes.string,\n    submitLabel: PropTypes.string,\n    inputType: PropTypes.string,\n    icon: PropTypes.node,\n    value: PropTypes.string,\n    title: PropTypes.string,\n    open: PropTypes.bool,\n\n    bodyClassName: PropTypes.string,\n    contentClassName: PropTypes.string,\n    titleClassName: PropTypes.string,\n\n    onSubmit: PropTypes.func.isRequired,\n    onCancel: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    submitLabel: 'OK',\n    inputType: 'text',\n    open: true,\n  };\n\n  state = {\n    busy: false,\n    value: this.props.value || '',\n  };\n\n  title = uniqueId('title');\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const promise = this.props.onSubmit(this.input.value);\n    if (promise && promise.then) {\n      this.setState({ busy: true });\n      const onDone = () => {\n        this.setState({ busy: false });\n      };\n      promise.then(onDone, onDone);\n    }\n  };\n\n  handleClose = () => {\n    this.props.onCancel();\n  };\n\n  handleInputChange = (event) => {\n    this.setState({ value: event.target.value });\n  };\n\n  refInput = (input) => {\n    this.input = input;\n  };\n\n  render() {\n    const {\n      children,\n      icon,\n      inputType,\n      placeholder,\n      submitLabel,\n      title,\n\n      bodyClassName,\n      contentClassName,\n      titleClassName,\n\n      ...props\n    } = this.props;\n    const {\n      busy,\n      value,\n    } = this.state;\n\n    return (\n      <Dialog\n        fullWidth\n        {...props}\n        classes={{\n          paper: cx('Dialog', contentClassName),\n        }}\n        onClose={this.handleClose}\n        aria-labelledby={this.title}\n      >\n        <DialogTitle className={cx('Dialog-title', titleClassName)} id={this.title}>\n          {title}\n        </DialogTitle>\n        <DialogContent className={cx('Dialog-body', bodyClassName)}>\n          <Form onSubmit={this.handleSubmit}>\n            {children}\n            <FormGroup>\n              <TextField\n                ref={this.refInput}\n                autoFocus\n                type={inputType}\n                placeholder={placeholder}\n                icon={icon}\n                value={value}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Button disabled={busy}>\n                {busy ? <div className=\"Button-loading\"><CircularProgress size=\"100%\" /></div> : submitLabel}\n              </Button>\n            </FormGroup>\n          </Form>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n}\n"]}