{"version":3,"sources":["components/AddToPlaylistMenu/index.js"],"names":["React","PropTypes","translate","CreatePlaylistIcon","PromptDialog","PlaylistsMenu","enhance","AddToPlaylistMenu","state","creating","handleOpen","setState","handleClose","handleSubmit","Promise","resolve","props","onCreatePlaylist","playlistName","then","onSelect","playlist","onClose","render","t","Component","propTypes","func","isRequired"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,OAAOC,kBAAP,MAA+B,wBAA/B;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AAEA,IAAMC,UAAUJ,WAAhB;;;;AAwCkB,KAAC,kBAAD;AAAoB,eAAY;AAAhC,E;;IAtCZK,iB;;;;;;;;;;;;8GAQJC,K,GAAQ;AACNC,gBAAU;AADJ,K,QAIRC,U,GAAa,YAAM;AACjB,YAAKC,QAAL,CAAc;AAAEF,kBAAU;AAAZ,OAAd;AACD,K,QAEDG,W,GAAc,YAAM;AAClB,YAAKD,QAAL,CAAc;AAAEF,kBAAU;AAAZ,OAAd;AACD,K,QAEDI,Y,GAAe;AAAA,aACbC,QAAQC,OAAR,CAAgB,MAAKC,KAAL,CAAWC,gBAAX,CAA4BC,YAA5B,CAAhB,EACGC,IADH,CACQ;AAAA,eAAY,MAAKH,KAAL,CAAWI,QAAX,CAAoBC,QAApB,CAAZ;AAAA,OADR,EAEGF,IAFH,CAEQ;AAAA,eAAM,MAAKH,KAAL,CAAWM,OAAX,EAAN;AAAA,OAFR,CADa;AAAA,K;;;;;SAKfC,M,qBAAS;AAAA,iBACiB,KAAKP,KADtB;AAAA,QACCQ,CADD,UACCA,CADD;AAAA,QACOR,KADP;;AAEP,WACE,KAAC,KAAD,CAAO,QAAP,cACG,CAAC,KAAKR,KAAL,CAAWC,QAAZ,IACC,oBAAC,aAAD,eACMO,KADN;AAEE,wBAAkB,KAAKN;AAFzB,OAFJ,EAOG,KAAKF,KAAL,CAAWC,QAAX,IACC,KAAC,YAAD;AACE,aAAOe,EAAE,uCAAF,CADT;AAEE,gBAFF;AAGE,mBAAaA,EAAE,+BAAF,CAHf;AAIE,gBAAU,KAAKX,YAJjB;AAKE,gBAAU,KAAKD;AALjB,MARJ,CADF;AAmBD,G;;;EA9C6BZ,MAAMyB,S;;AAAhClB,iB,CACGmB,S,2CAAY;AACjBF,KAAGvB,UAAU0B,IAAV,CAAeC,UADD;AAEjBN,WAASrB,UAAU0B,IAAV,CAAeC,UAFP;AAGjBR,YAAUnB,UAAU0B,IAAV,CAAeC,UAHR;AAIjBX,oBAAkBhB,UAAU0B,IAAV,CAAeC;AAJhB,C;AAgDrB,eAAetB,QAAQC,iBAAR,CAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport CreatePlaylistIcon from '@material-ui/icons/Add';\nimport PromptDialog from '../Dialogs/PromptDialog';\nimport PlaylistsMenu from './PlaylistsMenu';\n\nconst enhance = translate();\n\nclass AddToPlaylistMenu extends React.Component {\n  static propTypes = {\n    t: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onSelect: PropTypes.func.isRequired,\n    onCreatePlaylist: PropTypes.func.isRequired,\n  };\n\n  state = {\n    creating: false,\n  };\n\n  handleOpen = () => {\n    this.setState({ creating: true });\n  };\n\n  handleClose = () => {\n    this.setState({ creating: false });\n  };\n\n  handleSubmit = playlistName =>\n    Promise.resolve(this.props.onCreatePlaylist(playlistName))\n      .then(playlist => this.props.onSelect(playlist))\n      .then(() => this.props.onClose());\n\n  render() {\n    const { t, ...props } = this.props;\n    return (\n      <React.Fragment>\n        {!this.state.creating && (\n          <PlaylistsMenu\n            {...props}\n            onCreatePlaylist={this.handleOpen}\n          />\n        )}\n        {this.state.creating && (\n          <PromptDialog\n            title={t('dialogs.createPlaylist.nameInputTitle')}\n            icon={<CreatePlaylistIcon nativeColor=\"#777\" />}\n            submitLabel={t('dialogs.createPlaylist.action')}\n            onSubmit={this.handleSubmit}\n            onCancel={this.handleClose}\n          />\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default enhance(AddToPlaylistMenu);\n"],"file":"index.js"}