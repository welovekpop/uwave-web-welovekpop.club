{"version":3,"sources":["components/SettingsManager/ChangeUsernameButton.js"],"names":["React","PropTypes","translate","IconButton","EditIcon","PromptDialog","DialogCloseAnimation","changeNameButtonStyle","padding","height","width","marginLeft","verticalAlign","changeNameIconStyle","ChangeUsernameButton","state","changingUsername","handleOpen","setState","handleClose","closeDialog","handleSubmit","name","props","initialUsername","onChangeUsername","then","bind","render","t","Component","propTypes","func","isRequired","string"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAOC,QAAP,MAAqB,wCAArB;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,OAAOC,oBAAP,MAAiC,yBAAjC;;AAEA,IAAMC,wBAAwB;AAC5BC,WAAS,CADmB;AAE5BC,UAAQ,EAFoB;AAG5BC,SAAO,EAHqB;AAI5BC,cAAY,CAJgB;AAK5BC,iBAAe;AALa,CAA9B;;AAQA,IAAMC,sBAAsB;AAC1BH,SAAO,EADmB;AAE1BD,UAAQ,EAFkB;AAG1BD,WAAS;AAHiB,CAA5B;;gBA+CW,Q;SACO,M;cACK;;;iBAQF,Q;SAAe;;;IAnD9BM,oB;;;;;;;;;;;;wJAOJC,K,GAAQ;AACNC,wBAAkB;AADZ,K,QAQRC,U,GAAa,YAAM;AACjB,YAAKC,QAAL,CAAc,EAAEF,kBAAkB,IAApB,EAAd;AACD,K,QAEDG,W,GAAc,YAAM;AAClB,YAAKC,WAAL;AACD,K,QAEDC,Y,GAAe,UAACC,IAAD,EAAU;AACvB,UAAIA,SAAS,MAAKC,KAAL,CAAWC,eAAxB,EAAyC;AACvC,cAAKJ,WAAL;AACA,eAAO,IAAP;AACD;AACD,aAAO,MAAKG,KAAL,CAAWE,gBAAX,CAA4BH,IAA5B,EACJI,IADI,CACC,MAAKN,WAAL,CAAiBO,IAAjB,OADD,CAAP;AAED,K;;;iCAnBDP,W,0BAAc;AACZ,SAAKF,QAAL,CAAc,EAAEF,kBAAkB,KAApB,EAAd;AACD,G;;iCAmBDY,M,qBAAS;AAAA,iBACwB,KAAKL,KAD7B;AAAA,QACCM,CADD,UACCA,CADD;AAAA,QACIL,eADJ,UACIA,eADJ;;AAEP,yCAEK,UAFL;AAAA,aAGajB,qBAHb;AAAA,iBAIiBM,mBAJjB;AAAA,eAKe,KAAKI;AALpB,2BAYK,oBAZL;AAAA,aAYiC;AAZjC,eAaO,KAAKF,KAAL,CAAWC,gBAAX,SACE,YADF;AAAA,aAEUa,EAAE,kCAAF,CAFV;AAAA,mBAGgBA,EAAE,gCAAF,CAHhB;AAAA;AAAA,aAKUL,eALV;AAAA,gBAMa,KAAKH,YANlB;AAAA,gBAOa,KAAKF;AAPlB,MAbP;AA0BD,G;;;EA5DgCnB,MAAM8B,S;;AAAnChB,oB,CACGiB,S,2CAAY;AACjBF,KAAG5B,UAAU+B,IAAV,CAAeC,UADD;AAEjBR,oBAAkBxB,UAAU+B,IAAV,CAAeC,UAFhB;AAGjBT,mBAAiBvB,UAAUiC;AAHV,C;;;AA8DrB,eAAehC,YAAYY,oBAAZ,CAAf","file":"ChangeUsernameButton.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport IconButton from 'material-ui/IconButton';\nimport EditIcon from 'material-ui/svg-icons/editor/mode-edit';\nimport PromptDialog from '../Dialogs/PromptDialog';\nimport DialogCloseAnimation from '../DialogCloseAnimation';\n\nconst changeNameButtonStyle = {\n  padding: 2,\n  height: 28,\n  width: 28,\n  marginLeft: 5,\n  verticalAlign: 'bottom'\n};\n\nconst changeNameIconStyle = {\n  width: 24,\n  height: 24,\n  padding: 2\n};\n\nclass ChangeUsernameButton extends React.Component {\n  static propTypes = {\n    t: PropTypes.func.isRequired,\n    onChangeUsername: PropTypes.func.isRequired,\n    initialUsername: PropTypes.string\n  };\n\n  state = {\n    changingUsername: false\n  };\n\n  closeDialog() {\n    this.setState({ changingUsername: false });\n  }\n\n  handleOpen = () => {\n    this.setState({ changingUsername: true });\n  };\n\n  handleClose = () => {\n    this.closeDialog();\n  };\n\n  handleSubmit = (name) => {\n    if (name === this.props.initialUsername) {\n      this.closeDialog();\n      return null;\n    }\n    return this.props.onChangeUsername(name)\n      .then(this.closeDialog.bind(this));\n  };\n\n  render() {\n    const { t, initialUsername } = this.props;\n    return (\n      <span>\n        <IconButton\n          style={changeNameButtonStyle}\n          iconStyle={changeNameIconStyle}\n          onClick={this.handleOpen}\n        >\n          <EditIcon\n            color=\"#777\"\n            hoverColor=\"#fff\"\n          />\n        </IconButton>\n        <DialogCloseAnimation delay={450}>\n          {this.state.changingUsername && (\n            <PromptDialog\n              title={t('settings.profile.username.change')}\n              submitLabel={t('settings.profile.username.save')}\n              icon={<EditIcon color=\"#777\" />}\n              value={initialUsername}\n              onSubmit={this.handleSubmit}\n              onCancel={this.handleClose}\n            />\n          )}\n        </DialogCloseAnimation>\n      </span>\n    );\n  }\n}\n\nexport default translate()(ChangeUsernameButton);\n"]}