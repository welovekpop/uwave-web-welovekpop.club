{"version":3,"sources":["components/SettingsManager/ChangeUsernameButton.js"],"names":["React","PropTypes","translate","IconButton","EditIcon","PromptDialog","DialogCloseAnimation","enhance","ChangeUsernameButton","state","changingUsername","handleOpen","setState","handleClose","closeDialog","handleSubmit","name","props","initialUsername","onChangeUsername","then","bind","render","t","Component","propTypes","func","isRequired","string"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,OAAOC,oBAAP,MAAiC,yBAAjC;;AAEA,IAAMC,UAAUL,WAAhB;;gBAuCW,Q;aAAmB;;;iBAOT,Q;eAAqB;;;IA5CpCM,oB;;;;;;;;;;;;wJAOJC,K,GAAQ;AACNC,wBAAkB;AADZ,K,QAQRC,U,GAAa,YAAM;AACjB,YAAKC,QAAL,CAAc,EAAEF,kBAAkB,IAApB,EAAd;AACD,K,QAEDG,W,GAAc,YAAM;AAClB,YAAKC,WAAL;AACD,K,QAEDC,Y,GAAe,UAACC,IAAD,EAAU;AACvB,UAAIA,SAAS,MAAKC,KAAL,CAAWC,eAAxB,EAAyC;AACvC,cAAKJ,WAAL;AACA,eAAO,IAAP;AACD;AACD,aAAO,MAAKG,KAAL,CAAWE,gBAAX,CAA4BH,IAA5B,EACJI,IADI,CACC,MAAKN,WAAL,CAAiBO,IAAjB,OADD,CAAP;AAED,K;;;iCAnBDP,W,0BAAc;AACZ,SAAKF,QAAL,CAAc,EAAEF,kBAAkB,KAApB,EAAd;AACD,G;;iCAmBDY,M,qBAAS;AAAA,iBACwB,KAAKL,KAD7B;AAAA,QACCM,CADD,UACCA,CADD;AAAA,QACIL,eADJ,UACIA,eADJ;;AAEP,gBACG,MAAM,QADT,mBAEK,UAFL;AAAA,iBAE0B,sBAF1B;AAAA,eAE0D,KAAKP;AAF/D,2BAKK,oBALL;AAAA,aAKiC;AALjC,eAMO,KAAKF,KAAL,CAAWC,gBAAX,QACE,YADF;AAAA,aAEUa,EAAE,kCAAF,CAFV;AAAA,mBAGgBA,EAAE,gCAAF,CAHhB;AAAA;AAAA,aAKUL,eALV;AAAA,gBAMa,KAAKH,YANlB;AAAA,gBAOa,KAAKF;AAPlB,SASG,IAfV;AAmBD,G;;;EArDgCb,MAAMwB,S;;AAAnChB,oB,CACGiB,S,2CAAY;AACjBF,KAAGtB,UAAUyB,IAAV,CAAeC,UADD;AAEjBR,oBAAkBlB,UAAUyB,IAAV,CAAeC,UAFhB;AAGjBT,mBAAiBjB,UAAU2B;AAHV,C;;;AAuDrB,eAAerB,QAAQC,oBAAR,CAAf","file":"ChangeUsernameButton.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport IconButton from 'material-ui/IconButton';\nimport EditIcon from 'material-ui-icons/ModeEdit';\nimport PromptDialog from '../Dialogs/PromptDialog';\nimport DialogCloseAnimation from '../DialogCloseAnimation';\n\nconst enhance = translate();\n\nclass ChangeUsernameButton extends React.Component {\n  static propTypes = {\n    t: PropTypes.func.isRequired,\n    onChangeUsername: PropTypes.func.isRequired,\n    initialUsername: PropTypes.string,\n  };\n\n  state = {\n    changingUsername: false,\n  };\n\n  closeDialog() {\n    this.setState({ changingUsername: false });\n  }\n\n  handleOpen = () => {\n    this.setState({ changingUsername: true });\n  };\n\n  handleClose = () => {\n    this.closeDialog();\n  };\n\n  handleSubmit = (name) => {\n    if (name === this.props.initialUsername) {\n      this.closeDialog();\n      return null;\n    }\n    return this.props.onChangeUsername(name)\n      .then(this.closeDialog.bind(this));\n  };\n\n  render() {\n    const { t, initialUsername } = this.props;\n    return (\n      <React.Fragment>\n        <IconButton className=\"ChangeUsernameButton\" onClick={this.handleOpen}>\n          <EditIcon className=\"ChangeUsernameButton-icon\" />\n        </IconButton>\n        <DialogCloseAnimation delay={450}>\n          {this.state.changingUsername ? (\n            <PromptDialog\n              title={t('settings.profile.username.change')}\n              submitLabel={t('settings.profile.username.save')}\n              icon={<EditIcon nativeColor=\"#777\" />}\n              value={initialUsername}\n              onSubmit={this.handleSubmit}\n              onCancel={this.handleClose}\n            />\n          ) : null}\n        </DialogCloseAnimation>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default enhance(ChangeUsernameButton);\n"]}