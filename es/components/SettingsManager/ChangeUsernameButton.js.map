{"version":3,"sources":["components/SettingsManager/ChangeUsernameButton.js"],"names":["React","PropTypes","translate","IconButton","EditIcon","PromptDialog","DialogCloseAnimation","enhance","ChangeUsernameButton","state","changingUsername","handleOpen","setState","handleClose","closeDialog","handleSubmit","name","props","initialUsername","onChangeUsername","then","bind","render","t","Component","propTypes","func","isRequired","string"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,OAAOC,UAAP,MAAuB,iCAAvB;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,OAAOC,oBAAP,MAAiC,yBAAjC;AAEA,IAAMC,UAAUL,WAAhB;;;;AAuCU,KAAC,QAAD;AAAU,aAAU;AAApB,E;;;;AAOU,KAAC,QAAD;AAAU,eAAY;AAAtB,E;;IA5CdM,oB;;;;;;;;;;;;8GAOJC,K,GAAQ;AACNC,wBAAkB;AADZ,K,QAQRC,U,GAAa,YAAM;AACjB,YAAKC,QAAL,CAAc;AAAEF,0BAAkB;AAApB,OAAd;AACD,K,QAEDG,W,GAAc,YAAM;AAClB,YAAKC,WAAL;AACD,K,QAEDC,Y,GAAe,UAACC,IAAD,EAAU;AACvB,UAAIA,SAAS,MAAKC,KAAL,CAAWC,eAAxB,EAAyC;AACvC,cAAKJ,WAAL;;AACA,eAAO,IAAP;AACD;;AACD,aAAO,MAAKG,KAAL,CAAWE,gBAAX,CAA4BH,IAA5B,EACJI,IADI,CACC,MAAKN,WAAL,CAAiBO,IAAjB,uDADD,CAAP;AAED,K;;;;;SAnBDP,W,0BAAc;AACZ,SAAKF,QAAL,CAAc;AAAEF,wBAAkB;AAApB,KAAd;AACD,G;;SAmBDY,M,qBAAS;AAAA,sBACwB,KAAKL,KAD7B;AAAA,QACCM,CADD,eACCA,CADD;AAAA,QACIL,eADJ,eACIA,eADJ;AAEP,WACE,KAAC,KAAD,CAAO,QAAP,cACE,KAAC,UAAD;AAAY,iBAAU,sBAAtB;AAA6C,eAAS,KAAKP;AAA3D,oBADF,EAIE,KAAC,oBAAD;AAAsB,aAAO;AAA7B,eACG,KAAKF,KAAL,CAAWC,gBAAX,GACC,KAAC,YAAD;AACE,aAAOa,EAAE,kCAAF,CADT;AAEE,mBAAaA,EAAE,gCAAF,CAFf;AAGE,iBAHF;AAIE,aAAOL,eAJT;AAKE,gBAAU,KAAKH,YALjB;AAME,gBAAU,KAAKF;AANjB,MADD,GASG,IAVN,CAJF,CADF;AAmBD,G;;;EArDgCb,MAAMwB,S;;AAAnChB,oB,CACGiB,S,2CAAY;AACjBF,KAAGtB,UAAUyB,IAAV,CAAeC,UADD;AAEjBR,oBAAkBlB,UAAUyB,IAAV,CAAeC,UAFhB;AAGjBT,mBAAiBjB,UAAU2B;AAHV,C;AAuDrB,eAAerB,QAAQC,oBAAR,CAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from 'react-i18next';\nimport IconButton from '@material-ui/core/IconButton';\nimport EditIcon from '@material-ui/icons/ModeEdit';\nimport PromptDialog from '../Dialogs/PromptDialog';\nimport DialogCloseAnimation from '../DialogCloseAnimation';\n\nconst enhance = translate();\n\nclass ChangeUsernameButton extends React.Component {\n  static propTypes = {\n    t: PropTypes.func.isRequired,\n    onChangeUsername: PropTypes.func.isRequired,\n    initialUsername: PropTypes.string,\n  };\n\n  state = {\n    changingUsername: false,\n  };\n\n  closeDialog() {\n    this.setState({ changingUsername: false });\n  }\n\n  handleOpen = () => {\n    this.setState({ changingUsername: true });\n  };\n\n  handleClose = () => {\n    this.closeDialog();\n  };\n\n  handleSubmit = (name) => {\n    if (name === this.props.initialUsername) {\n      this.closeDialog();\n      return null;\n    }\n    return this.props.onChangeUsername(name)\n      .then(this.closeDialog.bind(this));\n  };\n\n  render() {\n    const { t, initialUsername } = this.props;\n    return (\n      <React.Fragment>\n        <IconButton className=\"ChangeUsernameButton\" onClick={this.handleOpen}>\n          <EditIcon className=\"ChangeUsernameButton-icon\" />\n        </IconButton>\n        <DialogCloseAnimation delay={450}>\n          {this.state.changingUsername ? (\n            <PromptDialog\n              title={t('settings.profile.username.change')}\n              submitLabel={t('settings.profile.username.save')}\n              icon={<EditIcon nativeColor=\"#777\" />}\n              value={initialUsername}\n              onSubmit={this.handleSubmit}\n              onCancel={this.handleClose}\n            />\n          ) : null}\n        </DialogCloseAnimation>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default enhance(ChangeUsernameButton);\n"],"file":"ChangeUsernameButton.js"}