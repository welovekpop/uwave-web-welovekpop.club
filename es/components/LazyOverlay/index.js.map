{"version":3,"sources":["components/LazyOverlay/index.js"],"names":["React","PropTypes","compose","nest","connect","translate","hoistStatics","loadable","CircularProgress","Overlay","OverlayContent","OverlayHeader","closeAll","createLazyOverlay","loader","title","OverlayComponent","TypeError","enhance","onCloseOverlay","LoadingOverlay","t","pastDelay","propTypes","func","isRequired","bool","LazyOverlay","loading"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,gBAAP,MAA6B,uCAA7B;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,cAAP,MAA2B,oBAA3B;AACA,OAAOC,aAAP,MAA0B,mBAA1B;AACA,SAASC,QAAT,QAAyB,qCAAzB;;;;AA4BU,KAAC,gBAAD;AACE,aAAU,wBADZ;AAEE,aAAW;AAFb,E;;AA1BV,eAAe,SAASC,iBAAT,OAIZ;AAAA,MAHDC,MAGC,QAHDA,MAGC;AAAA,MAFDC,KAEC,QAFDA,KAEC;AAAA,mCADDC,gBACC;AAAA,MADDA,gBACC,sCADkBP,OAClB;AACD,MAAI,OAAOK,MAAP,KAAkB,UAAtB,EAAkC,MAAM,IAAIG,SAAJ,CAAc,2BAAd,CAAN;AAElC,MAAMC,UAAUhB,QACdG,WADc,EAEdD,QAAQ,IAAR,EAAc;AACZe,oBAAgBP;AADJ,GAAd,CAFc,CAAhB;;AAOA,MAAMQ,iBAAiB,SAAjBA,cAAiB;AAAA,QACrBC,CADqB,SACrBA,CADqB;AAAA,QAErBC,SAFqB,SAErBA,SAFqB;AAAA,QAGrBH,cAHqB,SAGrBA,cAHqB;AAAA,WAKrB,KAAC,KAAD,CAAO,QAAP,cACE,KAAC,aAAD;AACE,aAAOJ,QAAQA,MAAMM,CAAN,CAAR,GAAmB,KAD5B;AAEE,sBAAgBF;AAFlB,MADF,EAKE,KAAC,cAAD;AAAgB,iBAAU;AAA1B,eACGG,kBADH,CALF,CALqB;AAAA,GAAvB;;AAqBAF,iBAAeG,SAAf,2CAA2B;AACzBF,OAAGpB,UAAUuB,IAAV,CAAeC,UADO;AAEzBH,eAAWrB,UAAUyB,IAAV,CAAeD,UAFD;AAGzBN,oBAAgBlB,UAAUuB,IAAV,CAAeC;AAHN,GAA3B;AAMA,MAAME,cAAcpB,SAAS;AAC3BO,kBAD2B;AAE3Bc,aAASV,QAAQE,cAAR;AAFkB,GAAT,CAApB;AAKA,SAAOd,aAAaH,KAAKa,gBAAL,EAAuBW,WAAvB,CAAb,EAAkDA,WAAlD,CAAP;AACD","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'recompose/compose';\nimport nest from 'recompose/nest';\nimport { connect } from 'react-redux';\nimport { translate } from 'react-i18next';\nimport hoistStatics from 'hoist-non-react-statics';\nimport loadable from 'react-loadable';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Overlay from '../Overlay';\nimport OverlayContent from '../Overlay/Content';\nimport OverlayHeader from '../Overlay/Header';\nimport { closeAll } from '../../actions/OverlayActionCreators';\n\nexport default function createLazyOverlay({\n  loader,\n  title,\n  OverlayComponent = Overlay,\n}) {\n  if (typeof loader !== 'function') throw new TypeError('loader must be a function');\n\n  const enhance = compose(\n    translate(),\n    connect(null, {\n      onCloseOverlay: closeAll,\n    }),\n  );\n\n  const LoadingOverlay = ({\n    t,\n    pastDelay,\n    onCloseOverlay,\n  }) => (\n    <React.Fragment>\n      <OverlayHeader\n        title={title ? title(t) : '...'}\n        onCloseOverlay={onCloseOverlay}\n      />\n      <OverlayContent className=\"LoadingOverlay-body\">\n        {pastDelay && (\n          <CircularProgress\n            className=\"LoadingOverlay-spinner\"\n            thickness={1.6}\n          />\n        )}\n      </OverlayContent>\n    </React.Fragment>\n  );\n\n  LoadingOverlay.propTypes = {\n    t: PropTypes.func.isRequired,\n    pastDelay: PropTypes.bool.isRequired,\n    onCloseOverlay: PropTypes.func.isRequired,\n  };\n\n  const LazyOverlay = loadable({\n    loader,\n    loading: enhance(LoadingOverlay),\n  });\n\n  return hoistStatics(nest(OverlayComponent, LazyOverlay), LazyOverlay);\n}\n"],"file":"index.js"}