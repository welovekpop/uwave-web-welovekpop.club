{"version":3,"sources":["admin/actions/users.js"],"names":["get","SET_USERS_FILTER","LOAD_USERS_START","LOAD_USERS_COMPLETE","filterSelector","loadUsersStart","type","loadUsersComplete","response","payload","users","data","page","Math","floor","meta","offset","pageSize","loadUsers","pagination","dispatch","getState","filter","qs","onStart","onComplete","setUsersFilter"],"mappings":"AAAA,SAASA,GAAT,QAAoB,qCAApB;AACA,SACEC,gBADF,EAEEC,gBAFF,EAGEC,mBAHF,QAIO,0BAJP;AAKA,SAASC,cAAT,QAA+B,4BAA/B;AAEA,OAAO,SAASC,cAAT,GAA0B;AAC/B,SAAO;AAAEC,UAAMJ;AAAR,GAAP;AACD;AAED,OAAO,SAASK,iBAAT,CAA2BC,QAA3B,EAAqC;AAC1C,SAAO;AACLF,UAAMH,mBADD;AAELM,aAAS;AACPC,aAAOF,SAASG,IADT;AAEPC,YAAMC,KAAKC,KAAL,CAAWN,SAASO,IAAT,CAAcC,MAAd,GAAuBR,SAASO,IAAT,CAAcE,QAAhD;AAFC,KAFJ;AAMLF,UAAMP,SAASO;AANV,GAAP;AAQD;AAED,OAAO,SAASG,SAAT,CAAmBC,UAAnB,EAAsC;AAAA,MAAnBA,UAAmB;AAAnBA,cAAmB,GAAN,IAAM;AAAA;;AAC3C,SAAO,UAACC,QAAD,EAAWC,QAAX,EAAwB;AAC7B,QAAMC,SAASlB,eAAeiB,UAAf,CAAf;AAEA,QAAME,KAAK,EAAX;AACA,QAAIJ,UAAJ,EAAgBI,GAAGX,IAAH,GAAUO,UAAV;AAChB,QAAIG,MAAJ,EAAYC,GAAGD,MAAH,GAAYA,MAAZ;AAEZ,WAAOF,SAASpB,IAAI,QAAJ,EAAc;AAC5BuB,YAD4B;AAE5BC,eAASnB,cAFmB;AAG5BoB,kBAAYlB;AAHgB,KAAd,CAAT,CAAP;AAKD,GAZD;AAaD;AAED,OAAO,SAASmB,cAAT,CAAwBJ,MAAxB,EAAuC;AAAA,MAAfA,MAAe;AAAfA,UAAe,GAAN,IAAM;AAAA;;AAC5C,SAAO;AACLhB,UAAML,gBADD;AAELQ,aAAS;AAAEa;AAAF;AAFJ,GAAP;AAID","sourcesContent":["import { get } from '../../actions/RequestActionCreators';\nimport {\n  SET_USERS_FILTER,\n  LOAD_USERS_START,\n  LOAD_USERS_COMPLETE,\n} from '../constants/ActionTypes';\nimport { filterSelector } from '../selectors/userSelectors';\n\nexport function loadUsersStart() {\n  return { type: LOAD_USERS_START };\n}\n\nexport function loadUsersComplete(response) {\n  return {\n    type: LOAD_USERS_COMPLETE,\n    payload: {\n      users: response.data,\n      page: Math.floor(response.meta.offset / response.meta.pageSize),\n    },\n    meta: response.meta,\n  };\n}\n\nexport function loadUsers(pagination = null) {\n  return (dispatch, getState) => {\n    const filter = filterSelector(getState());\n\n    const qs = {};\n    if (pagination) qs.page = pagination;\n    if (filter) qs.filter = filter;\n\n    return dispatch(get('/users', {\n      qs,\n      onStart: loadUsersStart,\n      onComplete: loadUsersComplete,\n    }));\n  };\n}\n\nexport function setUsersFilter(filter = null) {\n  return {\n    type: SET_USERS_FILTER,\n    payload: { filter },\n  };\n}\n"],"file":"users.js"}