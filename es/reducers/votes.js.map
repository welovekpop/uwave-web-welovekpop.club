{"version":3,"sources":["reducers/votes.js"],"names":["ADVANCE","LOAD_VOTES","FAVORITE","UPVOTE","DOWNVOTE","DO_FAVORITE_START","DO_FAVORITE_COMPLETE","initialState","upvotes","downvotes","favorites","reduce","state","action","type","payload","stats","userID","filter","vote","indexOf"],"mappings":";AAAA,SACEA,OADF,EAEEC,UAFF,EAGEC,QAHF,EAIEC,MAJF,EAKEC,QALF,EAMEC,iBANF,EAOEC,oBAPF,QAQO,0BARP;AAUA,IAAMC,eAAe;AACnBC,WAAS,EADU;AAEnBC,aAAW,EAFQ;AAGnBC,aAAW;AAHQ,CAArB;AAMA,eAAe,SAASC,MAAT,CAAgBC,KAAhB,EAAsCC,MAAtC,EAAmD;AAAA,MAAnCD,KAAmC;AAAnCA,SAAmC,GAA3BL,YAA2B;AAAA;;AAAA,MAAbM,MAAa;AAAbA,UAAa,GAAJ,EAAI;AAAA;;AAAA,gBACtCA,MADsC;AAAA,MACxDC,IADwD,WACxDA,IADwD;AAAA,MAClDC,OADkD,WAClDA,OADkD;;AAEhE,UAAQD,IAAR;AACE,SAAKd,OAAL;AACE,UAAIe,WAAWA,QAAQC,KAAvB,EAA8B;AAC5B,4BACKJ,KADL;AAEEJ,mBAASO,QAAQC,KAAR,CAAcR,OAFzB;AAGEC,qBAAWM,QAAQC,KAAR,CAAcP,SAH3B;AAIEC,qBAAWK,QAAQC,KAAR,CAAcN;AAJ3B;AAMD;;AACD,aAAOH,YAAP;;AACF,SAAKN,UAAL;AACE,0BACKW,KADL;AAEEJ,iBAASO,QAAQP,OAFnB;AAGEC,mBAAWM,QAAQN,SAHrB;AAIEC,mBAAWK,QAAQL;AAJrB;;AAMF,SAAKP,MAAL;AACE,0BACKS,KADL;AAEEJ,iBAAaI,MAAMJ,OAAnB,SAA4BO,QAAQE,MAApC,EAFF;AAGER,mBAAWG,MAAMH,SAAN,CAAgBS,MAAhB,CAAuB;AAAA,iBAAQC,SAASJ,QAAQE,MAAzB;AAAA,SAAvB;AAHb;;AAKF,SAAKb,QAAL;AACE,0BACKQ,KADL;AAEEJ,iBAASI,MAAMJ,OAAN,CAAcU,MAAd,CAAqB;AAAA,iBAAQC,SAASJ,QAAQE,MAAzB;AAAA,SAArB,CAFX;AAGER,mBAAeG,MAAMH,SAArB,SAAgCM,QAAQE,MAAxC;AAHF;;AAKF,SAAKf,QAAL;AACE,UAAIU,MAAMF,SAAN,CAAgBU,OAAhB,CAAwBL,QAAQE,MAAhC,MAA4C,CAAC,CAAjD,EAAoD;AAClD,4BACKL,KADL;AAEEF,qBAAeE,MAAMF,SAArB,SAAgCK,QAAQE,MAAxC;AAFF;AAID;;AACD,aAAOL,KAAP;;AACF,SAAKP,iBAAL;AACE,aAAOO,KAAP;;AACF,SAAKN,oBAAL;AACE,aAAOM,KAAP;;AACF;AACE,aAAOA,KAAP;AA3CJ;AA6CD","sourcesContent":["import {\n  ADVANCE,\n  LOAD_VOTES,\n  FAVORITE,\n  UPVOTE,\n  DOWNVOTE,\n  DO_FAVORITE_START,\n  DO_FAVORITE_COMPLETE,\n} from '../constants/ActionTypes';\n\nconst initialState = {\n  upvotes: [],\n  downvotes: [],\n  favorites: [],\n};\n\nexport default function reduce(state = initialState, action = {}) {\n  const { type, payload } = action;\n  switch (type) {\n    case ADVANCE:\n      if (payload && payload.stats) {\n        return {\n          ...state,\n          upvotes: payload.stats.upvotes,\n          downvotes: payload.stats.downvotes,\n          favorites: payload.stats.favorites,\n        };\n      }\n      return initialState;\n    case LOAD_VOTES:\n      return {\n        ...state,\n        upvotes: payload.upvotes,\n        downvotes: payload.downvotes,\n        favorites: payload.favorites,\n      };\n    case UPVOTE:\n      return {\n        ...state,\n        upvotes: [...state.upvotes, payload.userID],\n        downvotes: state.downvotes.filter(vote => vote !== payload.userID),\n      };\n    case DOWNVOTE:\n      return {\n        ...state,\n        upvotes: state.upvotes.filter(vote => vote !== payload.userID),\n        downvotes: [...state.downvotes, payload.userID],\n      };\n    case FAVORITE:\n      if (state.favorites.indexOf(payload.userID) === -1) {\n        return {\n          ...state,\n          favorites: [...state.favorites, payload.userID],\n        };\n      }\n      return state;\n    case DO_FAVORITE_START:\n      return state;\n    case DO_FAVORITE_COMPLETE:\n      return state;\n    default:\n      return state;\n  }\n}\n"],"file":"votes.js"}