{"version":3,"sources":["reducers/auth.js"],"names":["INIT_STATE","AUTH_STRATEGIES","RESET_PASSWORD_COMPLETE","REGISTER_COMPLETE","LOGIN_COMPLETE","SET_TOKEN","LOGOUT_COMPLETE","initialState","strategies","token","user","error","reduce","state","action","type","payload","isError","authStrategies","_id"],"mappings":";AAAA,SACEA,UADF,EAEEC,eAFF,EAGEC,uBAHF,EAIEC,iBAJF,EAKEC,cALF,EAMEC,SANF,EAOEC,eAPF,QAQO,0BARP;AAUA,IAAMC,eAAe;AACnBC,cAAY,CAAC,OAAD,CADO;AAEnBC,SAAO,IAFY;AAGnBC,QAAM,IAHa;AAInBC,SAAO;AAJY,CAArB;AAOA,eAAe,SAASC,MAAT,CAAgBC,KAAhB,EAAsCC,MAAtC,EAAmD;AAAA,MAAnCD,KAAmC;AAAnCA,SAAmC,GAA3BN,YAA2B;AAAA;;AAAA,MAAbO,MAAa;AAAbA,UAAa,GAAJ,EAAI;AAAA;;AAAA,gBACtBA,MADsB;AAAA,MACxDC,IADwD,WACxDA,IADwD;AAAA,MAClDC,OADkD,WAClDA,OADkD;AAAA,MAClCC,OADkC,WACzCN,KADyC;;AAEhE,UAAQI,IAAR;AACE,SAAKf,UAAL;AACE,0BACKa,KADL;AAEEL,oBAAYQ,QAAQE;AAFtB;;AAIF,SAAKjB,eAAL;AACE,0BACKY,KADL;AAEEL,oBAAYQ,QAAQR;AAFtB;;AAIF,SAAKN,uBAAL;AACE,aAAOe,uBACFJ,KADE;AAELJ,eAAOO,QAAQP,KAFV;AAGLC,cAAM,IAHD;AAILC,eAAOK;AAJF,wBAMFH,KANE;AAOLJ,eAAOO,QAAQP,KAPV;AAQLC,cAAM,IARD;AASLC,eAAO;AATF,QAAP;;AAWF,SAAKN,SAAL;AACE,0BACKQ,KADL;AAEEJ,eAAOO,QAAQP,KAFjB;AAGEC,cAAM,IAHR;AAIEC,eAAO;AAJT;;AAMF,SAAKP,cAAL;AACE,aAAOa,uBACFJ,KADE;AAELJ,eAAO,IAFF;AAGLC,cAAM,IAHD;AAILC,eAAOK;AAJF,wBAMFH,KANE;AAOLJ,eAAOO,QAAQP,KAPV;AAQLC,cAAMM,QAAQN,IAAR,CAAaS,GARd;AASLR,eAAO;AATF,QAAP;;AAWF,SAAKR,iBAAL;AACE,0BACKU,KADL;AAEEJ,eAAO,IAFT;AAGEC,cAAM,IAHR;AAIEC,eAAOK;AAJT;;AAMF,SAAKV,eAAL;AACE,aAAOC,YAAP;;AACF;AACE,aAAOM,KAAP;AApDJ;AAsDD","sourcesContent":["import {\n  INIT_STATE,\n  AUTH_STRATEGIES,\n  RESET_PASSWORD_COMPLETE,\n  REGISTER_COMPLETE,\n  LOGIN_COMPLETE,\n  SET_TOKEN,\n  LOGOUT_COMPLETE,\n} from '../constants/ActionTypes';\n\nconst initialState = {\n  strategies: ['local'],\n  token: null,\n  user: null,\n  error: null,\n};\n\nexport default function reduce(state = initialState, action = {}) {\n  const { type, payload, error: isError } = action;\n  switch (type) {\n    case INIT_STATE:\n      return {\n        ...state,\n        strategies: payload.authStrategies,\n      };\n    case AUTH_STRATEGIES:\n      return {\n        ...state,\n        strategies: payload.strategies,\n      };\n    case RESET_PASSWORD_COMPLETE:\n      return isError ? {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: payload,\n      } : {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: null,\n      };\n    case SET_TOKEN:\n      return {\n        ...state,\n        token: payload.token,\n        user: null,\n        error: null,\n      };\n    case LOGIN_COMPLETE:\n      return isError ? {\n        ...state,\n        token: null,\n        user: null,\n        error: payload,\n      } : {\n        ...state,\n        token: payload.token,\n        user: payload.user._id,\n        error: null,\n      };\n    case REGISTER_COMPLETE:\n      return {\n        ...state,\n        token: null,\n        user: null,\n        error: payload,\n      };\n    case LOGOUT_COMPLETE:\n      return initialState;\n    default:\n      return state;\n  }\n}\n"],"file":"auth.js"}