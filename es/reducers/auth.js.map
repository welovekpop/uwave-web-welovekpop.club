{"version":3,"sources":["reducers/auth.js"],"names":["RESET_PASSWORD_COMPLETE","REGISTER_COMPLETE","LOGIN_COMPLETE","SET_TOKEN","LOGOUT_COMPLETE","DO_CHANGE_USERNAME_COMPLETE","initialState","jwt","user","error","reduce","state","action","type","payload","isError","username"],"mappings":";AAAA,SACEA,uBADF,EAEEC,iBAFF,EAGEC,cAHF,EAGkBC,SAHlB,EAIEC,eAJF,QAKO,+BALP;AAMA,SACEC,2BADF,QAEO,gCAFP;;AAIA,IAAMC,eAAe;AACnBC,OAAK,IADc;AAEnBC,QAAM,IAFa;AAGnBC,SAAO;AAHY,CAArB;;AAMA,eAAe,SAASC,MAAT,GAAmD;AAAA,MAAnCC,KAAmC,uEAA3BL,YAA2B;AAAA,MAAbM,MAAa,uEAAJ,EAAI;AAAA,MACxDC,IADwD,GACtBD,MADsB,CACxDC,IADwD;AAAA,MAClDC,OADkD,GACtBF,MADsB,CAClDE,OADkD;AAAA,MAClCC,OADkC,GACtBH,MADsB,CACzCH,KADyC;;AAEhE,UAAQI,IAAR;AACA,SAAKb,uBAAL;AACE,aAAOe,uBACFJ,KADE;AAELJ,aAAKO,QAAQP,GAFR;AAGLC,cAAM,IAHD;AAILC,eAAOK;AAJF,wBAMFH,KANE;AAOLJ,aAAKO,QAAQP,GAPR;AAQLC,cAAM,IARD;AASLC,eAAO;AATF,QAAP;AAWF,SAAKN,SAAL;AACE,0BACKQ,KADL;AAEEJ,aAAKO,QAAQP,GAFf;AAGEC,cAAM,IAHR;AAIEC,eAAO;AAJT;AAMF,SAAKP,cAAL;AACE,aAAOa,uBACFJ,KADE;AAELJ,aAAK,IAFA;AAGLC,cAAM,IAHD;AAILC,eAAOK;AAJF,wBAMFH,KANE;AAOLJ,aAAKO,QAAQP,GAPR;AAQLC,cAAMM,QAAQN,IART;AASLC,eAAO;AATF,QAAP;AAWF,SAAKR,iBAAL;AACE,0BACKU,KADL;AAEEJ,aAAK,IAFP;AAGEC,cAAM,IAHR;AAIEC,eAAOK;AAJT;AAMF,SAAKV,eAAL;AACE,aAAOE,YAAP;AACF,SAAKD,2BAAL;AACE,UAAI,CAACU,OAAD,IAAYJ,MAAMH,IAAtB,EAA4B;AAC1B,4BACKG,KADL;AAEEH,6BACKG,MAAMH,IADX;AAEEQ,sBAAUF,QAAQE;AAFpB;AAFF;AAOD;AACD,aAAOL,KAAP;AACF;AACE,aAAOA,KAAP;AArDF;AAuDD","file":"auth.js","sourcesContent":["import {\n  RESET_PASSWORD_COMPLETE,\n  REGISTER_COMPLETE,\n  LOGIN_COMPLETE, SET_TOKEN,\n  LOGOUT_COMPLETE\n} from '../constants/actionTypes/auth';\nimport {\n  DO_CHANGE_USERNAME_COMPLETE\n} from '../constants/actionTypes/users';\n\nconst initialState = {\n  jwt: null,\n  user: null,\n  error: null\n};\n\nexport default function reduce(state = initialState, action = {}) {\n  const { type, payload, error: isError } = action;\n  switch (type) {\n  case RESET_PASSWORD_COMPLETE:\n    return isError ? {\n      ...state,\n      jwt: payload.jwt,\n      user: null,\n      error: payload\n    } : {\n      ...state,\n      jwt: payload.jwt,\n      user: null,\n      error: null\n    };\n  case SET_TOKEN:\n    return {\n      ...state,\n      jwt: payload.jwt,\n      user: null,\n      error: null\n    };\n  case LOGIN_COMPLETE:\n    return isError ? {\n      ...state,\n      jwt: null,\n      user: null,\n      error: payload\n    } : {\n      ...state,\n      jwt: payload.jwt,\n      user: payload.user,\n      error: null\n    };\n  case REGISTER_COMPLETE:\n    return {\n      ...state,\n      jwt: null,\n      user: null,\n      error: payload\n    };\n  case LOGOUT_COMPLETE:\n    return initialState;\n  case DO_CHANGE_USERNAME_COMPLETE:\n    if (!isError && state.user) {\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          username: payload.username\n        }\n      };\n    }\n    return state;\n  default:\n    return state;\n  }\n}\n"]}