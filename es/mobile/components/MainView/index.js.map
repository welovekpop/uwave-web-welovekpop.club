{"version":3,"sources":["mobile/components/MainView/index.js"],"names":["React","PropTypes","withHandlers","AppBar","Toolbar","Typography","IconButton","HistoryIcon","MenuIcon","SongTitle","Video","Chat","DrawerMenu","UsersDrawer","VideoDisabledMessage","waitlistIconStyle","fontSize","textAlign","getWaitlistLabel","size","position","posText","enhance","onOpenRoomHistory","event","preventDefault","props","onOpenDrawer","onOpenWaitlist","MainView","media","videoEnabled","waitlistPosition","waitlistSize","onEnableVideo","artist","title","propTypes","object","bool","isRequired","number","func"],"mappings":"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","file":"index.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport withHandlers from 'recompose/withHandlers';\nimport AppBar from 'material-ui/AppBar';\nimport Toolbar from 'material-ui/Toolbar';\nimport Typography from 'material-ui/Typography';\nimport IconButton from 'material-ui/IconButton';\nimport HistoryIcon from 'material-ui-icons/History';\nimport MenuIcon from 'material-ui-icons/Menu';\nimport SongTitle from '../../../components/SongTitle';\nimport Video from '../../containers/Video';\nimport Chat from '../../containers/Chat';\nimport DrawerMenu from '../../containers/DrawerMenu';\nimport UsersDrawer from '../../containers/UsersDrawer';\nimport VideoDisabledMessage from './VideoDisabledMessage';\n\nconst waitlistIconStyle = {\n  fontSize: '125%',\n  textAlign: 'center',\n};\n\nconst getWaitlistLabel = (size, position) => {\n  if (size > 0) {\n    const posText = position !== -1\n      ? `${position + 1}/${size}`\n      : size;\n\n    return posText;\n  }\n  return '0';\n};\n\nconst enhance = withHandlers({\n  // Prevent defaults for react-tap-event-plugin:\n  // https://github.com/zilverline/react-tap-event-plugin/issues/77\n  onOpenRoomHistory: props => (event) => {\n    event.preventDefault();\n    props.onOpenRoomHistory();\n  },\n  onOpenDrawer: props => (event) => {\n    event.preventDefault();\n    props.onOpenDrawer();\n  },\n  onOpenWaitlist: props => (event) => {\n    event.preventDefault();\n    props.onOpenWaitlist();\n  },\n});\n\nconst MainView = ({\n  media,\n  videoEnabled,\n  waitlistPosition,\n  waitlistSize,\n  onOpenRoomHistory,\n  onOpenDrawer,\n  onOpenWaitlist,\n  onEnableVideo,\n}) => (\n  <div className=\"MainView\">\n    <AppBar position=\"static\" className=\"MainView-appBar\">\n      <Toolbar>\n        <IconButton aria-label=\"Menu\" onClick={onOpenDrawer}>\n          <MenuIcon />\n        </IconButton>\n        <Typography variant=\"title\" className=\"MainView-title\">\n          {media ? (\n            <SongTitle artist={media.artist} title={media.title} />\n          ) : (\n            'Nobody is DJing!'\n          )}\n        </Typography>\n        <IconButton onClick={onOpenRoomHistory}>\n          <HistoryIcon />\n        </IconButton>\n        <IconButton style={waitlistIconStyle} onClick={onOpenWaitlist}>\n          {getWaitlistLabel(waitlistSize, waitlistPosition)}\n        </IconButton>\n      </Toolbar>\n    </AppBar>\n\n    <div className=\"MainView-content\">\n      <div className=\"MobileApp-video\">\n        <Video\n          enabled={videoEnabled}\n          size=\"large\"\n        />\n        {!videoEnabled && (\n          <VideoDisabledMessage onEnableVideo={onEnableVideo} />\n        )}\n      </div>\n      <div className=\"MobileApp-chat\">\n        <Chat />\n      </div>\n    </div>\n\n    <DrawerMenu />\n    <UsersDrawer />\n  </div>\n);\n\nMainView.propTypes = {\n  media: PropTypes.object,\n  videoEnabled: PropTypes.bool.isRequired,\n  waitlistPosition: PropTypes.number.isRequired,\n  waitlistSize: PropTypes.number.isRequired,\n  onOpenRoomHistory: PropTypes.func.isRequired,\n  onOpenWaitlist: PropTypes.func.isRequired,\n  onOpenDrawer: PropTypes.func.isRequired,\n  onEnableVideo: PropTypes.func.isRequired,\n};\n\nexport default enhance(MainView);\n"]}