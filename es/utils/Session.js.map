{"version":3,"sources":["utils/Session.js"],"names":["cookiesEnabled","SESSION_KEY","preferredSessionType","navigator","process","env","FORCE_TOKEN","set","key","localStorage","setItem","e","unset","removeItem","get","getItem"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,oBAA3B;AAEA,IAAMC,cAAc,UAApB;AAEA,OAAO,SAASC,oBAAT,GAAgC;AACrC,SAAO,OAAOC,SAAP,KAAqB,WAArB,IAAoCH,gBAApC,IAAwD,CAACI,QAAQC,GAAR,CAAYC,WAArE,GACH,QADG,GAEH,OAFJ;AAGD;AAED,OAAO,SAASC,GAAT,CAAaC,GAAb,EAAkB;AACvB,MAAI;AACFC,iBAAaC,OAAb,CAAqBT,WAArB,EAAkCO,GAAlC;AACD,GAFD,CAEE,OAAOG,CAAP,EAAU,CACV;AACD;AACF;AAED,OAAO,SAASC,KAAT,GAAiB;AACtB,MAAI;AACFH,iBAAaI,UAAb,CAAwBZ,WAAxB;AACD,GAFD,CAEE,OAAOU,CAAP,EAAU,CACV;AACD;AACF;AAED,OAAO,SAASG,GAAT,GAAe;AACpB,MAAI;AACF,WAAOL,aAAaM,OAAb,CAAqBd,WAArB,CAAP;AACD,GAFD,CAEE,OAAOU,CAAP,EAAU,CACV;AACD;;AACD,SAAO,IAAP;AACD","sourcesContent":["import cookiesEnabled from '@f/cookies-enabled';\n\nconst SESSION_KEY = '_session';\n\nexport function preferredSessionType() {\n  return typeof navigator !== 'undefined' && cookiesEnabled() && !process.env.FORCE_TOKEN\n    ? 'cookie'\n    : 'token';\n}\n\nexport function set(key) {\n  try {\n    localStorage.setItem(SESSION_KEY, key);\n  } catch (e) {\n    // cookies disabled\n  }\n}\n\nexport function unset() {\n  try {\n    localStorage.removeItem(SESSION_KEY);\n  } catch (e) {\n    // cookies disabled\n  }\n}\n\nexport function get() {\n  try {\n    return localStorage.getItem(SESSION_KEY);\n  } catch (e) {\n    // cookies disabled\n  }\n  return null;\n}\n"],"file":"Session.js"}