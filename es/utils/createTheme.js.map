{"version":3,"sources":["utils/createTheme.js"],"names":["createMuiTheme","fade","decomposeColor","recomposeColor","AVERAGE_COLOR","blend","a","b","weight","aColor","bColor","w","w1","w2","values","type","createTheme","base","muiTheme","palette","uwave","cssProperties","text","primary","secondary","background","backgroundHover","main","light","scrollbar","paper","link","sidePanel","alternate","mediaList","hint"],"mappings":";AAAA,SAASA,cAAT,QAA+B,6BAA/B;AACA,SAASC,IAAT,EAAeC,cAAf,EAA+BC,cAA/B,QAAqD,8CAArD;AAEA,IAAMC,gBAAgB,oBAAtB,C,CAEA;AACA;AACA;;AACA,SAASC,KAAT,CAAeC,CAAf,EAAkBC,CAAlB,EAAqBC,MAArB,EAA6B;AAC3B,MAAMC,SAASP,eAAeI,CAAf,CAAf;AACA,MAAMI,SAASR,eAAeK,CAAf,CAAf;AAEA,MAAMI,IAAK,IAAIH,MAAL,GAAe,CAAzB;AACA,MAAMI,KAAK,CAACD,IAAI,CAAL,IAAU,GAArB;AACA,MAAME,KAAK,IAAID,EAAf;AAEA,MAAME,SAAS,CACZF,KAAKH,OAAOK,MAAP,CAAc,CAAd,CAAN,GAA2BD,KAAKH,OAAOI,MAAP,CAAc,CAAd,CADnB,EAEZF,KAAKH,OAAOK,MAAP,CAAc,CAAd,CAAN,GAA2BD,KAAKH,OAAOI,MAAP,CAAc,CAAd,CAFnB,EAGZF,KAAKH,OAAOK,MAAP,CAAc,CAAd,CAAN,GAA2BD,KAAKH,OAAOI,MAAP,CAAc,CAAd,CAHnB,EAIbL,OAAOK,MAAP,CAAc,CAAd,KAAoB,CAJP,CAAf;AAOA,SAAOX,eAAe;AAAEY,UAAM,MAAR;AAAgBD;AAAhB,GAAf,CAAP;AACD;;AAED,eAAe,SAASE,WAAT,CAAqBC,IAArB,EAA2B;AACxC,MAAMC,WAAWlB,eAAeiB,IAAf,CAAjB;AADwC,MAGhCE,OAHgC,GAGbD,QAHa,CAGhCC,OAHgC;AAAA,MAGvBC,KAHuB,GAGbF,QAHa,CAGvBE,KAHuB;AAKxC,sBACKF,QADL;AAEEG,mBAAe;AACb,sBAAgBF,QAAQG,IAAR,CAAaC,OADhB;AAEb,4BAAsBJ,QAAQG,IAAR,CAAaE,SAFtB;AAGb,4BAAsBJ,MAAMK,UAHf;AAIb,kCAA4BL,MAAMM,eAJrB;AAKb,2BAAqBP,QAAQI,OAAR,CAAgBI,IALxB;AAMb,4BAAsBR,QAAQI,OAAR,CAAgBK,KANzB;AAOb,2BAAqBR,MAAMS,SAPd;AAQb,wBAAkBV,QAAQM,UAAR,CAAmBK,KARxB;AAUb;AACA,sBAAgBV,MAAMW,IAXT;AAYb,8BAAwBX,MAAMW,IAZjB;AAcb;AACA,+BAAyB,SAfZ;AAiBb;AACA,iCAA2BX,MAAMY,SAAN,CAAgBP,UAlB9B;AAmBb,kCAA4BL,MAAMY,SAAN,CAAgBC,SAnB/B;AAoBb,6BAAuB,4BApBV;AAsBb;AACA,2BAAqBb,MAAMY,SAAN,CAAgBP,UAvBxB;AAwBb,qCAA+BL,MAAMY,SAAN,CAAgBC,SAxBlC;AA0Bb;AACA,4BAAsB,aA3BT;AA4Bb;AACA;AACA,sCAAgChC,KAAKmB,MAAMc,SAAN,CAAgBD,SAArB,EAAgC,GAAhC,CA9BnB;AAgCb;AACA,oCAA8Bd,QAAQG,IAAR,CAAaa,IAjC9B;AAmCb;AACA,8BAAwBlC,KAAKmB,MAAMK,UAAX,EAAuB,IAAvB,CApCX;AAqCb,oCAA8BxB,KAAK,MAAL,EAAa,GAAb,CArCjB;AAsCb,sCAAgCA,KAAKmB,MAAMK,UAAX,EAAuB,GAAvB,CAtCnB;AAuCb,sCAAgCxB,KAAKkB,QAAQG,IAAR,CAAaC,OAAlB,EAA2B,GAA3B,CAvCnB;AAwCb,oCAA8BtB,KAAKkB,QAAQI,OAAR,CAAgBI,IAArB,EAA2B,GAA3B,CAxCjB;AAyCb,qCAA+BtB,MAAMc,QAAQG,IAAR,CAAaC,OAAnB,EAA4BnB,aAA5B,EAA2C,GAA3C;AAzClB;AAFjB;AA8CD","sourcesContent":["import { createMuiTheme } from '@material-ui/core/styles';\nimport { fade, decomposeColor, recomposeColor } from '@material-ui/core/styles/colorManipulator';\n\nconst AVERAGE_COLOR = 'rgb(127, 127, 127)';\n\n// Taken from the color module:\n// https://github.com/Qix-/color/blob/99266cebff6d898fc6a783a483812e322b03d5fa/index.js#L366\n// Without the alpha stuff\nfunction blend(a, b, weight) {\n  const aColor = decomposeColor(a);\n  const bColor = decomposeColor(b);\n\n  const w = (2 * weight) - 1;\n  const w1 = (w + 1) / 2.0;\n  const w2 = 1 - w1;\n\n  const values = [\n    (w1 * aColor.values[0]) + (w2 * bColor.values[0]),\n    (w1 * aColor.values[1]) + (w2 * bColor.values[1]),\n    (w1 * aColor.values[2]) + (w2 * bColor.values[2]),\n    aColor.values[3] || 1,\n  ];\n\n  return recomposeColor({ type: 'rgba', values });\n}\n\nexport default function createTheme(base) {\n  const muiTheme = createMuiTheme(base);\n\n  const { palette, uwave } = muiTheme;\n\n  return {\n    ...muiTheme,\n    cssProperties: {\n      '--text-color': palette.text.primary,\n      '--muted-text-color': palette.text.secondary,\n      '--background-color': uwave.background,\n      '--background-hover-color': uwave.backgroundHover,\n      '--highlight-color': palette.primary.main,\n      '--highbright-color': palette.primary.light,\n      '--scrollbar-color': uwave.scrollbar,\n      '--canvas-color': palette.background.paper,\n\n      // Link colors\n      '--link-color': uwave.link,\n      '--link-visited-color': uwave.link,\n\n      // Footer colours\n      '--footer-border-color': '#303036',\n\n      // Chat colours\n      '--chat-background-color': uwave.sidePanel.background,\n      '--chat-background-color2': uwave.sidePanel.alternate,\n      '--chat-border-color': 'var(--footer-border-color)',\n\n      // User related colours\n      '--user-list-color': uwave.sidePanel.background,\n      '--user-list-alternate-color': uwave.sidePanel.alternate,\n\n      // Playlist colours\n      '--media-list-color': 'transparent',\n      // TODO Name this in some other way. It's used as the menu item focus colour\n      // in various places.\n      '--media-list-alternate-color': fade(uwave.mediaList.alternate, 0.3),\n\n      // Settings panel colours\n      '--settings-help-text-color': palette.text.hint,\n\n      // Computed values, can't do these in CSS\n      '--overlay-background': fade(uwave.background, 0.96),\n      '--chat-suggestion-selected': fade('#fff', 0.1),\n      '--soundcloud-meta-background': fade(uwave.background, 0.3),\n      '--waitlist-locked-text-color': fade(palette.text.primary, 0.7),\n      '--selected-media-row-color': fade(palette.primary.main, 0.7),\n      '--chat-timestamp-text-color': blend(palette.text.primary, AVERAGE_COLOR, 0.7),\n    },\n  };\n}\n"],"file":"createTheme.js"}