{"version":3,"sources":["utils/commands/playback.js"],"names":["register","log","setVolume","mute","unmute","doUpvote","doDownvote","set","setSetting","action","value","volume","parseInt","Number","isFinite","type","toLowerCase"],"mappings":"AAAA,SAASA,QAAT,QAAyB,iBAAzB;AACA,SAASC,GAAT,QAAoB,kCAApB;AACA,SACEC,SADF,EAEEC,IAFF,EAGEC,MAHF,QAIO,sCAJP;AAKA,SACEC,QADF,EAEEC,UAFF,QAGO,kCAHP;AAIA,SAASC,OAAOC,UAAhB,QAAkC,sCAAlC;;AAEAR,SACE,QADF,EAEE,yBAFF,EAGE;AACES,UAAQ,gBAACC,KAAD,EAAW;AACjB,QAAMC,SAASC,SAASF,KAAT,EAAgB,EAAhB,CAAf;AACA,QAAI,CAACG,OAAOC,QAAP,CAAgBH,MAAhB,CAAD,IAA4BA,SAAS,CAArC,IAA0CA,SAAS,GAAvD,EAA4D;AAC1D,aAAOV,IAAI,4CAAJ,CAAP;AACD;AACD,WAAOC,UAAUS,MAAV,CAAP;AACD;AAPH,CAHF;;AAcAX,SAAS,MAAT,EAAiB,kBAAjB,EAAqC;AACnCS,UAAQ;AAAA,WAAMN,MAAN;AAAA;AAD2B,CAArC;;AAIAH,SAAS,QAAT,EAAmB,0BAAnB,EAA+C;AAC7CS,UAAQ;AAAA,WAAML,QAAN;AAAA;AADqC,CAA/C;;AAIAJ,SAAS,QAAT,EAAmB,2BAAnB,EAAgD;AAC9CS,UAAQ;AAAA,WAAMJ,UAAN;AAAA;AADsC,CAAhD;;AAIAL,SAAS,UAAT,EAAqB,6BAArB,EAAoD;AAClDS,UAAQ;AAAA,WAAMH,YAAN;AAAA;AAD0C,CAApD;;AAIAN,SAAS,UAAT,EAAqB,wDAArB,EAA+E;AAC7ES,UAAQ,gBAACM,IAAD,EAAU;AAChB,QAAIA,KAAKC,WAAL,OAAuB,IAA3B,EAAiC;AAC/B,aAAOR,WAAW,cAAX,EAA2B,IAA3B,CAAP;AACD;AACD,QAAIO,KAAKC,WAAL,OAAuB,KAA3B,EAAkC;AAChC,aAAOR,WAAW,cAAX,EAA2B,KAA3B,CAAP;AACD;AACD,WAAOP,IAAI,+EAAJ,CAAP;AACD;AAT4E,CAA/E","file":"playback.js","sourcesContent":["import { register } from '../ChatCommands';\nimport { log } from '../../actions/ChatActionCreators';\nimport {\n  setVolume,\n  mute,\n  unmute\n} from '../../actions/PlaybackActionCreators';\nimport {\n  doUpvote,\n  doDownvote\n} from '../../actions/VoteActionCreators';\nimport { set as setSetting } from '../../actions/SettingsActionCreators';\n\nregister(\n  'volume',\n  'Set the current volume.',\n  {\n    action: (value) => {\n      const volume = parseInt(value, 10);\n      if (!Number.isFinite(volume) || volume < 0 || volume > 100) {\n        return log('Volume must be a number between 0 and 100.');\n      }\n      return setVolume(volume);\n    }\n  }\n);\n\nregister('mute', 'Mute the volume.', {\n  action: () => mute()\n});\n\nregister('unmute', 'Unmute the media volume.', {\n  action: () => unmute()\n});\n\nregister('upvote', 'Upvote the current track.', {\n  action: () => doUpvote()\n});\n\nregister('downvote', 'Downvote the current track.', {\n  action: () => doDownvote()\n});\n\nregister('playback', 'Enable or disable playback. Syntax: \"/playback on|off\"', {\n  action: (type) => {\n    if (type.toLowerCase() === 'on') {\n      return setSetting('videoEnabled', true);\n    }\n    if (type.toLowerCase() === 'off') {\n      return setSetting('videoEnabled', false);\n    }\n    return log('Use \"/playback on\" to enable media playback or \"/playback off\" to disable it.');\n  }\n});\n"]}