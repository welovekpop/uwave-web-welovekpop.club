{"version":3,"sources":["server.js"],"names":["renderToString","mockAsset","modulePath","path","require","resolve","cache","exports","config","sessionKey","Uwave","default","uw","source","build","getComponent","serverRender"],"mappings":";;AAAA,OAAO,kBAAP;AACA,SAASA,cAAT,QAA+B,kBAA/B;;AAEA;AACA,SAASC,SAAT,CAAmBC,UAAnB,EAA+B;AAC7B,MAAMC,OAAOC,QAAQC,OAAR,CAAgBH,UAAhB,CAAb;AACAE,UAAQE,KAAR,CAAcH,IAAd,IAAsB;AACpBI,aAASJ;AADW,GAAtB;AAGD;;AAEDF,UAAU,6BAAV;AACAA,UAAU,8BAAV;AACAA,UAAU,qCAAV;AACAA,UAAU,2BAAV;;AAEA;AAAA,sEAAe,iBAA4BO,MAA5B,EAAoCC,UAApC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACoB,OAAO,SAAP,CADpB;;AAAA;AAAA;AACIC,iBADJ,SACLC,OADK;AAGPC,cAHO,GAGF,IAAIF,KAAJ,CAAUF,MAAV,EAAkBC,UAAlB,CAHE;;AAKb;;AALa,0BAMbG,EANa;AAAA;AAAA,mBAMc,OAAO,mBAAP,CANd;;AAAA;AAAA;;AAAA,wBAMVC,MANU,mBAMH,SANG;;AAAA,0BAObD,EAPa;AAAA;AAAA,mBAOiB,OAAO,sBAAP,CAPjB;;AAAA;AAAA;;AAAA,wBAOVC,MAPU,mBAOH,YAPG;;AAAA;AAAA,mBASPD,GAAGE,KAAH,EATO;;AAAA;AAAA,6CAUNd,eAAeY,GAAGG,YAAH,EAAf,CAVM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAf;;AAAA,WAA8BC,YAA9B;AAAA;AAAA;;AAAA,SAA8BA,YAA9B;AAAA","file":"server.js","sourcesContent":["import 'isomorphic-fetch';\nimport { renderToString } from 'react-dom/server';\n\n// Mock an asset like Webpack's file-loader.\nfunction mockAsset(modulePath) {\n  const path = require.resolve(modulePath);\n  require.cache[path] = {\n    exports: path\n  };\n}\n\nmockAsset('../assets/audio/mention.mp3');\nmockAsset('../assets/img/soundcloud.png');\nmockAsset('../assets/img/soundcloud-inline.png');\nmockAsset('../assets/img/youtube.png');\n\nexport default async function serverRender(config, sessionKey) {\n  const { default: Uwave } = await import('./Uwave');\n\n  const uw = new Uwave(config, sessionKey);\n\n  // Configure the Media sources to be used by this Ã¼Wave client instance.\n  uw.source('youtube', await import('./sources/youtube'));\n  uw.source('soundcloud', await import('./sources/soundcloud'));\n\n  await uw.build();\n  return renderToString(uw.getComponent());\n}\n"]}