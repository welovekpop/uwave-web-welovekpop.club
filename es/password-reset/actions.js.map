{"version":3,"sources":["password-reset/actions.js"],"names":["SET_RESET_KEY","SET_RESET_SUCCESS","post","setResetKey","key","type","payload","resetPasswordComplete","resetPassword","newPassword","dispatch","getState","passwordReset","password","onComplete","onError","error","err"],"mappings":"AAAA,SACEA,aADF,EAEEC,iBAFF,QAGO,aAHP;AAIA,SAASC,IAAT,QAAqB,kCAArB;;AAEA,OAAO,SAASC,WAAT,CAAqBC,GAArB,EAA0B;AAC/B,SAAO;AACLC,UAAML,aADD;AAELM,aAASF;AAFJ,GAAP;AAID;;AAED,OAAO,SAASG,qBAAT,GAAiC;AACtC,SAAO,EAAEF,MAAMJ,iBAAR,EAAP;AACD;;AAED,OAAO,SAASO,aAAT,CAAuBC,WAAvB,EAAoC;AACzC,SAAO,UAACC,QAAD,EAAWC,QAAX,EAAwB;AAAA,QACrBP,GADqB,GACbO,WAAWC,aADE,CACrBR,GADqB;;;AAG7B,WAAOM,SAASR,+BAA6BE,GAA7B,EAAoC,EAAES,UAAUJ,WAAZ,EAApC,EAA+D;AAC7EK,kBAAYP,qBADiE;AAE7EQ,eAAS;AAAA,eAAQ;AACfV,gBAAMJ,iBADS;AAEfe,iBAAO,IAFQ;AAGfV,mBAASW;AAHM,SAAR;AAAA;AAFoE,KAA/D,CAAT,CAAP;AAQD,GAXD;AAYD","file":"actions.js","sourcesContent":["import {\n  SET_RESET_KEY,\n  SET_RESET_SUCCESS,\n} from './constants';\nimport { post } from '../actions/RequestActionCreators';\n\nexport function setResetKey(key) {\n  return {\n    type: SET_RESET_KEY,\n    payload: key,\n  };\n}\n\nexport function resetPasswordComplete() {\n  return { type: SET_RESET_SUCCESS };\n}\n\nexport function resetPassword(newPassword) {\n  return (dispatch, getState) => {\n    const { key } = getState().passwordReset;\n\n    return dispatch(post(`/auth/password/reset/${key}`, { password: newPassword }, {\n      onComplete: resetPasswordComplete,\n      onError: err => ({\n        type: SET_RESET_SUCCESS,\n        error: true,\n        payload: err,\n      }),\n    }));\n  };\n}\n"]}