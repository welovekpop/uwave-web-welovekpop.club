{"version":3,"sources":["sources/youtube/ImportForm.js"],"names":["React","PropTypes","PlaylistIcon","ImportSourceBlock","Form","FormGroup","TextField","Button","getChannelPlaylists","getImportablePlaylist","YoutubeImportForm","handleImportChannel","e","preventDefault","url","channel","value","dispatch","catch","props","onHideImportPanel","onShowImportPanel","handleImportPlaylist","playlist","refChannel","refPlaylist","action","context","store","render","Component","contextTypes","object","propTypes","func","isRequired"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,iBAAP,MAA8B,2DAA9B;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,iCAAtB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;;AAEA,SACEC,mBADF,EAEEC,qBAFF,QAGO,WAHP;;gBAyDqB,Y;eAAyB;;;iBAGnC,S,mBACE,M;;iBAQQ,Y;eAAyB;;;iBAGnC,S,mBACE,M;;IApEQC,iB;;;;;;;;;;;;wJAcnBC,mB,GAAsB,UAACC,CAAD,EAAO;AAC3BA,QAAEC,cAAF;AACA,UAAMC,MAAM,MAAKC,OAAL,CAAaC,KAAzB;AACA,YAAKC,QAAL,CAAcT,oBAAoBM,GAApB,CAAd,EAAwCI,KAAxC,CAA8C,YAAM;AAClD,cAAKC,KAAL,CAAWC,iBAAX;AACD,OAFD;AAGA,YAAKD,KAAL,CAAWE,iBAAX;AACD,K,QAEDC,oB,GAAuB,UAACV,CAAD,EAAO;AAC5BA,QAAEC,cAAF;AACA,UAAMC,MAAM,MAAKS,QAAL,CAAcP,KAA1B;;AAEA,YAAKC,QAAL,CAAcR,sBAAsBK,GAAtB,CAAd,EAA0CI,KAA1C,CAAgD,YAAM;AACpD,cAAKC,KAAL,CAAWC,iBAAX;AACD,OAFD;AAGA,YAAKD,KAAL,CAAWE,iBAAX;AACD,K,QAEDG,U,GAAa,UAACT,OAAD,EAAa;AACxB,YAAKA,OAAL,GAAeA,OAAf;AACD,K,QAEDU,W,GAAc,UAACF,QAAD,EAAc;AAC1B,YAAKA,QAAL,GAAgBA,QAAhB;AACD,K;;;8BA7BDN,Q,qBAASS,M,EAAQ;AACf,WAAO,KAAKC,OAAL,CAAaC,KAAb,CAAmBX,QAAnB,CAA4BS,MAA5B,CAAP;AACD,G;;8BA6BDG,M,qBAAS;AACP,gBACG,iBADH;AAAA,aAEU,SAFV;AAAA,kBAGe;AAHf,oBAKK,IALL;AAAA,gBAKoB,KAAKlB;AALzB,oBAMO,SANP,cAOQ,oBAAC,SAAD;AACE,WAAK,KAAKa,UADZ;AAEE,mBAAY,aAFd;AAGE;AAHF,MAPR,gBAiBK,IAjBL;AAAA,gBAiBoB,KAAKF;AAjBzB,oBAkBO,SAlBP,cAmBQ,oBAAC,SAAD;AACE,WAAK,KAAKG,WADZ;AAEE,mBAAY,cAFd;AAGE;AAHF,MAnBR;AA+BD,G;;;EAzE4CzB,MAAM8B,S;;AAAhCpB,iB,CAMZqB,Y,GAAe;AACpBH,SAAO3B,UAAU+B;AADG,C;eANHtB,iB;AAAAA,iB,CACZuB,S,2CAAY;AACjBZ,qBAAmBpB,UAAUiC,IAAV,CAAeC,UADjB;AAEjBf,qBAAmBnB,UAAUiC,IAAV,CAAeC;AAFjB,C","file":"ImportForm.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport PlaylistIcon from 'material-ui-icons/PlaylistPlay';\nimport ImportSourceBlock from '../../components/PlaylistManager/Import/ImportSourceBlock';\nimport Form from '../../components/Form';\nimport FormGroup from '../../components/Form/Group';\nimport TextField from '../../components/Form/TextField';\nimport Button from '../../components/Form/Button';\n\nimport {\n  getChannelPlaylists,\n  getImportablePlaylist,\n} from './actions';\n\nexport default class YoutubeImportForm extends React.Component {\n  static propTypes = {\n    onShowImportPanel: PropTypes.func.isRequired,\n    onHideImportPanel: PropTypes.func.isRequired,\n  };\n\n  static contextTypes = {\n    store: PropTypes.object,\n  };\n\n  dispatch(action) {\n    return this.context.store.dispatch(action);\n  }\n\n  handleImportChannel = (e) => {\n    e.preventDefault();\n    const url = this.channel.value;\n    this.dispatch(getChannelPlaylists(url)).catch(() => {\n      this.props.onHideImportPanel();\n    });\n    this.props.onShowImportPanel();\n  };\n\n  handleImportPlaylist = (e) => {\n    e.preventDefault();\n    const url = this.playlist.value;\n\n    this.dispatch(getImportablePlaylist(url)).catch(() => {\n      this.props.onHideImportPanel();\n    });\n    this.props.onShowImportPanel();\n  };\n\n  refChannel = (channel) => {\n    this.channel = channel;\n  };\n\n  refPlaylist = (playlist) => {\n    this.playlist = playlist;\n  };\n\n  render() {\n    return (\n      <ImportSourceBlock\n        title=\"YouTube\"\n        sourceType=\"youtube\"\n      >\n        <Form onSubmit={this.handleImportChannel}>\n          <FormGroup>\n            <TextField\n              ref={this.refChannel}\n              placeholder=\"Channel URL\"\n              icon={<PlaylistIcon nativeColor=\"#9f9d9e\" />}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Button>Import From Channel</Button>\n          </FormGroup>\n        </Form>\n        <Form onSubmit={this.handleImportPlaylist}>\n          <FormGroup>\n            <TextField\n              ref={this.refPlaylist}\n              placeholder=\"Playlist URL\"\n              icon={<PlaylistIcon nativeColor=\"#9f9d9e\" />}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Button>Import Playlist</Button>\n          </FormGroup>\n        </Form>\n      </ImportSourceBlock>\n    );\n  }\n}\n"]}